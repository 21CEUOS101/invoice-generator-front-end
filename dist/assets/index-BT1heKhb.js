function ZP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function h1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p1={exports:{}},Kf={},m1={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),YP=Symbol.for("react.portal"),XP=Symbol.for("react.fragment"),JP=Symbol.for("react.strict_mode"),ek=Symbol.for("react.profiler"),tk=Symbol.for("react.provider"),nk=Symbol.for("react.context"),rk=Symbol.for("react.forward_ref"),ik=Symbol.for("react.suspense"),sk=Symbol.for("react.memo"),ok=Symbol.for("react.lazy"),_0=Symbol.iterator;function ak(t){return t===null||typeof t!="object"?null:(t=_0&&t[_0]||t["@@iterator"],typeof t=="function"?t:null)}var g1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y1=Object.assign,v1={};function fa(t,e,n){this.props=t,this.context=e,this.refs=v1,this.updater=n||g1}fa.prototype.isReactComponent={};fa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _1(){}_1.prototype=fa.prototype;function Ry(t,e,n){this.props=t,this.context=e,this.refs=v1,this.updater=n||g1}var Py=Ry.prototype=new _1;Py.constructor=Ry;y1(Py,fa.prototype);Py.isPureReactComponent=!0;var w0=Array.isArray,w1=Object.prototype.hasOwnProperty,ky={current:null},E1={key:!0,ref:!0,__self:!0,__source:!0};function T1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)w1.call(e,r)&&!E1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pc,type:t,key:s,ref:o,props:i,_owner:ky.current}}function lk(t,e){return{$$typeof:Pc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ny(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pc}function ck(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var E0=/\/+/g;function Ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ck(""+t.key):e.toString(36)}function Qu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pc:case YP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ep(o,0):r,w0(i)?(n="",t!=null&&(n=t.replace(E0,"$&/")+"/"),Qu(i,e,n,"",function(c){return c})):i!=null&&(Ny(i)&&(i=lk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",w0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ep(s,a);o+=Qu(s,e,n,l,i)}else if(l=ak(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ep(s,a++),o+=Qu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fu(t,e,n){if(t==null)return t;var r=[],i=0;return Qu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function uk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},Zu={transition:null},dk={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Zu,ReactCurrentOwner:ky};xe.Children={map:fu,forEach:function(t,e,n){fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fu(t,function(){e++}),e},toArray:function(t){return fu(t,function(e){return e})||[]},only:function(t){if(!Ny(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=fa;xe.Fragment=XP;xe.Profiler=ek;xe.PureComponent=Ry;xe.StrictMode=JP;xe.Suspense=ik;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dk;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ky.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)w1.call(e,l)&&!E1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Pc,type:t.type,key:i,ref:s,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:nk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tk,_context:t},t.Consumer=t};xe.createElement=T1;xe.createFactory=function(t){var e=T1.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:rk,render:t}};xe.isValidElement=Ny;xe.lazy=function(t){return{$$typeof:ok,_payload:{_status:-1,_result:t},_init:uk}};xe.memo=function(t,e){return{$$typeof:sk,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Zu.transition;Zu.transition={};try{t()}finally{Zu.transition=e}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(t,e){return tn.current.useCallback(t,e)};xe.useContext=function(t){return tn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return tn.current.useEffect(t,e)};xe.useId=function(){return tn.current.useId()};xe.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return tn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};xe.useRef=function(t){return tn.current.useRef(t)};xe.useState=function(t){return tn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return tn.current.useTransition()};xe.version="18.2.0";m1.exports=xe;var h=m1.exports;const ve=h1(h),S1=ZP({__proto__:null,default:ve},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk=h,hk=Symbol.for("react.element"),pk=Symbol.for("react.fragment"),mk=Object.prototype.hasOwnProperty,gk=fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yk={key:!0,ref:!0,__self:!0,__source:!0};function x1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mk.call(e,r)&&!yk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hk,type:t,key:s,ref:o,props:i,_owner:gk.current}}Kf.Fragment=pk;Kf.jsx=x1;Kf.jsxs=x1;p1.exports=Kf;var E=p1.exports,Dm={},I1={exports:{}},Tn={},b1={exports:{}},C1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,U){var ne=D.length;D.push(U);e:for(;0<ne;){var pe=ne-1>>>1,Te=D[pe];if(0<i(Te,U))D[pe]=U,D[ne]=Te,ne=pe;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var U=D[0],ne=D.pop();if(ne!==U){D[0]=ne;e:for(var pe=0,Te=D.length,ht=Te>>>1;pe<ht;){var it=2*(pe+1)-1,Dt=D[it],Je=it+1,re=D[Je];if(0>i(Dt,ne))Je<Te&&0>i(re,Dt)?(D[pe]=re,D[Je]=ne,pe=Je):(D[pe]=Dt,D[it]=ne,pe=it);else if(Je<Te&&0>i(re,ne))D[pe]=re,D[Je]=ne,pe=Je;else break e}}return U}function i(D,U){var ne=D.sortIndex-U.sortIndex;return ne!==0?ne:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,g=!1,v=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=D)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function T(D){if(m=!1,_(D),!v)if(n(l)!==null)v=!0,ee(S);else{var U=n(c);U!==null&&X(T,U.startTime-D)}}function S(D,U){v=!1,m&&(m=!1,y(A),A=-1),g=!0;var ne=f;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||D&&!J());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,f=d.priorityLevel;var Te=pe(d.expirationTime<=U);U=t.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var ht=!0;else{var it=n(c);it!==null&&X(T,it.startTime-U),ht=!1}return ht}finally{d=null,f=ne,g=!1}}var b=!1,I=null,A=-1,F=5,j=-1;function J(){return!(t.unstable_now()-j<F)}function N(){if(I!==null){var D=t.unstable_now();j=D;var U=!0;try{U=I(!0,D)}finally{U?K():(b=!1,I=null)}}else b=!1}var K;if(typeof p=="function")K=function(){p(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,W=O.port2;O.port1.onmessage=N,K=function(){W.postMessage(null)}}else K=function(){w(N,0)};function ee(D){I=D,b||(b=!0,K())}function X(D,U){A=w(function(){D(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,ee(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var ne=f;f=U;try{return D()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ne=f;f=D;try{return U()}finally{f=ne}},t.unstable_scheduleCallback=function(D,U,ne){var pe=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?pe+ne:pe):ne=pe,D){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ne+Te,D={id:u++,callback:U,priorityLevel:D,startTime:ne,expirationTime:Te,sortIndex:-1},ne>pe?(D.sortIndex=ne,e(c,D),n(l)===null&&D===n(c)&&(m?(y(A),A=-1):m=!0,X(T,ne-pe))):(D.sortIndex=Te,e(l,D),v||g||(v=!0,ee(S))),D},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(D){var U=f;return function(){var ne=f;f=U;try{return D.apply(this,arguments)}finally{f=ne}}}})(C1);b1.exports=C1;var vk=b1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=h,wn=vk;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R1=new Set,Cl={};function Gs(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(Cl[t]=e,t=0;t<e.length;t++)R1.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=Object.prototype.hasOwnProperty,_k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},S0={};function wk(t){return Lm.call(S0,t)?!0:Lm.call(T0,t)?!1:_k.test(t)?S0[t]=!0:(T0[t]=!0,!1)}function Ek(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tk(t,e,n,r){if(e===null||typeof e>"u"||Ek(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Oy=/[\-:]([a-z])/g;function $y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Oy,$y);$t[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Oy,$y);$t[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Oy,$y);$t[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dy(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tk(e,n,i,r)&&(n=null),r||i===null?wk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ii=A1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),vo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),P1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),My=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),N1=Symbol.for("react.offscreen"),x0=Symbol.iterator;function $a(t){return t===null||typeof t!="object"?null:(t=x0&&t[x0]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Tp;function Qa(t){if(Tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var Sp=!1;function xp(t,e){if(!t||Sp)return"";Sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qa(t):""}function Sk(t){switch(t.tag){case 5:return Qa(t.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return t=xp(t.type,!1),t;case 11:return t=xp(t.type.render,!1),t;case 1:return t=xp(t.type,!0),t;default:return""}}function jm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case vo:return"Portal";case Vm:return"Profiler";case Ly:return"StrictMode";case Mm:return"Suspense";case Fm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k1:return(t.displayName||"Context")+".Consumer";case P1:return(t._context.displayName||"Context")+".Provider";case Vy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case My:return e=t.displayName||null,e!==null?e:jm(t.type)||"Memo";case fi:e=t._payload,t=t._init;try{return jm(t(e))}catch{}}return null}function xk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jm(e);case 8:return e===Ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ik(t){var e=O1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pu(t){t._valueTracker||(t._valueTracker=Ik(t))}function $1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Um(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function I0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D1(t,e){e=e.checked,e!=null&&Dy(t,"checked",e,!1)}function Bm(t,e){D1(t,e);var n=Fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zm(t,e.type,n):e.hasOwnProperty("defaultValue")&&zm(t,e.type,Fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zm(t,e,n){(e!=="number"||Rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Za=Array.isArray;function No(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Za(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fi(n)}}function L1(t,e){var n=Fi(e.value),r=Fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mu,M1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bk=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){bk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function F1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function j1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ck=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(t,e){if(e){if(Ck[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Km(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=null;function Fy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qm=null,Oo=null,$o=null;function R0(t){if(t=Oc(t)){if(typeof Qm!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Xf(e),Qm(t.stateNode,t.type,e))}}function U1(t){Oo?$o?$o.push(t):$o=[t]:Oo=t}function B1(){if(Oo){var t=Oo,e=$o;if($o=Oo=null,R0(t),e)for(t=0;t<e.length;t++)R0(e[t])}}function z1(t,e){return t(e)}function W1(){}var Ip=!1;function H1(t,e,n){if(Ip)return t(e,n);Ip=!0;try{return z1(t,e,n)}finally{Ip=!1,(Oo!==null||$o!==null)&&(W1(),B1())}}function Rl(t,e){var n=t.stateNode;if(n===null)return null;var r=Xf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Zm=!1;if(Kr)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){Zm=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{Zm=!1}function Ak(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ll=!1,Pd=null,kd=!1,Ym=null,Rk={onError:function(t){ll=!0,Pd=t}};function Pk(t,e,n,r,i,s,o,a,l){ll=!1,Pd=null,Ak.apply(Rk,arguments)}function kk(t,e,n,r,i,s,o,a,l){if(Pk.apply(this,arguments),ll){if(ll){var c=Pd;ll=!1,Pd=null}else throw Error(L(198));kd||(kd=!0,Ym=c)}}function Qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P0(t){if(Qs(t)!==t)throw Error(L(188))}function Nk(t){var e=t.alternate;if(!e){if(e=Qs(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return P0(i),t;if(s===r)return P0(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function K1(t){return t=Nk(t),t!==null?G1(t):null}function G1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G1(t);if(e!==null)return e;t=t.sibling}return null}var Q1=wn.unstable_scheduleCallback,k0=wn.unstable_cancelCallback,Ok=wn.unstable_shouldYield,$k=wn.unstable_requestPaint,st=wn.unstable_now,Dk=wn.unstable_getCurrentPriorityLevel,jy=wn.unstable_ImmediatePriority,Z1=wn.unstable_UserBlockingPriority,Nd=wn.unstable_NormalPriority,Lk=wn.unstable_LowPriority,Y1=wn.unstable_IdlePriority,Gf=null,fr=null;function Vk(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Gf,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:jk,Mk=Math.log,Fk=Math.LN2;function jk(t){return t>>>=0,t===0?32:31-(Mk(t)/Fk|0)|0}var gu=64,yu=4194304;function Ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Od(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ya(a):(s&=o,s!==0&&(r=Ya(s)))}else o=n&~i,o!==0?r=Ya(o):s!==0&&(r=Ya(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),i=1<<n,r|=t[n],e&=~i;return r}function Uk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Uk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function X1(){var t=gu;return gu<<=1,!(gu&4194240)&&(gu=64),t}function bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function zk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Uy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function J1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eS,By,tS,nS,rS,Jm=!1,vu=[],Ii=null,bi=null,Ci=null,Pl=new Map,kl=new Map,pi=[],Wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N0(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(e.pointerId)}}function La(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Oc(e),e!==null&&By(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Hk(t,e,n,r,i){switch(e){case"focusin":return Ii=La(Ii,t,e,n,r,i),!0;case"dragenter":return bi=La(bi,t,e,n,r,i),!0;case"mouseover":return Ci=La(Ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pl.set(s,La(Pl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kl.set(s,La(kl.get(s)||null,t,e,n,r,i)),!0}return!1}function iS(t){var e=fs(t.target);if(e!==null){var n=Qs(e);if(n!==null){if(e=n.tag,e===13){if(e=q1(n),e!==null){t.blockedOn=e,rS(t.priority,function(){tS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gm=r,n.target.dispatchEvent(r),Gm=null}else return e=Oc(n),e!==null&&By(e),t.blockedOn=n,!1;e.shift()}return!0}function O0(t,e,n){Yu(t)&&n.delete(e)}function qk(){Jm=!1,Ii!==null&&Yu(Ii)&&(Ii=null),bi!==null&&Yu(bi)&&(bi=null),Ci!==null&&Yu(Ci)&&(Ci=null),Pl.forEach(O0),kl.forEach(O0)}function Va(t,e){t.blockedOn===e&&(t.blockedOn=null,Jm||(Jm=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,qk)))}function Nl(t){function e(i){return Va(i,t)}if(0<vu.length){Va(vu[0],t);for(var n=1;n<vu.length;n++){var r=vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ii!==null&&Va(Ii,t),bi!==null&&Va(bi,t),Ci!==null&&Va(Ci,t),Pl.forEach(e),kl.forEach(e),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)iS(n),n.blockedOn===null&&pi.shift()}var Do=ii.ReactCurrentBatchConfig,$d=!0;function Kk(t,e,n,r){var i=De,s=Do.transition;Do.transition=null;try{De=1,zy(t,e,n,r)}finally{De=i,Do.transition=s}}function Gk(t,e,n,r){var i=De,s=Do.transition;Do.transition=null;try{De=4,zy(t,e,n,r)}finally{De=i,Do.transition=s}}function zy(t,e,n,r){if($d){var i=eg(t,e,n,r);if(i===null)Lp(t,e,r,Dd,n),N0(t,r);else if(Hk(i,t,e,n,r))r.stopPropagation();else if(N0(t,r),e&4&&-1<Wk.indexOf(t)){for(;i!==null;){var s=Oc(i);if(s!==null&&eS(s),s=eg(t,e,n,r),s===null&&Lp(t,e,r,Dd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lp(t,e,r,null,n)}}var Dd=null;function eg(t,e,n,r){if(Dd=null,t=Fy(r),t=fs(t),t!==null)if(e=Qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dd=t,null}function sS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dk()){case jy:return 1;case Z1:return 4;case Nd:case Lk:return 16;case Y1:return 536870912;default:return 16}default:return 16}}var wi=null,Wy=null,Xu=null;function oS(){if(Xu)return Xu;var t,e=Wy,n=e.length,r,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xu=i.slice(t,1<r?1-r:void 0)}function Ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _u(){return!0}function $0(){return!1}function Sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_u:$0,this.isPropagationStopped=$0,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),e}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hy=Sn(ha),Nc=Ye({},ha,{view:0,detail:0}),Qk=Sn(Nc),Cp,Ap,Ma,Qf=Ye({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(Cp=t.screenX-Ma.screenX,Ap=t.screenY-Ma.screenY):Ap=Cp=0,Ma=t),Cp)},movementY:function(t){return"movementY"in t?t.movementY:Ap}}),D0=Sn(Qf),Zk=Ye({},Qf,{dataTransfer:0}),Yk=Sn(Zk),Xk=Ye({},Nc,{relatedTarget:0}),Rp=Sn(Xk),Jk=Ye({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),eN=Sn(Jk),tN=Ye({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nN=Sn(tN),rN=Ye({},ha,{data:0}),L0=Sn(rN),iN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oN[t])?!!e[t]:!1}function qy(){return aN}var lN=Ye({},Nc,{key:function(t){if(t.key){var e=iN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qy,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cN=Sn(lN),uN=Ye({},Qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=Sn(uN),dN=Ye({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qy}),fN=Sn(dN),hN=Ye({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),pN=Sn(hN),mN=Ye({},Qf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gN=Sn(mN),yN=[9,13,27,32],Ky=Kr&&"CompositionEvent"in window,cl=null;Kr&&"documentMode"in document&&(cl=document.documentMode);var vN=Kr&&"TextEvent"in window&&!cl,aS=Kr&&(!Ky||cl&&8<cl&&11>=cl),M0=" ",F0=!1;function lS(t,e){switch(t){case"keyup":return yN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wo=!1;function _N(t,e){switch(t){case"compositionend":return cS(e);case"keypress":return e.which!==32?null:(F0=!0,M0);case"textInput":return t=e.data,t===M0&&F0?null:t;default:return null}}function wN(t,e){if(wo)return t==="compositionend"||!Ky&&lS(t,e)?(t=oS(),Xu=Wy=wi=null,wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aS&&e.locale!=="ko"?null:e.data;default:return null}}var EN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EN[t.type]:e==="textarea"}function uS(t,e,n,r){U1(r),e=Ld(e,"onChange"),0<e.length&&(n=new Hy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ul=null,Ol=null;function TN(t){ES(t,0)}function Zf(t){var e=So(t);if($1(e))return t}function SN(t,e){if(t==="change")return e}var dS=!1;if(Kr){var Pp;if(Kr){var kp="oninput"in document;if(!kp){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),kp=typeof U0.oninput=="function"}Pp=kp}else Pp=!1;dS=Pp&&(!document.documentMode||9<document.documentMode)}function B0(){ul&&(ul.detachEvent("onpropertychange",fS),Ol=ul=null)}function fS(t){if(t.propertyName==="value"&&Zf(Ol)){var e=[];uS(e,Ol,t,Fy(t)),H1(TN,e)}}function xN(t,e,n){t==="focusin"?(B0(),ul=e,Ol=n,ul.attachEvent("onpropertychange",fS)):t==="focusout"&&B0()}function IN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zf(Ol)}function bN(t,e){if(t==="click")return Zf(e)}function CN(t,e){if(t==="input"||t==="change")return Zf(e)}function AN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:AN;function $l(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lm.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W0(t,e){var n=z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z0(n)}}function hS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pS(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rd(t.document)}return e}function Gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RN(t){var e=pS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hS(n.ownerDocument.documentElement,n)){if(r!==null&&Gy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=W0(n,s);var o=W0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PN=Kr&&"documentMode"in document&&11>=document.documentMode,Eo=null,tg=null,dl=null,ng=!1;function H0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ng||Eo==null||Eo!==Rd(r)||(r=Eo,"selectionStart"in r&&Gy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&$l(dl,r)||(dl=r,r=Ld(tg,"onSelect"),0<r.length&&(e=new Hy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Eo)))}function wu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var To={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},Np={},mS={};Kr&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Yf(t){if(Np[t])return Np[t];if(!To[t])return t;var e=To[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mS)return Np[t]=e[n];return t}var gS=Yf("animationend"),yS=Yf("animationiteration"),vS=Yf("animationstart"),_S=Yf("transitionend"),wS=new Map,q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){wS.set(t,e),Gs(e,[t])}for(var Op=0;Op<q0.length;Op++){var $p=q0[Op],kN=$p.toLowerCase(),NN=$p[0].toUpperCase()+$p.slice(1);Zi(kN,"on"+NN)}Zi(gS,"onAnimationEnd");Zi(yS,"onAnimationIteration");Zi(vS,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(_S,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ON=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function K0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kk(r,e,void 0,t),t.currentTarget=null}function ES(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;K0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;K0(i,a,c),s=l}}}if(kd)throw t=Ym,kd=!1,Ym=null,t}function ze(t,e){var n=e[ag];n===void 0&&(n=e[ag]=new Set);var r=t+"__bubble";n.has(r)||(TS(e,t,2,!1),n.add(r))}function Dp(t,e,n){var r=0;e&&(r|=4),TS(n,t,r,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Dl(t){if(!t[Eu]){t[Eu]=!0,R1.forEach(function(n){n!=="selectionchange"&&(ON.has(n)||Dp(n,!1,t),Dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,Dp("selectionchange",!1,e))}}function TS(t,e,n,r){switch(sS(e)){case 1:var i=Kk;break;case 4:i=Gk;break;default:i=zy}n=i.bind(null,e,n,t),i=void 0,!Zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}H1(function(){var c=s,u=Fy(n),d=[];e:{var f=wS.get(t);if(f!==void 0){var g=Hy,v=t;switch(t){case"keypress":if(Ju(n)===0)break e;case"keydown":case"keyup":g=cN;break;case"focusin":v="focus",g=Rp;break;case"focusout":v="blur",g=Rp;break;case"beforeblur":case"afterblur":g=Rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=fN;break;case gS:case yS:case vS:g=eN;break;case _S:g=pN;break;case"scroll":g=Qk;break;case"wheel":g=gN;break;case"copy":case"cut":case"paste":g=nN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=V0}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var p=c,_;p!==null;){_=p;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,y!==null&&(T=Rl(p,y),T!=null&&m.push(Ll(p,T,_)))),w)break;p=p.return}0<m.length&&(f=new g(f,v,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Gm&&(v=n.relatedTarget||n.fromElement)&&(fs(v)||v[Gr]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?fs(v):null,v!==null&&(w=Qs(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(m=D0,T="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(m=V0,T="onPointerLeave",y="onPointerEnter",p="pointer"),w=g==null?f:So(g),_=v==null?f:So(v),f=new m(T,p+"leave",g,n,u),f.target=w,f.relatedTarget=_,T=null,fs(u)===c&&(m=new m(y,p+"enter",v,n,u),m.target=_,m.relatedTarget=w,T=m),w=T,g&&v)t:{for(m=g,y=v,p=0,_=m;_;_=ao(_))p++;for(_=0,T=y;T;T=ao(T))_++;for(;0<p-_;)m=ao(m),p--;for(;0<_-p;)y=ao(y),_--;for(;p--;){if(m===y||y!==null&&m===y.alternate)break t;m=ao(m),y=ao(y)}m=null}else m=null;g!==null&&G0(d,f,g,m,!1),v!==null&&w!==null&&G0(d,w,v,m,!0)}}e:{if(f=c?So(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=SN;else if(j0(f))if(dS)S=CN;else{S=IN;var b=xN}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=bN);if(S&&(S=S(t,c))){uS(d,S,n,u);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&zm(f,"number",f.value)}switch(b=c?So(c):window,t){case"focusin":(j0(b)||b.contentEditable==="true")&&(Eo=b,tg=c,dl=null);break;case"focusout":dl=tg=Eo=null;break;case"mousedown":ng=!0;break;case"contextmenu":case"mouseup":case"dragend":ng=!1,H0(d,n,u);break;case"selectionchange":if(PN)break;case"keydown":case"keyup":H0(d,n,u)}var I;if(Ky)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else wo?lS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(aS&&n.locale!=="ko"&&(wo||A!=="onCompositionStart"?A==="onCompositionEnd"&&wo&&(I=oS()):(wi=u,Wy="value"in wi?wi.value:wi.textContent,wo=!0)),b=Ld(c,A),0<b.length&&(A=new L0(A,t,null,n,u),d.push({event:A,listeners:b}),I?A.data=I:(I=cS(n),I!==null&&(A.data=I)))),(I=vN?_N(t,n):wN(t,n))&&(c=Ld(c,"onBeforeInput"),0<c.length&&(u=new L0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}ES(d,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ld(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rl(t,n),s!=null&&r.unshift(Ll(t,s,i)),s=Rl(t,e),s!=null&&r.push(Ll(t,s,i))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Rl(n,s),l!=null&&o.unshift(Ll(n,l,a))):i||(l=Rl(n,s),l!=null&&o.push(Ll(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $N=/\r\n?/g,DN=/\u0000|\uFFFD/g;function Q0(t){return(typeof t=="string"?t:""+t).replace($N,`
`).replace(DN,"")}function Tu(t,e,n){if(e=Q0(e),Q0(t)!==e&&n)throw Error(L(425))}function Vd(){}var rg=null,ig=null;function sg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var og=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,VN=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(t){return Z0.resolve(null).then(t).catch(MN)}:og;function MN(t){setTimeout(function(){throw t})}function Vp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nl(e)}function Ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pa=Math.random().toString(36).slice(2),sr="__reactFiber$"+pa,Vl="__reactProps$"+pa,Gr="__reactContainer$"+pa,ag="__reactEvents$"+pa,FN="__reactListeners$"+pa,jN="__reactHandles$"+pa;function fs(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y0(t);t!==null;){if(n=t[sr])return n;t=Y0(t)}return e}t=n,n=t.parentNode}return null}function Oc(t){return t=t[sr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function So(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Xf(t){return t[Vl]||null}var lg=[],xo=-1;function Yi(t){return{current:t}}function He(t){0>xo||(t.current=lg[xo],lg[xo]=null,xo--)}function je(t,e){xo++,lg[xo]=t.current,t.current=e}var ji={},Ht=Yi(ji),ln=Yi(!1),Rs=ji;function Ko(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function Md(){He(ln),He(Ht)}function X0(t,e,n){if(Ht.current!==ji)throw Error(L(168));je(Ht,e),je(ln,n)}function SS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,xk(t)||"Unknown",i));return Ye({},n,r)}function Fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Rs=Ht.current,je(Ht,t),je(ln,ln.current),!0}function J0(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=SS(t,e,Rs),r.__reactInternalMemoizedMergedChildContext=t,He(ln),He(Ht),je(Ht,t)):He(ln),je(ln,n)}var kr=null,Jf=!1,Mp=!1;function xS(t){kr===null?kr=[t]:kr.push(t)}function UN(t){Jf=!0,xS(t)}function Xi(){if(!Mp&&kr!==null){Mp=!0;var t=0,e=De;try{var n=kr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,Jf=!1}catch(i){throw kr!==null&&(kr=kr.slice(t+1)),Q1(jy,Xi),i}finally{De=e,Mp=!1}}return null}var Io=[],bo=0,jd=null,Ud=0,bn=[],Cn=0,Ps=null,Or=1,$r="";function as(t,e){Io[bo++]=Ud,Io[bo++]=jd,jd=t,Ud=e}function IS(t,e,n){bn[Cn++]=Or,bn[Cn++]=$r,bn[Cn++]=Ps,Ps=t;var r=Or;t=$r;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var s=32-qn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Or=1<<32-qn(e)+i|n<<i|r,$r=s+t}else Or=1<<s|n<<i|r,$r=t}function Qy(t){t.return!==null&&(as(t,1),IS(t,1,0))}function Zy(t){for(;t===jd;)jd=Io[--bo],Io[bo]=null,Ud=Io[--bo],Io[bo]=null;for(;t===Ps;)Ps=bn[--Cn],bn[Cn]=null,$r=bn[--Cn],bn[Cn]=null,Or=bn[--Cn],bn[Cn]=null}var yn=null,mn=null,qe=!1,Bn=null;function bS(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,mn=Ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:Or,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,mn=null,!0):!1;default:return!1}}function cg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ug(t){if(qe){var e=mn;if(e){var n=e;if(!ew(t,e)){if(cg(t))throw Error(L(418));e=Ai(n.nextSibling);var r=yn;e&&ew(t,e)?bS(r,n):(t.flags=t.flags&-4097|2,qe=!1,yn=t)}}else{if(cg(t))throw Error(L(418));t.flags=t.flags&-4097|2,qe=!1,yn=t}}}function tw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function Su(t){if(t!==yn)return!1;if(!qe)return tw(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sg(t.type,t.memoizedProps)),e&&(e=mn)){if(cg(t))throw CS(),Error(L(418));for(;e;)bS(t,e),e=Ai(e.nextSibling)}if(tw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=Ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=yn?Ai(t.stateNode.nextSibling):null;return!0}function CS(){for(var t=mn;t;)t=Ai(t.nextSibling)}function Go(){mn=yn=null,qe=!1}function Yy(t){Bn===null?Bn=[t]:Bn.push(t)}var BN=ii.ReactCurrentBatchConfig;function jn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bd=Yi(null),zd=null,Co=null,Xy=null;function Jy(){Xy=Co=zd=null}function ev(t){var e=Bd.current;He(Bd),t._currentValue=e}function dg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){zd=t,Xy=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(Xy!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(zd===null)throw Error(L(308));Co=t,zd.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var hs=null;function tv(t){hs===null?hs=[t]:hs.push(t)}function AS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function nv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,tv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uy(t,n)}}function nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wd(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(f=e,g=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=Ye({},d,f);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=d}}function rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var PS=new A1.Component().refs;function fg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eh={isMounted:function(t){return(t=t._reactInternals)?Qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=ki(t),s=jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ri(t,s,i),e!==null&&(Kn(e,t,i,r),ed(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=ki(t),s=jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ri(t,s,i),e!==null&&(Kn(e,t,i,r),ed(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=ki(t),i=jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ri(t,i,r),e!==null&&(Kn(e,t,r,n),ed(e,t,r))}};function iw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$l(n,r)||!$l(i,s):!0}function kS(t,e,n){var r=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Dn(s):(i=cn(e)?Rs:Ht.current,r=e.contextTypes,s=(r=r!=null)?Ko(t,i):ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eh.enqueueReplaceState(e,e.state,null)}function hg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=PS,nv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dn(s):(s=cn(e)?Rs:Ht.current,i.context=Ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eh.enqueueReplaceState(i,i.state,null),Wd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===PS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function xu(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ow(t){var e=t._init;return e(t._payload)}function NS(t){function e(y,p){if(t){var _=y.deletions;_===null?(y.deletions=[p],y.flags|=16):_.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Ni(y,p),y.index=0,y.sibling=null,y}function s(y,p,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<p?(y.flags|=2,p):_):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,_,T){return p===null||p.tag!==6?(p=Hp(_,y.mode,T),p.return=y,p):(p=i(p,_),p.return=y,p)}function l(y,p,_,T){var S=_.type;return S===_o?u(y,p,_.props.children,T,_.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fi&&ow(S)===p.type)?(T=i(p,_.props),T.ref=Fa(y,p,_),T.return=y,T):(T=od(_.type,_.key,_.props,null,y.mode,T),T.ref=Fa(y,p,_),T.return=y,T)}function c(y,p,_,T){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=qp(_,y.mode,T),p.return=y,p):(p=i(p,_.children||[]),p.return=y,p)}function u(y,p,_,T,S){return p===null||p.tag!==7?(p=xs(_,y.mode,T,S),p.return=y,p):(p=i(p,_),p.return=y,p)}function d(y,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Hp(""+p,y.mode,_),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case hu:return _=od(p.type,p.key,p.props,null,y.mode,_),_.ref=Fa(y,null,p),_.return=y,_;case vo:return p=qp(p,y.mode,_),p.return=y,p;case fi:var T=p._init;return d(y,T(p._payload),_)}if(Za(p)||$a(p))return p=xs(p,y.mode,_,null),p.return=y,p;xu(y,p)}return null}function f(y,p,_,T){var S=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(y,p,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hu:return _.key===S?l(y,p,_,T):null;case vo:return _.key===S?c(y,p,_,T):null;case fi:return S=_._init,f(y,p,S(_._payload),T)}if(Za(_)||$a(_))return S!==null?null:u(y,p,_,T,null);xu(y,_)}return null}function g(y,p,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(_)||null,a(p,y,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hu:return y=y.get(T.key===null?_:T.key)||null,l(p,y,T,S);case vo:return y=y.get(T.key===null?_:T.key)||null,c(p,y,T,S);case fi:var b=T._init;return g(y,p,_,b(T._payload),S)}if(Za(T)||$a(T))return y=y.get(_)||null,u(p,y,T,S,null);xu(p,T)}return null}function v(y,p,_,T){for(var S=null,b=null,I=p,A=p=0,F=null;I!==null&&A<_.length;A++){I.index>A?(F=I,I=null):F=I.sibling;var j=f(y,I,_[A],T);if(j===null){I===null&&(I=F);break}t&&I&&j.alternate===null&&e(y,I),p=s(j,p,A),b===null?S=j:b.sibling=j,b=j,I=F}if(A===_.length)return n(y,I),qe&&as(y,A),S;if(I===null){for(;A<_.length;A++)I=d(y,_[A],T),I!==null&&(p=s(I,p,A),b===null?S=I:b.sibling=I,b=I);return qe&&as(y,A),S}for(I=r(y,I);A<_.length;A++)F=g(I,y,A,_[A],T),F!==null&&(t&&F.alternate!==null&&I.delete(F.key===null?A:F.key),p=s(F,p,A),b===null?S=F:b.sibling=F,b=F);return t&&I.forEach(function(J){return e(y,J)}),qe&&as(y,A),S}function m(y,p,_,T){var S=$a(_);if(typeof S!="function")throw Error(L(150));if(_=S.call(_),_==null)throw Error(L(151));for(var b=S=null,I=p,A=p=0,F=null,j=_.next();I!==null&&!j.done;A++,j=_.next()){I.index>A?(F=I,I=null):F=I.sibling;var J=f(y,I,j.value,T);if(J===null){I===null&&(I=F);break}t&&I&&J.alternate===null&&e(y,I),p=s(J,p,A),b===null?S=J:b.sibling=J,b=J,I=F}if(j.done)return n(y,I),qe&&as(y,A),S;if(I===null){for(;!j.done;A++,j=_.next())j=d(y,j.value,T),j!==null&&(p=s(j,p,A),b===null?S=j:b.sibling=j,b=j);return qe&&as(y,A),S}for(I=r(y,I);!j.done;A++,j=_.next())j=g(I,y,A,j.value,T),j!==null&&(t&&j.alternate!==null&&I.delete(j.key===null?A:j.key),p=s(j,p,A),b===null?S=j:b.sibling=j,b=j);return t&&I.forEach(function(N){return e(y,N)}),qe&&as(y,A),S}function w(y,p,_,T){if(typeof _=="object"&&_!==null&&_.type===_o&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case hu:e:{for(var S=_.key,b=p;b!==null;){if(b.key===S){if(S=_.type,S===_o){if(b.tag===7){n(y,b.sibling),p=i(b,_.props.children),p.return=y,y=p;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fi&&ow(S)===b.type){n(y,b.sibling),p=i(b,_.props),p.ref=Fa(y,b,_),p.return=y,y=p;break e}n(y,b);break}else e(y,b);b=b.sibling}_.type===_o?(p=xs(_.props.children,y.mode,T,_.key),p.return=y,y=p):(T=od(_.type,_.key,_.props,null,y.mode,T),T.ref=Fa(y,p,_),T.return=y,y=T)}return o(y);case vo:e:{for(b=_.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(y,p.sibling),p=i(p,_.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=qp(_,y.mode,T),p.return=y,y=p}return o(y);case fi:return b=_._init,w(y,p,b(_._payload),T)}if(Za(_))return v(y,p,_,T);if($a(_))return m(y,p,_,T);xu(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,_),p.return=y,y=p):(n(y,p),p=Hp(_,y.mode,T),p.return=y,y=p),o(y)):n(y,p)}return w}var Qo=NS(!0),OS=NS(!1),$c={},hr=Yi($c),Ml=Yi($c),Fl=Yi($c);function ps(t){if(t===$c)throw Error(L(174));return t}function rv(t,e){switch(je(Fl,e),je(Ml,t),je(hr,$c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hm(e,t)}He(hr),je(hr,e)}function Zo(){He(hr),He(Ml),He(Fl)}function $S(t){ps(Fl.current);var e=ps(hr.current),n=Hm(e,t.type);e!==n&&(je(Ml,t),je(hr,n))}function iv(t){Ml.current===t&&(He(hr),He(Ml))}var Qe=Yi(0);function Hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fp=[];function sv(){for(var t=0;t<Fp.length;t++)Fp[t]._workInProgressVersionPrimary=null;Fp.length=0}var td=ii.ReactCurrentDispatcher,jp=ii.ReactCurrentBatchConfig,ks=0,Ze=null,pt=null,Et=null,qd=!1,fl=!1,jl=0,zN=0;function Vt(){throw Error(L(321))}function ov(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function av(t,e,n,r,i,s){if(ks=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,td.current=t===null||t.memoizedState===null?KN:GN,t=n(r,i),fl){s=0;do{if(fl=!1,jl=0,25<=s)throw Error(L(301));s+=1,Et=pt=null,e.updateQueue=null,td.current=QN,t=n(r,i)}while(fl)}if(td.current=Kd,e=pt!==null&&pt.next!==null,ks=0,Et=pt=Ze=null,qd=!1,e)throw Error(L(300));return t}function lv(){var t=jl!==0;return jl=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ze.memoizedState=Et=t:Et=Et.next=t,Et}function Ln(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Et===null?Ze.memoizedState:Et.next;if(e!==null)Et=e,pt=t;else{if(t===null)throw Error(L(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Ze.memoizedState=Et=t:Et=Et.next=t}return Et}function Ul(t,e){return typeof e=="function"?e(t):e}function Up(t){var e=Ln(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ks&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ze.lanes|=u,Ns|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bp(t){var e=Ln(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function DS(){}function LS(t,e){var n=Ze,r=Ln(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,cv(FS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Bl(9,MS.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(L(349));ks&30||VS(n,e,i)}return i}function VS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MS(t,e,n,r){e.value=n,e.getSnapshot=r,jS(e)&&US(t)}function FS(t,e,n){return n(function(){jS(e)&&US(t)})}function jS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function US(t){var e=Qr(t,1);e!==null&&Kn(e,t,1,-1)}function aw(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:t},e.queue=t,t=t.dispatch=qN.bind(null,Ze,t),[e.memoizedState,t]}function Bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BS(){return Ln().memoizedState}function nd(t,e,n,r){var i=ir();Ze.flags|=t,i.memoizedState=Bl(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&ov(r,o.deps)){i.memoizedState=Bl(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=Bl(1|e,n,s,r)}function lw(t,e){return nd(8390656,8,t,e)}function cv(t,e){return th(2048,8,t,e)}function zS(t,e){return th(4,2,t,e)}function WS(t,e){return th(4,4,t,e)}function HS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qS(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,HS.bind(null,e,t),n)}function uv(){}function KS(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ov(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GS(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ov(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QS(t,e,n){return ks&21?(Yn(n,e)||(n=X1(),Ze.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function WN(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=jp.transition;jp.transition={};try{t(!1),e()}finally{De=n,jp.transition=r}}function ZS(){return Ln().memoizedState}function HN(t,e,n){var r=ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YS(t))XS(e,n);else if(n=AS(t,e,n,r),n!==null){var i=Xt();Kn(n,t,r,i),JS(n,e,r)}}function qN(t,e,n){var r=ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YS(t))XS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(i.next=i,tv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=AS(t,e,i,r),n!==null&&(i=Xt(),Kn(n,t,r,i),JS(n,e,r))}}function YS(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function XS(t,e){fl=qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uy(t,n)}}var Kd={readContext:Dn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},KN={readContext:Dn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:lw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nd(4194308,4,HS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return nd(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HN.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:aw,useDebugValue:uv,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=aw(!1),e=t[0];return t=WN.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=ir();if(qe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Tt===null)throw Error(L(349));ks&30||VS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lw(FS.bind(null,r,s,t),[t]),r.flags|=2048,Bl(9,MS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ir(),e=Tt.identifierPrefix;if(qe){var n=$r,r=Or;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GN={readContext:Dn,useCallback:KS,useContext:Dn,useEffect:cv,useImperativeHandle:qS,useInsertionEffect:zS,useLayoutEffect:WS,useMemo:GS,useReducer:Up,useRef:BS,useState:function(){return Up(Ul)},useDebugValue:uv,useDeferredValue:function(t){var e=Ln();return QS(e,pt.memoizedState,t)},useTransition:function(){var t=Up(Ul)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:DS,useSyncExternalStore:LS,useId:ZS,unstable_isNewReconciler:!1},QN={readContext:Dn,useCallback:KS,useContext:Dn,useEffect:cv,useImperativeHandle:qS,useInsertionEffect:zS,useLayoutEffect:WS,useMemo:GS,useReducer:Bp,useRef:BS,useState:function(){return Bp(Ul)},useDebugValue:uv,useDeferredValue:function(t){var e=Ln();return pt===null?e.memoizedState=t:QS(e,pt.memoizedState,t)},useTransition:function(){var t=Bp(Ul)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:DS,useSyncExternalStore:LS,useId:ZS,unstable_isNewReconciler:!1};function Yo(t,e){try{var n="",r=e;do n+=Sk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZN=typeof WeakMap=="function"?WeakMap:Map;function ex(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qd||(Qd=!0,xg=r),pg(t,e)},n}function tx(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pg(t,e),typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uO.bind(null,t,e,n),e.then(t,t))}function uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Ri(n,e,1))),n.lanes|=1),t)}var YN=ii.ReactCurrentOwner,an=!1;function Qt(t,e,n,r){e.child=t===null?OS(e,null,n,r):Qo(e,t.child,n,r)}function fw(t,e,n,r,i){n=n.render;var s=e.ref;return Lo(e,i),r=av(t,e,n,r,s,i),n=lv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(qe&&n&&Qy(e),e.flags|=1,Qt(t,e,r,i),e.child)}function hw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!vv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nx(t,e,s,r,i)):(t=od(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(o,r)&&t.ref===e.ref)return Zr(t,e,i)}return e.flags|=1,t=Ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function nx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($l(s,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Zr(t,e,i)}return mg(t,e,n,r,i)}function rx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ro,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Ro,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(Ro,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(Ro,hn),hn|=r;return Qt(t,e,i,n),e.child}function ix(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mg(t,e,n,r,i){var s=cn(n)?Rs:Ht.current;return s=Ko(e,s),Lo(e,i),n=av(t,e,n,r,s,i),r=lv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(qe&&r&&Qy(e),e.flags|=1,Qt(t,e,n,i),e.child)}function pw(t,e,n,r,i){if(cn(n)){var s=!0;Fd(e)}else s=!1;if(Lo(e,i),e.stateNode===null)rd(t,e),kS(e,n,r),hg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dn(c):(c=cn(n)?Rs:Ht.current,c=Ko(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sw(e,o,r,c),hi=!1;var f=e.memoizedState;o.state=f,Wd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||ln.current||hi?(typeof u=="function"&&(fg(e,n,u,r),l=e.memoizedState),(a=hi||iw(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,RS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:jn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=cn(n)?Rs:Ht.current,l=Ko(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&sw(e,o,r,l),hi=!1,f=e.memoizedState,o.state=f,Wd(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||ln.current||hi?(typeof g=="function"&&(fg(e,n,g,r),v=e.memoizedState),(c=hi||iw(e,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return gg(t,e,n,r,s,i)}function gg(t,e,n,r,i,s){ix(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&J0(e,n,!1),Zr(t,e,s);r=e.stateNode,YN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,s),e.child=Qo(e,null,a,s)):Qt(t,e,a,s),e.memoizedState=r.state,i&&J0(e,n,!0),e.child}function sx(t){var e=t.stateNode;e.pendingContext?X0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X0(t,e.context,!1),rv(t,e.containerInfo)}function mw(t,e,n,r,i){return Go(),Yy(i),e.flags|=256,Qt(t,e,n,r),e.child}var yg={dehydrated:null,treeContext:null,retryLane:0};function vg(t){return{baseLanes:t,cachePool:null,transitions:null}}function ox(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Qe,i&1),t===null)return ug(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ih(o,r,0,null),t=xs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vg(n),e.memoizedState=yg,t):dv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ni(a,s):(s=xs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=yg,r}return s=t.child,t=s.sibling,r=Ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dv(t,e){return e=ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Iu(t,e,n,r){return r!==null&&Yy(r),Qo(e,t.child,null,n),t=dv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zp(Error(L(422))),Iu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ih({mode:"visible",children:r.children},i,0,null),s=xs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=vg(o),e.memoizedState=yg,s);if(!(e.mode&1))return Iu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=zp(s,r,void 0),Iu(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(t,i),Kn(r,t,i,-1))}return yv(),r=zp(Error(L(421))),Iu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mn=Ai(i.nextSibling),yn=e,qe=!0,Bn=null,t!==null&&(bn[Cn++]=Or,bn[Cn++]=$r,bn[Cn++]=Ps,Or=t.id,$r=t.overflow,Ps=e),e=dv(e,r.children),e.flags|=4096,e)}function gw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dg(t.return,e,n)}function Wp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ax(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gw(t,n,e);else if(t.tag===19)gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wp(e,!0,n,null,s);break;case"together":Wp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JN(t,e,n){switch(e.tag){case 3:sx(e),Go();break;case 5:$S(e);break;case 1:cn(e.type)&&Fd(e);break;case 4:rv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(Bd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?ox(t,e,n):(je(Qe,Qe.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);je(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ax(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,rx(t,e,n)}return Zr(t,e,n)}var lx,_g,cx,ux;lx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_g=function(){};cx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ps(hr.current);var s=null;switch(n){case"input":i=Um(t,i),r=Um(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Wm(t,i),r=Wm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}qm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ux=function(t,e,n,r){n!==r&&(e.flags|=4)};function ja(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eO(t,e,n){var r=e.pendingProps;switch(Zy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return cn(e.type)&&Md(),Mt(e),null;case 3:return r=e.stateNode,Zo(),He(ln),He(Ht),sv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(Cg(Bn),Bn=null))),_g(t,e),Mt(e),null;case 5:iv(e);var i=ps(Fl.current);if(n=e.type,t!==null&&e.stateNode!=null)cx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return Mt(e),null}if(t=ps(hr.current),Su(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[Vl]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Xa.length;i++)ze(Xa[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":I0(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":C0(r,s),ze("invalid",r)}qm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tu(r.textContent,a,t),i=["children",""+a]):Cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":pu(r),b0(r,s,!0);break;case"textarea":pu(r),A0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[Vl]=r,lx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Km(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xa.length;i++)ze(Xa[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":I0(t,r),i=Um(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),ze("invalid",t);break;case"textarea":C0(t,r),i=Wm(t,r),ze("invalid",t);break;default:i=r}qm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?j1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Al(t,l):typeof l=="number"&&Al(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&Dy(t,s,l,o))}switch(n){case"input":pu(t),b0(t,r,!1);break;case"textarea":pu(t),A0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?No(t,!!r.multiple,s,!1):r.defaultValue!=null&&No(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)ux(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=ps(Fl.current),ps(hr.current),Su(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Tu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Mt(e),null;case 13:if(He(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&mn!==null&&e.mode&1&&!(e.flags&128))CS(),Go(),e.flags|=98560,s=!1;else if(s=Su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[sr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else Bn!==null&&(Cg(Bn),Bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?gt===0&&(gt=3):yv())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Zo(),_g(t,e),t===null&&Dl(e.stateNode.containerInfo),Mt(e),null;case 10:return ev(e.type._context),Mt(e),null;case 17:return cn(e.type)&&Md(),Mt(e),null;case 19:if(He(Qe),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ja(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hd(t),o!==null){for(e.flags|=128,ja(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>Xo&&(e.flags|=128,r=!0,ja(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ja(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Mt(e),null}else 2*st()-s.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,ja(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Qe.current,je(Qe,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return gv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function tO(t,e){switch(Zy(e),e.tag){case 1:return cn(e.type)&&Md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zo(),He(ln),He(Ht),sv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iv(e),null;case 13:if(He(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Qe),null;case 4:return Zo(),null;case 10:return ev(e.type._context),null;case 22:case 23:return gv(),null;case 24:return null;default:return null}}var bu=!1,Ut=!1,nO=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function wg(t,e,n){try{n()}catch(r){tt(t,e,r)}}var yw=!1;function rO(t,e){if(rg=$d,t=pS(),Gy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ig={focusedElem:t,selectionRange:n},$d=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,w=v.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:jn(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(T){tt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=yw,yw=!1,v}function hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wg(e,n,s)}i=i.next}while(i!==r)}}function nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Eg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dx(t){var e=t.alternate;e!==null&&(t.alternate=null,dx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Vl],delete e[ag],delete e[FN],delete e[jN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fx(t){return t.tag===5||t.tag===3||t.tag===4}function vw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}function Sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sg(t,e,n),t=t.sibling;t!==null;)Sg(t,e,n),t=t.sibling}var Ct=null,Un=!1;function oi(t,e,n){for(n=n.child;n!==null;)hx(t,e,n),n=n.sibling}function hx(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Gf,n)}catch{}switch(n.tag){case 5:Ut||Ao(n,e);case 6:var r=Ct,i=Un;Ct=null,oi(t,e,n),Ct=r,Un=i,Ct!==null&&(Un?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Un?(t=Ct,n=n.stateNode,t.nodeType===8?Vp(t.parentNode,n):t.nodeType===1&&Vp(t,n),Nl(t)):Vp(Ct,n.stateNode));break;case 4:r=Ct,i=Un,Ct=n.stateNode.containerInfo,Un=!0,oi(t,e,n),Ct=r,Un=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wg(n,e,o),i=i.next}while(i!==r)}oi(t,e,n);break;case 1:if(!Ut&&(Ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,oi(t,e,n),Ut=r):oi(t,e,n);break;default:oi(t,e,n)}}function _w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nO),e.forEach(function(r){var i=fO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Un=!1;break e;case 3:Ct=a.stateNode.containerInfo,Un=!0;break e;case 4:Ct=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(Ct===null)throw Error(L(160));hx(s,o,i),Ct=null,Un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)px(e,t),e=e.sibling}function px(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),rr(t),r&4){try{hl(3,t,t.return),nh(3,t)}catch(m){tt(t,t.return,m)}try{hl(5,t,t.return)}catch(m){tt(t,t.return,m)}}break;case 1:Fn(e,t),rr(t),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(Fn(e,t),rr(t),r&512&&n!==null&&Ao(n,n.return),t.flags&32){var i=t.stateNode;try{Al(i,"")}catch(m){tt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&D1(i,s),Km(a,o);var c=Km(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?j1(i,d):u==="dangerouslySetInnerHTML"?M1(i,d):u==="children"?Al(i,d):Dy(i,u,d,c)}switch(a){case"input":Bm(i,s);break;case"textarea":L1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?No(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?No(i,!!s.multiple,s.defaultValue,!0):No(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vl]=s}catch(m){tt(t,t.return,m)}}break;case 6:if(Fn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){tt(t,t.return,m)}}break;case 3:if(Fn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(e.containerInfo)}catch(m){tt(t,t.return,m)}break;case 4:Fn(e,t),rr(t);break;case 13:Fn(e,t),rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pv=st())),r&4&&_w(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(c=Ut)||u,Fn(e,t),Ut=c):Fn(e,t),rr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Y=t,u=t.child;u!==null;){for(d=Y=u;Y!==null;){switch(f=Y,g=f.child,f.tag){case 0:case 11:case 14:case 15:hl(4,f,f.return);break;case 1:Ao(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){tt(r,n,m)}}break;case 5:Ao(f,f.return);break;case 22:if(f.memoizedState!==null){Ew(d);continue}}g!==null?(g.return=f,Y=g):Ew(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=F1("display",o))}catch(m){tt(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){tt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fn(e,t),rr(t),r&4&&_w(t);break;case 21:break;default:Fn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fx(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Al(i,""),r.flags&=-33);var s=vw(t);Sg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vw(t);Tg(t,a,o);break;default:throw Error(L(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iO(t,e,n){Y=t,mx(t)}function mx(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=bu;var c=Ut;if(bu=o,(Ut=l)&&!c)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Tw(i):l!==null?(l.return=o,Y=l):Tw(i);for(;s!==null;)Y=s,mx(s),s=s.sibling;Y=i,bu=a,Ut=c}ww(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):ww(t)}}function ww(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||nh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Nl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ut||e.flags&512&&Eg(e)}catch(f){tt(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Ew(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Tw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nh(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{Eg(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{Eg(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var sO=Math.ceil,Gd=ii.ReactCurrentDispatcher,fv=ii.ReactCurrentOwner,Pn=ii.ReactCurrentBatchConfig,Ae=0,Tt=null,ct=null,kt=0,hn=0,Ro=Yi(0),gt=0,zl=null,Ns=0,rh=0,hv=0,pl=null,sn=null,pv=0,Xo=1/0,Rr=null,Qd=!1,xg=null,Pi=null,Cu=!1,Ei=null,Zd=0,ml=0,Ig=null,id=-1,sd=0;function Xt(){return Ae&6?st():id!==-1?id:id=st()}function ki(t){return t.mode&1?Ae&2&&kt!==0?kt&-kt:BN.transition!==null?(sd===0&&(sd=X1()),sd):(t=De,t!==0||(t=window.event,t=t===void 0?16:sS(t.type)),t):1}function Kn(t,e,n,r){if(50<ml)throw ml=0,Ig=null,Error(L(185));kc(t,n,r),(!(Ae&2)||t!==Tt)&&(t===Tt&&(!(Ae&2)&&(rh|=n),gt===4&&mi(t,kt)),un(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Xo=st()+500,Jf&&Xi()))}function un(t,e){var n=t.callbackNode;Bk(t,e);var r=Od(t,t===Tt?kt:0);if(r===0)n!==null&&k0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k0(n),e===1)t.tag===0?UN(Sw.bind(null,t)):xS(Sw.bind(null,t)),VN(function(){!(Ae&6)&&Xi()}),n=null;else{switch(J1(r)){case 1:n=jy;break;case 4:n=Z1;break;case 16:n=Nd;break;case 536870912:n=Y1;break;default:n=Nd}n=Sx(n,gx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gx(t,e){if(id=-1,sd=0,Ae&6)throw Error(L(327));var n=t.callbackNode;if(Vo()&&t.callbackNode!==n)return null;var r=Od(t,t===Tt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yd(t,r);else{e=r;var i=Ae;Ae|=2;var s=vx();(Tt!==t||kt!==e)&&(Rr=null,Xo=st()+500,Ss(t,e));do try{lO();break}catch(a){yx(t,a)}while(!0);Jy(),Gd.current=s,Ae=i,ct!==null?e=0:(Tt=null,kt=0,e=gt)}if(e!==0){if(e===2&&(i=Xm(t),i!==0&&(r=i,e=bg(t,i))),e===1)throw n=zl,Ss(t,0),mi(t,r),un(t,st()),n;if(e===6)mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!oO(i)&&(e=Yd(t,r),e===2&&(s=Xm(t),s!==0&&(r=s,e=bg(t,s))),e===1))throw n=zl,Ss(t,0),mi(t,r),un(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:ls(t,sn,Rr);break;case 3:if(mi(t,r),(r&130023424)===r&&(e=pv+500-st(),10<e)){if(Od(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=og(ls.bind(null,t,sn,Rr),e);break}ls(t,sn,Rr);break;case 4:if(mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sO(r/1960))-r,10<r){t.timeoutHandle=og(ls.bind(null,t,sn,Rr),r);break}ls(t,sn,Rr);break;case 5:ls(t,sn,Rr);break;default:throw Error(L(329))}}}return un(t,st()),t.callbackNode===n?gx.bind(null,t):null}function bg(t,e){var n=pl;return t.current.memoizedState.isDehydrated&&(Ss(t,e).flags|=256),t=Yd(t,e),t!==2&&(e=sn,sn=n,e!==null&&Cg(e)),t}function Cg(t){sn===null?sn=t:sn.push.apply(sn,t)}function oO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e){for(e&=~hv,e&=~rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function Sw(t){if(Ae&6)throw Error(L(327));Vo();var e=Od(t,0);if(!(e&1))return un(t,st()),null;var n=Yd(t,e);if(t.tag!==0&&n===2){var r=Xm(t);r!==0&&(e=r,n=bg(t,r))}if(n===1)throw n=zl,Ss(t,0),mi(t,e),un(t,st()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ls(t,sn,Rr),un(t,st()),null}function mv(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Xo=st()+500,Jf&&Xi())}}function Os(t){Ei!==null&&Ei.tag===0&&!(Ae&6)&&Vo();var e=Ae;Ae|=1;var n=Pn.transition,r=De;try{if(Pn.transition=null,De=1,t)return t()}finally{De=r,Pn.transition=n,Ae=e,!(Ae&6)&&Xi()}}function gv(){hn=Ro.current,He(Ro)}function Ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LN(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Zy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Md();break;case 3:Zo(),He(ln),He(Ht),sv();break;case 5:iv(r);break;case 4:Zo();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:ev(r.type._context);break;case 22:case 23:gv()}n=n.return}if(Tt=t,ct=t=Ni(t.current,null),kt=hn=e,gt=0,zl=null,hv=rh=Ns=0,sn=pl=null,hs!==null){for(e=0;e<hs.length;e++)if(n=hs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hs=null}return t}function yx(t,e){do{var n=ct;try{if(Jy(),td.current=Kd,qd){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qd=!1}if(ks=0,Et=pt=Ze=null,fl=!1,jl=0,fv.current=null,n===null||n.return===null){gt=1,zl=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=uw(o);if(g!==null){g.flags&=-257,dw(g,o,a,s,e),g.mode&1&&cw(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){cw(s,c,e),yv();break e}l=Error(L(426))}}else if(qe&&a.mode&1){var w=uw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),dw(w,o,a,s,e),Yy(Yo(l,a));break e}}s=l=Yo(l,a),gt!==4&&(gt=2),pl===null?pl=[s]:pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=ex(s,l,e);nw(s,y);break e;case 1:a=l;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pi===null||!Pi.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=tx(s,a,e);nw(s,T);break e}}s=s.return}while(s!==null)}wx(n)}catch(S){e=S,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function vx(){var t=Gd.current;return Gd.current=Kd,t===null?Kd:t}function yv(){(gt===0||gt===3||gt===2)&&(gt=4),Tt===null||!(Ns&268435455)&&!(rh&268435455)||mi(Tt,kt)}function Yd(t,e){var n=Ae;Ae|=2;var r=vx();(Tt!==t||kt!==e)&&(Rr=null,Ss(t,e));do try{aO();break}catch(i){yx(t,i)}while(!0);if(Jy(),Ae=n,Gd.current=r,ct!==null)throw Error(L(261));return Tt=null,kt=0,gt}function aO(){for(;ct!==null;)_x(ct)}function lO(){for(;ct!==null&&!Ok();)_x(ct)}function _x(t){var e=Tx(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?wx(t):ct=e,fv.current=null}function wx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tO(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ct=null;return}}else if(n=eO(n,e,hn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);gt===0&&(gt=5)}function ls(t,e,n){var r=De,i=Pn.transition;try{Pn.transition=null,De=1,cO(t,e,n,r)}finally{Pn.transition=i,De=r}return null}function cO(t,e,n,r){do Vo();while(Ei!==null);if(Ae&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zk(t,s),t===Tt&&(ct=Tt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cu||(Cu=!0,Sx(Nd,function(){return Vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var o=De;De=1;var a=Ae;Ae|=4,fv.current=null,rO(t,n),px(n,t),RN(ig),$d=!!rg,ig=rg=null,t.current=n,iO(n),$k(),Ae=a,De=o,Pn.transition=s}else t.current=n;if(Cu&&(Cu=!1,Ei=t,Zd=i),s=t.pendingLanes,s===0&&(Pi=null),Vk(n.stateNode),un(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qd)throw Qd=!1,t=xg,xg=null,t;return Zd&1&&t.tag!==0&&Vo(),s=t.pendingLanes,s&1?t===Ig?ml++:(ml=0,Ig=t):ml=0,Xi(),null}function Vo(){if(Ei!==null){var t=J1(Zd),e=Pn.transition,n=De;try{if(Pn.transition=null,De=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,Zd=0,Ae&6)throw Error(L(331));var i=Ae;for(Ae|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var u=Y;switch(u.tag){case 0:case 11:case 15:hl(8,u,s)}var d=u.child;if(d!==null)d.return=u,Y=d;else for(;Y!==null;){u=Y;var f=u.sibling,g=u.return;if(dx(u),u===c){Y=null;break}if(f!==null){f.return=g,Y=f;break}Y=g}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Y=y;break e}Y=s.return}}var p=t.current;for(Y=p;Y!==null;){o=Y;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Y=_;else e:for(o=p;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nh(9,a)}}catch(S){tt(a,a.return,S)}if(a===o){Y=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Y=T;break e}Y=a.return}}if(Ae=i,Xi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Gf,t)}catch{}r=!0}return r}finally{De=n,Pn.transition=e}}return!1}function xw(t,e,n){e=Yo(n,e),e=ex(t,e,1),t=Ri(t,e,1),e=Xt(),t!==null&&(kc(t,1,e),un(t,e))}function tt(t,e,n){if(t.tag===3)xw(t,t,n);else for(;e!==null;){if(e.tag===3){xw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){t=Yo(n,t),t=tx(e,t,1),e=Ri(e,t,1),t=Xt(),e!==null&&(kc(e,1,t),un(e,t));break}}e=e.return}}function uO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(kt&n)===n&&(gt===4||gt===3&&(kt&130023424)===kt&&500>st()-pv?Ss(t,0):hv|=n),un(t,e)}function Ex(t,e){e===0&&(t.mode&1?(e=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):e=1);var n=Xt();t=Qr(t,e),t!==null&&(kc(t,e,n),un(t,n))}function dO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ex(t,n)}function fO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),Ex(t,n)}var Tx;Tx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,JN(t,e,n);an=!!(t.flags&131072)}else an=!1,qe&&e.flags&1048576&&IS(e,Ud,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rd(t,e),t=e.pendingProps;var i=Ko(e,Ht.current);Lo(e,n),i=av(null,e,r,t,i,n);var s=lv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(s=!0,Fd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nv(e),i.updater=eh,e.stateNode=i,i._reactInternals=e,hg(e,r,t,n),e=gg(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&Qy(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pO(r),t=jn(r,t),i){case 0:e=mg(null,e,r,t,n);break e;case 1:e=pw(null,e,r,t,n);break e;case 11:e=fw(null,e,r,t,n);break e;case 14:e=hw(null,e,r,jn(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),mg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),pw(t,e,r,i,n);case 3:e:{if(sx(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,RS(t,e),Wd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yo(Error(L(423)),e),e=mw(t,e,r,n,i);break e}else if(r!==i){i=Yo(Error(L(424)),e),e=mw(t,e,r,n,i);break e}else for(mn=Ai(e.stateNode.containerInfo.firstChild),yn=e,qe=!0,Bn=null,n=OS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===i){e=Zr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return $S(e),t===null&&ug(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sg(r,i)?o=null:s!==null&&sg(r,s)&&(e.flags|=32),ix(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&ug(e),null;case 13:return ox(t,e,n);case 4:return rv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),fw(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(Bd,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!ln.current){e=Zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=jr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lo(e,n),i=Dn(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=jn(r,e.pendingProps),i=jn(r.type,i),hw(t,e,r,i,n);case 15:return nx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),rd(t,e),e.tag=1,cn(r)?(t=!0,Fd(e)):t=!1,Lo(e,n),kS(e,r,i),hg(e,r,i,n),gg(null,e,r,!0,t,n);case 19:return ax(t,e,n);case 22:return rx(t,e,n)}throw Error(L(156,e.tag))};function Sx(t,e){return Q1(t,e)}function hO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new hO(t,e,n,r)}function vv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pO(t){if(typeof t=="function")return vv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vy)return 11;if(t===My)return 14}return 2}function Ni(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function od(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")vv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _o:return xs(n.children,i,s,e);case Ly:o=8,i|=8;break;case Vm:return t=Rn(12,n,e,i|2),t.elementType=Vm,t.lanes=s,t;case Mm:return t=Rn(13,n,e,i),t.elementType=Mm,t.lanes=s,t;case Fm:return t=Rn(19,n,e,i),t.elementType=Fm,t.lanes=s,t;case N1:return ih(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P1:o=10;break e;case k1:o=9;break e;case Vy:o=11;break e;case My:o=14;break e;case fi:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xs(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function ih(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=N1,t.lanes=n,t.stateNode={isHidden:!1},t}function Hp(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function qp(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bp(0),this.expirationTimes=bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _v(t,e,n,r,i,s,o,a,l){return t=new mO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nv(s),t}function gO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xx(t){if(!t)return ji;t=t._reactInternals;e:{if(Qs(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(cn(n))return SS(t,n,e)}return e}function Ix(t,e,n,r,i,s,o,a,l){return t=_v(n,r,!0,t,i,s,o,a,l),t.context=xx(null),n=t.current,r=Xt(),i=ki(n),s=jr(r,i),s.callback=e??null,Ri(n,s,i),t.current.lanes=i,kc(t,i,r),un(t,r),t}function sh(t,e,n,r){var i=e.current,s=Xt(),o=ki(i);return n=xx(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ri(i,e,o),t!==null&&(Kn(t,i,o,s),ed(t,i,o)),o}function Xd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wv(t,e){Iw(t,e),(t=t.alternate)&&Iw(t,e)}function yO(){return null}var bx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ev(t){this._internalRoot=t}oh.prototype.render=Ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));sh(t,e,null,null)};oh.prototype.unmount=Ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){sh(null,t,null,null)}),e[Gr]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=nS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pi.length&&e!==0&&e<pi[n].priority;n++);pi.splice(n,0,t),n===0&&iS(t)}};function Tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bw(){}function vO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Xd(o);s.call(c)}}var o=Ix(e,r,t,0,null,!1,!1,"",bw);return t._reactRootContainer=o,t[Gr]=o.current,Dl(t.nodeType===8?t.parentNode:t),Os(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xd(l);a.call(c)}}var l=_v(t,0,!1,null,null,!1,!1,"",bw);return t._reactRootContainer=l,t[Gr]=l.current,Dl(t.nodeType===8?t.parentNode:t),Os(function(){sh(e,l,n,r)}),l}function lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xd(o);a.call(l)}}sh(e,o,t,i)}else o=vO(n,e,t,i,r);return Xd(o)}eS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ya(e.pendingLanes);n!==0&&(Uy(e,n|1),un(e,st()),!(Ae&6)&&(Xo=st()+500,Xi()))}break;case 13:Os(function(){var r=Qr(t,1);if(r!==null){var i=Xt();Kn(r,t,1,i)}}),wv(t,1)}};By=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=Xt();Kn(e,t,134217728,n)}wv(t,134217728)}};tS=function(t){if(t.tag===13){var e=ki(t),n=Qr(t,e);if(n!==null){var r=Xt();Kn(n,t,e,r)}wv(t,e)}};nS=function(){return De};rS=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Qm=function(t,e,n){switch(e){case"input":if(Bm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xf(r);if(!i)throw Error(L(90));$1(r),Bm(r,i)}}}break;case"textarea":L1(t,n);break;case"select":e=n.value,e!=null&&No(t,!!n.multiple,e,!1)}};z1=mv;W1=Os;var _O={usingClientEntryPoint:!1,Events:[Oc,So,Xf,U1,B1,mv]},Ua={findFiberByHostInstance:fs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wO={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||yO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Gf=Au.inject(wO),fr=Au}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_O;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tv(e))throw Error(L(200));return gO(t,e,null,n)};Tn.createRoot=function(t,e){if(!Tv(t))throw Error(L(299));var n=!1,r="",i=bx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_v(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,Dl(t.nodeType===8?t.parentNode:t),new Ev(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=K1(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Os(t)};Tn.hydrate=function(t,e,n){if(!ah(e))throw Error(L(200));return lh(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!Tv(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ix(e,null,t,1,n??null,i,!1,s,o),t[Gr]=e.current,Dl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new oh(e)};Tn.render=function(t,e,n){if(!ah(e))throw Error(L(200));return lh(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!ah(t))throw Error(L(40));return t._reactRootContainer?(Os(function(){lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};Tn.unstable_batchedUpdates=mv;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ah(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return lh(t,e,n,!1,r)};Tn.version="18.2.0-next-9e3b772b8-20220608";function Cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cx)}catch(t){console.error(t)}}Cx(),I1.exports=Tn;var Ji=I1.exports;const EO=h1(Ji);var Cw=Ji;Dm.createRoot=Cw.createRoot,Dm.hydrateRoot=Cw.hydrateRoot;function ae(){return ae=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ae.apply(this,arguments)}function TO(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ax(...t){return e=>t.forEach(n=>TO(n,e))}function ot(...t){return h.useCallback(Ax(...t),t)}const $s=h.forwardRef((t,e)=>{const{children:n,...r}=t,i=h.Children.toArray(n),s=i.find(xO);if(s){const o=s.props.children,a=i.map(l=>l===s?h.Children.count(o)>1?h.Children.only(null):h.isValidElement(o)?o.props.children:null:l);return h.createElement(Ag,ae({},r,{ref:e}),h.isValidElement(o)?h.cloneElement(o,void 0,a):null)}return h.createElement(Ag,ae({},r,{ref:e}),n)});$s.displayName="Slot";const Ag=h.forwardRef((t,e)=>{const{children:n,...r}=t;return h.isValidElement(n)?h.cloneElement(n,{...IO(r,n.props),ref:e?Ax(e,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});Ag.displayName="SlotClone";const SO=({children:t})=>h.createElement(h.Fragment,null,t);function xO(t){return h.isValidElement(t)&&t.type===SO}function IO(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Rx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Rx(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function bO(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Rx(t))&&(r&&(r+=" "),r+=e);return r}const Aw=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Rw=bO,Sv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Rw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const f=Aw(u)||Aw(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...g}=u;return Object.entries(g).every(v=>{let[m,w]=v;return Array.isArray(w)?w.includes({...s,...a}[m]):{...s,...a}[m]===w})?[...c,d,f]:c},[]);return Rw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function Px(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Px(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CO(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Px(t))&&(r&&(r+=" "),r+=e);return r}const xv="-";function AO(t){const e=PO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(o){const a=o.split(xv);return a[0]===""&&a.length!==1&&a.shift(),kx(a,e)||RO(o)}function s(o,a){const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function kx(t,e){var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?kx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(xv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const Pw=/^\[(.+)\]$/;function RO(t){if(Pw.test(t)){const e=Pw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function PO(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return NO(Object.entries(t.classGroups),n).forEach(([s,o])=>{Rg(o,r,s,e)}),r}function Rg(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:kw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(kO(i)){Rg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Rg(o,kw(e,s),n,r)})})}function kw(t,e){let n=t;return e.split(xv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function kO(t){return t.isThemeGetter}function NO(t,e){return e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t}function OO(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}}const Nx="!";function $O(t){const e=t.separator,n=e.length===1,r=e[0],i=e.length;return function(o){const a=[];let l=0,c=0,u;for(let m=0;m<o.length;m++){let w=o[m];if(l===0){if(w===r&&(n||o.slice(m,m+i)===e)){a.push(o.slice(c,m)),c=m+i;continue}if(w==="/"){u=m;continue}}w==="["?l++:w==="]"&&l--}const d=a.length===0?o:o.substring(c),f=d.startsWith(Nx),g=f?d.substring(1):d,v=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:v}}}function DO(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function LO(t){return{cache:OO(t.cacheSize),splitModifiers:$O(t),...AO(t)}}const VO=/\s+/;function MO(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=new Set;return t.trim().split(VO).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(o);let d=r(u?c.substring(0,u):c),f=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:o};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:o};f=!1}const g=DO(a).join(":");return{isTailwindClass:!0,modifierId:l?g+Nx:g,classGroupId:d,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=o,u=a+l;return s.has(u)?!1:(s.add(u),i(l,c).forEach(d=>s.add(a+d)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function FO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ox(e))&&(r&&(r+=" "),r+=n);return r}function Ox(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ox(t[r]))&&(n&&(n+=" "),n+=e);return n}function jO(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=LO(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=MO(l,n);return i(l,u),u}return function(){return s(FO.apply(null,arguments))}}function Be(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const $x=/^\[(?:([a-z-]+):)?(.+)\]$/i,UO=/^\d+\/\d+$/,BO=new Set(["px","full","screen"]),zO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qO=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Cr(t){return ms(t)||BO.has(t)||UO.test(t)}function ai(t){return ma(t,"length",t$)}function ms(t){return!!t&&!Number.isNaN(Number(t))}function Ru(t){return ma(t,"number",ms)}function Ba(t){return!!t&&Number.isInteger(Number(t))}function GO(t){return t.endsWith("%")&&ms(t.slice(0,-1))}function ye(t){return $x.test(t)}function li(t){return zO.test(t)}const QO=new Set(["length","size","percentage"]);function ZO(t){return ma(t,QO,Dx)}function YO(t){return ma(t,"position",Dx)}const XO=new Set(["image","url"]);function JO(t){return ma(t,XO,r$)}function e$(t){return ma(t,"",n$)}function za(){return!0}function ma(t,e,n){const r=$x.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function t$(t){return WO.test(t)&&!HO.test(t)}function Dx(){return!1}function n$(t){return qO.test(t)}function r$(t){return KO.test(t)}function i$(){const t=Be("colors"),e=Be("spacing"),n=Be("blur"),r=Be("brightness"),i=Be("borderColor"),s=Be("borderRadius"),o=Be("borderSpacing"),a=Be("borderWidth"),l=Be("contrast"),c=Be("grayscale"),u=Be("hueRotate"),d=Be("invert"),f=Be("gap"),g=Be("gradientColorStops"),v=Be("gradientColorStopPositions"),m=Be("inset"),w=Be("margin"),y=Be("opacity"),p=Be("padding"),_=Be("saturate"),T=Be("scale"),S=Be("sepia"),b=Be("skew"),I=Be("space"),A=Be("translate"),F=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",ye,e],N=()=>[ye,e],K=()=>["",Cr,ai],O=()=>["auto",ms,ye],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],D=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ye],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[ms,Ru],Te=()=>[ms,ye];return{cacheSize:500,separator:":",theme:{colors:[za],spacing:[Cr,ai],blur:["none","",li,ye],brightness:pe(),borderColor:[t],borderRadius:["none","","full",li,ye],borderSpacing:N(),borderWidth:K(),contrast:pe(),grayscale:U(),hueRotate:Te(),invert:U(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[GO,ai],inset:J(),margin:J(),opacity:pe(),padding:N(),saturate:pe(),scale:pe(),sepia:U(),skew:Te(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[li]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),ye]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ba,ye]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ba,ye]}],"grid-cols":[{"grid-cols":[za]}],"col-start-end":[{col:["auto",{span:["full",Ba,ye]},ye]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[za]}],"row-start-end":[{row:["auto",{span:[Ba,ye]},ye]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[li]},li]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",li,ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ru]}],"font-family":[{font:[za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",ms,Ru]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,ai]}],"underline-offset":[{"underline-offset":["auto",Cr,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),YO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ee()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Cr,ye]}],"outline-w":[{outline:[Cr,ai]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Cr,ai]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",li,e$]}],"shadow-color":[{shadow:[za]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":X()}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",li,ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:Te()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:Te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Ba,ye]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,ai,Ru]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const s$=jO(i$);function we(...t){return s$(CO(t))}const o$=Sv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),kn=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?$s:"button";return E.jsx(o,{className:we(o$({variant:e,size:n,className:t})),ref:s,...i})});kn.displayName="Button";function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ga(t,e=[]){let n=[];function r(s,o){const a=h.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:g,...v}=d,m=(f==null?void 0:f[t][l])||a,w=h.useMemo(()=>v,Object.values(v));return h.createElement(m.Provider,{value:w},g)}function u(d,f){const g=(f==null?void 0:f[t][l])||a,v=h.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>h.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,a$(i,...e)]}function a$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Iv(t){const e=t+"CollectionProvider",[n,r]=ga(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:m}=g,w=ve.useRef(null),y=ve.useRef(new Map).current;return ve.createElement(i,{scope:v,itemMap:y,collectionRef:w},m)},a=t+"CollectionSlot",l=ve.forwardRef((g,v)=>{const{scope:m,children:w}=g,y=s(a,m),p=ot(v,y.collectionRef);return ve.createElement($s,{ref:p},w)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",d=ve.forwardRef((g,v)=>{const{scope:m,children:w,...y}=g,p=ve.useRef(null),_=ot(v,p),T=s(c,m);return ve.useEffect(()=>(T.itemMap.set(p,{ref:p,...y}),()=>void T.itemMap.delete(p))),ve.createElement($s,{[u]:"",ref:_},w)});function f(g){const v=s(t+"CollectionConsumer",g);return ve.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((T,S)=>y.indexOf(T.ref.current)-y.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}const Jt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},l$=S1.useId||(()=>{});let c$=0;function Dc(t){const[e,n]=h.useState(l$());return Jt(()=>{t||n(r=>r??String(c$++))},[t]),t||(e?`radix-${e}`:"")}const u$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pe=u$.reduce((t,e)=>{const n=h.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?$s:e;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(a,ae({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Lx(t,e){t&&Ji.flushSync(()=>t.dispatchEvent(e))}function fn(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Wl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=d$({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=fn(n),l=h.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function d$({defaultProp:t,onChange:e}){const n=h.useState(t),[r]=n,i=h.useRef(r),s=fn(e);return h.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const f$=h.createContext(void 0);function bv(t){const e=h.useContext(f$);return t||e||"ltr"}const Kp="rovingFocusGroup.onEntryFocus",h$={bubbles:!1,cancelable:!0},Cv="RovingFocusGroup",[Pg,Vx,p$]=Iv(Cv),[m$,Mx]=ga(Cv,[p$]),[g$,y$]=m$(Cv),v$=h.forwardRef((t,e)=>h.createElement(Pg.Provider,{scope:t.__scopeRovingFocusGroup},h.createElement(Pg.Slot,{scope:t.__scopeRovingFocusGroup},h.createElement(_$,ae({},t,{ref:e}))))),_$=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=t,d=h.useRef(null),f=ot(e,d),g=bv(s),[v=null,m]=Wl({prop:o,defaultProp:a,onChange:l}),[w,y]=h.useState(!1),p=fn(c),_=Vx(n),T=h.useRef(!1),[S,b]=h.useState(0);return h.useEffect(()=>{const I=d.current;if(I)return I.addEventListener(Kp,p),()=>I.removeEventListener(Kp,p)},[p]),h.createElement(g$,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:v,onItemFocus:h.useCallback(I=>m(I),[m]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>b(I=>I+1),[]),onFocusableItemRemove:h.useCallback(()=>b(I=>I-1),[])},h.createElement(Pe.div,ae({tabIndex:w||S===0?-1:0,"data-orientation":r},u,{ref:f,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{T.current=!0}),onFocus:Ee(t.onFocus,I=>{const A=!T.current;if(I.target===I.currentTarget&&A&&!w){const F=new CustomEvent(Kp,h$);if(I.currentTarget.dispatchEvent(F),!F.defaultPrevented){const j=_().filter(W=>W.focusable),J=j.find(W=>W.active),N=j.find(W=>W.id===v),O=[J,N,...j].filter(Boolean).map(W=>W.ref.current);Fx(O)}}T.current=!1}),onBlur:Ee(t.onBlur,()=>y(!1))})))}),w$="RovingFocusGroupItem",E$=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Dc(),l=s||a,c=y$(w$,n),u=c.currentTabStopId===l,d=Vx(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=c;return h.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),h.createElement(Pg.ItemSlot,{scope:n,id:l,focusable:r,active:i},h.createElement(Pe.span,ae({tabIndex:u?0:-1,"data-orientation":c.orientation},o,{ref:e,onMouseDown:Ee(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ee(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=x$(v,c.orientation,c.dir);if(m!==void 0){v.preventDefault();let y=d().filter(p=>p.focusable).map(p=>p.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const p=y.indexOf(v.currentTarget);y=c.loop?I$(y,p+1):y.slice(p+1)}setTimeout(()=>Fx(y))}})})))}),T$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function x$(t,e,n){const r=S$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return T$[r]}function Fx(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function I$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const b$=v$,C$=E$;function A$(t,e){return h.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Av=t=>{const{present:e,children:n}=t,r=R$(e),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),s=ot(r.ref,i.ref);return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:s}):null};Av.displayName="Presence";function R$(t){const[e,n]=h.useState(),r=h.useRef({}),i=h.useRef(t),s=h.useRef("none"),o=t?"mounted":"unmounted",[a,l]=A$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Pu(r.current);s.current=a==="mounted"?c:"none"},[a]),Jt(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,g=Pu(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Jt(()=>{if(e){const c=d=>{const g=Pu(r.current).includes(d.animationName);d.target===e&&g&&Ji.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(s.current=Pu(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Pu(t){return(t==null?void 0:t.animationName)||"none"}const jx="Tabs",[P$,Hz]=ga(jx,[Mx]),Ux=Mx(),[k$,Rv]=P$(jx),N$=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=bv(a),[d,f]=Wl({prop:r,onChange:i,defaultProp:s});return h.createElement(k$,{scope:n,baseId:Dc(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l},h.createElement(Pe.div,ae({dir:u,"data-orientation":o},c,{ref:e})))}),O$="TabsList",$$=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=Rv(O$,n),o=Ux(n);return h.createElement(b$,ae({asChild:!0},o,{orientation:s.orientation,dir:s.dir,loop:r}),h.createElement(Pe.div,ae({role:"tablist","aria-orientation":s.orientation},i,{ref:e})))}),D$="TabsTrigger",L$=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=Rv(D$,n),a=Ux(n),l=Bx(o.baseId,r),c=zx(o.baseId,r),u=r===o.value;return h.createElement(C$,ae({asChild:!0},a,{focusable:!i,active:u}),h.createElement(Pe.button,ae({type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l},s,{ref:e,onMouseDown:Ee(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})))}),V$="TabsContent",M$=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=Rv(V$,n),l=Bx(a.baseId,r),c=zx(a.baseId,r),u=r===a.value,d=h.useRef(u);return h.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),h.createElement(Av,{present:i||u},({present:f})=>h.createElement(Pe.div,ae({"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0},o,{ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0}}),f&&s))});function Bx(t,e){return`${t}-trigger-${e}`}function zx(t,e){return`${t}-content-${e}`}const F$=N$,Wx=$$,Hx=L$,qx=M$,j$=F$,Kx=h.forwardRef(({className:t,...e},n)=>E.jsx(Wx,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Kx.displayName=Wx.displayName;const ad=h.forwardRef(({className:t,...e},n)=>E.jsx(Hx,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ad.displayName=Hx.displayName;const Ja=h.forwardRef(({className:t,...e},n)=>E.jsx(qx,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ja.displayName=qx.displayName;const ya=h.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ya.displayName="Card";const va=h.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));va.displayName="CardHeader";const _a=h.forwardRef(({className:t,...e},n)=>E.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));_a.displayName="CardTitle";const wa=h.forwardRef(({className:t,...e},n)=>E.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));wa.displayName="CardDescription";const Ea=h.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));Ea.displayName="CardContent";const Lc=h.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));Lc.displayName="CardFooter";var Vc=t=>t.type==="checkbox",Po=t=>t instanceof Date,Zt=t=>t==null;const Gx=t=>typeof t=="object";var vt=t=>!Zt(t)&&!Array.isArray(t)&&Gx(t)&&!Po(t),Qx=t=>vt(t)&&t.target?Vc(t.target)?t.target.checked:t.target.value:t,U$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Zx=(t,e)=>t.has(U$(e)),B$=t=>{const e=t.constructor&&t.constructor.prototype;return vt(e)&&e.hasOwnProperty("isPrototypeOf")},Pv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Pv&&(t instanceof Blob||t instanceof FileList))&&(n||vt(t)))if(e=n?[]:{},!n&&!B$(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=rn(t[r]));else return t;return e}var Mc=t=>Array.isArray(t)?t.filter(Boolean):[],nt=t=>t===void 0,z=(t,e,n)=>{if(!e||!vt(t))return n;const r=Mc(e.split(/[,[\].]+?/)).reduce((i,s)=>Zt(i)?i:i[s],t);return nt(r)||r===t?nt(t[e])?n:t[e]:r},zn=t=>typeof t=="boolean";const Jd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Wn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ar={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yx=ve.createContext(null),ch=()=>ve.useContext(Yx),z$=t=>{const{children:e,...n}=t;return ve.createElement(Yx.Provider,{value:n},e)};var Xx=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Wn.all&&(e._proxyFormState[o]=!r||Wn.all),n&&(n[o]=!0),t[o]}});return i},In=t=>vt(t)&&!Object.keys(t).length,Jx=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return In(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Wn.all))},ld=t=>Array.isArray(t)?t:[t],eI=(t,e,n)=>!t||!e||t===e||ld(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function kv(t){const e=ve.useRef(t);e.current=t,ve.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function W$(t){const e=ch(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=ve.useState(n._formState),l=ve.useRef(!0),c=ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ve.useRef(i);return u.current=i,kv({disabled:r,next:d=>l.current&&eI(u.current,d.name,s)&&Jx(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),ve.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),Xx(o,n,c.current,!1)}var lr=t=>typeof t=="string",tI=(t,e,n,r,i)=>lr(t)?(r&&e.watch.add(t),z(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),z(n,s))):(r&&(e.watchAll=!0),n);function H$(t){const e=ch(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=ve.useRef(r);a.current=r,kv({disabled:s,subject:n._subjects.values,next:u=>{eI(a.current,u.name,o)&&c(rn(tI(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=ve.useState(n._getWatch(r,i));return ve.useEffect(()=>n._removeUnmounted()),l}var Nv=t=>/^\w*$/.test(t),nI=t=>Mc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(t,e,n)=>{let r=-1;const i=Nv(e)?[e]:nI(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=vt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t};function q$(t){const e=ch(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=Zx(i._names.array,n),a=H$({control:i,name:n,defaultValue:z(i._formValues,n,z(i._defaultValues,n,t.defaultValue)),exact:!0}),l=W$({control:i,name:n}),c=ve.useRef(i.register(n,{...t.rules,value:a,...zn(t.disabled)?{disabled:t.disabled}:{}}));return ve.useEffect(()=>{const u=i._options.shouldUnregister||s,d=(f,g)=>{const v=z(i._fields,f);v&&(v._f.mount=g)};if(d(n,!0),u){const f=rn(z(i._options.defaultValues,n));$e(i._defaultValues,n,f),nt(z(i._formValues,n))&&$e(i._formValues,n,f)}return()=>{(o?u&&!i._state.action:u)?i.unregister(n):d(n,!1)}},[n,i,o,s]),ve.useEffect(()=>{z(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:z(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...zn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:ve.useCallback(u=>c.current.onChange({target:{value:Qx(u),name:n},type:Jd.CHANGE}),[n]),onBlur:ve.useCallback(()=>c.current.onBlur({target:{value:z(i._formValues,n),name:n},type:Jd.BLUR}),[n,i]),ref:u=>{const d=z(i._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!z(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!z(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!z(l.touchedFields,n)},error:{enumerable:!0,get:()=>z(l.errors,n)}})}}const K$=t=>t.render(q$(t));var rI=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Nw=t=>({isOnSubmit:!t||t===Wn.onSubmit,isOnBlur:t===Wn.onBlur,isOnChange:t===Wn.onChange,isOnAll:t===Wn.all,isOnTouch:t===Wn.onTouched}),Ow=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const gl=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=z(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;gl(a,e)}else vt(a)&&gl(a,e)}}};var G$=(t,e,n)=>{const r=Mc(z(t,n));return $e(r,"root",e[n]),$e(t,n,r),t},Ov=t=>t.type==="file",Ti=t=>typeof t=="function",ef=t=>{if(!Pv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cd=t=>lr(t),$v=t=>t.type==="radio",tf=t=>t instanceof RegExp;const $w={value:!1,isValid:!1},Dw={value:!0,isValid:!0};var iI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nt(t[0].attributes.value)?nt(t[0].value)||t[0].value===""?Dw:{value:t[0].value,isValid:!0}:Dw:$w}return $w};const Lw={isValid:!1,value:null};var sI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Lw):Lw;function Vw(t,e,n="validate"){if(cd(t)||Array.isArray(t)&&t.every(cd)||zn(t)&&!t)return{type:n,message:cd(t)?t:"",ref:e}}var lo=t=>vt(t)&&!tf(t)?t:{value:t,message:""},Mw=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:f,validate:g,name:v,valueAsNumber:m,mount:w,disabled:y}=t._f,p=z(e,v);if(!w||y)return{};const _=o?o[0]:s,T=N=>{r&&_.reportValidity&&(_.setCustomValidity(zn(N)?"":N||""),_.reportValidity())},S={},b=$v(s),I=Vc(s),A=b||I,F=(m||Ov(s))&&nt(s.value)&&nt(p)||ef(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,j=rI.bind(null,v,n,S),J=(N,K,O,W=Ar.maxLength,ee=Ar.minLength)=>{const X=N?K:O;S[v]={type:N?W:ee,message:X,ref:s,...j(N?W:ee,X)}};if(i?!Array.isArray(p)||!p.length:a&&(!A&&(F||Zt(p))||zn(p)&&!p||I&&!iI(o).isValid||b&&!sI(o).isValid)){const{value:N,message:K}=cd(a)?{value:!!a,message:a}:lo(a);if(N&&(S[v]={type:Ar.required,message:K,ref:_,...j(Ar.required,K)},!n))return T(K),S}if(!F&&(!Zt(u)||!Zt(d))){let N,K;const O=lo(d),W=lo(u);if(!Zt(p)&&!isNaN(p)){const ee=s.valueAsNumber||p&&+p;Zt(O.value)||(N=ee>O.value),Zt(W.value)||(K=ee<W.value)}else{const ee=s.valueAsDate||new Date(p),X=ne=>new Date(new Date().toDateString()+" "+ne),D=s.type=="time",U=s.type=="week";lr(O.value)&&p&&(N=D?X(p)>X(O.value):U?p>O.value:ee>new Date(O.value)),lr(W.value)&&p&&(K=D?X(p)<X(W.value):U?p<W.value:ee<new Date(W.value))}if((N||K)&&(J(!!N,O.message,W.message,Ar.max,Ar.min),!n))return T(S[v].message),S}if((l||c)&&!F&&(lr(p)||i&&Array.isArray(p))){const N=lo(l),K=lo(c),O=!Zt(N.value)&&p.length>+N.value,W=!Zt(K.value)&&p.length<+K.value;if((O||W)&&(J(O,N.message,K.message),!n))return T(S[v].message),S}if(f&&!F&&lr(p)){const{value:N,message:K}=lo(f);if(tf(N)&&!p.match(N)&&(S[v]={type:Ar.pattern,message:K,ref:s,...j(Ar.pattern,K)},!n))return T(K),S}if(g){if(Ti(g)){const N=await g(p,e),K=Vw(N,_);if(K&&(S[v]={...K,...j(Ar.validate,K.message)},!n))return T(K.message),S}else if(vt(g)){let N={};for(const K in g){if(!In(N)&&!n)break;const O=Vw(await g[K](p,e),_,K);O&&(N={...O,...j(K,O.message)},T(O.message),n&&(S[v]=N))}if(!In(N)&&(S[v]={ref:_,...N},!n))return S}}return T(!0),S};function Q$(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=nt(t)?r++:t[e[r++]];return t}function Z$(t){for(const e in t)if(t.hasOwnProperty(e)&&!nt(t[e]))return!1;return!0}function bt(t,e){const n=Array.isArray(e)?e:Nv(e)?[e]:nI(e),r=n.length===1?t:Q$(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(vt(r)&&In(r)||Array.isArray(r)&&Z$(r))&&bt(t,n.slice(0,-1)),t}var Gp=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},nf=t=>Zt(t)||!Gx(t);function gs(t,e){if(nf(t)||nf(e))return t===e;if(Po(t)&&Po(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Po(s)&&Po(o)||vt(s)&&vt(o)||Array.isArray(s)&&Array.isArray(o)?!gs(s,o):s!==o)return!1}}return!0}var oI=t=>t.type==="select-multiple",Y$=t=>$v(t)||Vc(t),Qp=t=>ef(t)&&t.isConnected,aI=t=>{for(const e in t)if(Ti(t[e]))return!0;return!1};function rf(t,e={}){const n=Array.isArray(t);if(vt(t)||n)for(const r in t)Array.isArray(t[r])||vt(t[r])&&!aI(t[r])?(e[r]=Array.isArray(t[r])?[]:{},rf(t[r],e[r])):Zt(t[r])||(e[r]=!0);return e}function lI(t,e,n){const r=Array.isArray(t);if(vt(t)||r)for(const i in t)Array.isArray(t[i])||vt(t[i])&&!aI(t[i])?nt(e)||nf(n[i])?n[i]=Array.isArray(t[i])?rf(t[i],[]):{...rf(t[i])}:lI(t[i],Zt(e)?{}:e[i],n[i]):n[i]=!gs(t[i],e[i]);return n}var ku=(t,e)=>lI(t,e,rf(e)),cI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>nt(t)?t:e?t===""?NaN:t&&+t:n&&lr(t)?new Date(t):r?r(t):t;function Zp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Ov(e)?e.files:$v(e)?sI(t.refs).value:oI(e)?[...e.selectedOptions].map(({value:n})=>n):Vc(e)?iI(t.refs).value:cI(nt(e.value)?t.ref.value:e.value,t)}var X$=(t,e,n,r)=>{const i={};for(const s of t){const o=z(e,s);o&&$e(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Wa=t=>nt(t)?t:tf(t)?t.source:vt(t)?tf(t.value)?t.value.source:t.value:t,J$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Fw(t,e,n){const r=z(t,n);if(r||Nv(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=z(e,s),a=z(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var eD=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,tD=(t,e)=>!Mc(z(t,e)).length&&bt(t,e);const nD={mode:Wn.onSubmit,reValidateMode:Wn.onChange,shouldFocusError:!0};function rD(t={},e){let n={...nD,...t},r={submitCount:0,isDirty:!1,isLoading:Ti(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},s=vt(n.values)||vt(n.defaultValues)?rn(n.values||n.defaultValues)||{}:{},o=n.shouldUnregister?{}:rn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Gp(),array:Gp(),state:Gp()},g=Nw(n.mode),v=Nw(n.reValidateMode),m=n.criteriaMode===Wn.all,w=x=>C=>{clearTimeout(u),u=setTimeout(x,C)},y=async x=>{if(d.isValid||x){const C=n.resolver?In((await F()).errors):await J(i,!0);C!==r.isValid&&f.state.next({isValid:C})}},p=x=>d.isValidating&&f.state.next({isValidating:x}),_=(x,C=[],R,Z,B=!0,M=!0)=>{if(Z&&R){if(a.action=!0,M&&Array.isArray(z(i,x))){const se=R(z(i,x),Z.argA,Z.argB);B&&$e(i,x,se)}if(M&&Array.isArray(z(r.errors,x))){const se=R(z(r.errors,x),Z.argA,Z.argB);B&&$e(r.errors,x,se),tD(r.errors,x)}if(d.touchedFields&&M&&Array.isArray(z(r.touchedFields,x))){const se=R(z(r.touchedFields,x),Z.argA,Z.argB);B&&$e(r.touchedFields,x,se)}d.dirtyFields&&(r.dirtyFields=ku(s,o)),f.state.next({name:x,isDirty:K(x,C),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $e(o,x,C)},T=(x,C)=>{$e(r.errors,x,C),f.state.next({errors:r.errors})},S=x=>{r.errors=x,f.state.next({errors:r.errors,isValid:!1})},b=(x,C,R,Z)=>{const B=z(i,x);if(B){const M=z(o,x,nt(R)?z(s,x):R);nt(M)||Z&&Z.defaultChecked||C?$e(o,x,C?M:Zp(B._f)):ee(x,M),a.mount&&y()}},I=(x,C,R,Z,B)=>{let M=!1,se=!1;const Fe={name:x},_t=!!(z(i,x)&&z(i,x)._f.disabled);if(!R||Z){d.isDirty&&(se=r.isDirty,r.isDirty=Fe.isDirty=K(),M=se!==Fe.isDirty);const nr=_t||gs(z(s,x),C);se=!!(!_t&&z(r.dirtyFields,x)),nr||_t?bt(r.dirtyFields,x):$e(r.dirtyFields,x,!0),Fe.dirtyFields=r.dirtyFields,M=M||d.dirtyFields&&se!==!nr}if(R){const nr=z(r.touchedFields,x);nr||($e(r.touchedFields,x,R),Fe.touchedFields=r.touchedFields,M=M||d.touchedFields&&nr!==R)}return M&&B&&f.state.next(Fe),M?Fe:{}},A=(x,C,R,Z)=>{const B=z(r.errors,x),M=d.isValid&&zn(C)&&r.isValid!==C;if(t.delayError&&R?(c=w(()=>T(x,R)),c(t.delayError)):(clearTimeout(u),c=null,R?$e(r.errors,x,R):bt(r.errors,x)),(R?!gs(B,R):B)||!In(Z)||M){const se={...Z,...M&&zn(C)?{isValid:C}:{},errors:r.errors,name:x};r={...r,...se},f.state.next(se)}p(!1)},F=async x=>n.resolver(o,n.context,X$(x||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),j=async x=>{const{errors:C}=await F(x);if(x)for(const R of x){const Z=z(C,R);Z?$e(r.errors,R,Z):bt(r.errors,R)}else r.errors=C;return C},J=async(x,C,R={valid:!0})=>{for(const Z in x){const B=x[Z];if(B){const{_f:M,...se}=B;if(M){const Fe=l.array.has(M.name),_t=await Mw(B,o,m,n.shouldUseNativeValidation&&!C,Fe);if(_t[M.name]&&(R.valid=!1,C))break;!C&&(z(_t,M.name)?Fe?G$(r.errors,_t,M.name):$e(r.errors,M.name,_t[M.name]):bt(r.errors,M.name))}se&&await J(se,C,R)}}return R.valid},N=()=>{for(const x of l.unMount){const C=z(i,x);C&&(C._f.refs?C._f.refs.every(R=>!Qp(R)):!Qp(C._f.ref))&&re(x)}l.unMount=new Set},K=(x,C)=>(x&&C&&$e(o,x,C),!gs(Te(),s)),O=(x,C,R)=>tI(x,l,{...a.mount?o:nt(C)?s:lr(x)?{[x]:C}:C},R,C),W=x=>Mc(z(a.mount?o:s,x,t.shouldUnregister?z(s,x,[]):[])),ee=(x,C,R={})=>{const Z=z(i,x);let B=C;if(Z){const M=Z._f;M&&(!M.disabled&&$e(o,x,cI(C,M)),B=ef(M.ref)&&Zt(C)?"":C,oI(M.ref)?[...M.ref.options].forEach(se=>se.selected=B.includes(se.value)):M.refs?Vc(M.ref)?M.refs.length>1?M.refs.forEach(se=>(!se.defaultChecked||!se.disabled)&&(se.checked=Array.isArray(B)?!!B.find(Fe=>Fe===se.value):B===se.value)):M.refs[0]&&(M.refs[0].checked=!!B):M.refs.forEach(se=>se.checked=se.value===B):Ov(M.ref)?M.ref.value="":(M.ref.value=B,M.ref.type||f.values.next({name:x,values:{...o}})))}(R.shouldDirty||R.shouldTouch)&&I(x,B,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&pe(x)},X=(x,C,R)=>{for(const Z in C){const B=C[Z],M=`${x}.${Z}`,se=z(i,M);(l.array.has(x)||!nf(B)||se&&!se._f)&&!Po(B)?X(M,B,R):ee(M,B,R)}},D=(x,C,R={})=>{const Z=z(i,x),B=l.array.has(x),M=rn(C);$e(o,x,M),B?(f.array.next({name:x,values:{...o}}),(d.isDirty||d.dirtyFields)&&R.shouldDirty&&f.state.next({name:x,dirtyFields:ku(s,o),isDirty:K(x,M)})):Z&&!Z._f&&!Zt(M)?X(x,M,R):ee(x,M,R),Ow(x,l)&&f.state.next({...r}),f.values.next({name:x,values:{...o}}),!a.mount&&e()},U=async x=>{const C=x.target;let R=C.name,Z=!0;const B=z(i,R),M=()=>C.type?Zp(B._f):Qx(x),se=Fe=>{Z=Number.isNaN(Fe)||Fe===z(o,R,Fe)};if(B){let Fe,_t;const nr=M(),oo=x.type===Jd.BLUR||x.type===Jd.FOCUS_OUT,KP=!J$(B._f)&&!n.resolver&&!z(r.errors,R)&&!B._f.deps||eD(oo,z(r.touchedFields,R),r.isSubmitted,v,g),_p=Ow(R,l,oo);$e(o,R,nr),oo?(B._f.onBlur&&B._f.onBlur(x),c&&c(0)):B._f.onChange&&B._f.onChange(x);const wp=I(R,nr,oo,!1),GP=!In(wp)||_p;if(!oo&&f.values.next({name:R,type:x.type,values:{...o}}),KP)return d.isValid&&y(),GP&&f.state.next({name:R,..._p?{}:wp});if(!oo&&_p&&f.state.next({...r}),p(!0),n.resolver){const{errors:y0}=await F([R]);if(se(nr),Z){const QP=Fw(r.errors,i,R),v0=Fw(y0,i,QP.name||R);Fe=v0.error,R=v0.name,_t=In(y0)}}else Fe=(await Mw(B,o,m,n.shouldUseNativeValidation))[R],se(nr),Z&&(Fe?_t=!1:d.isValid&&(_t=await J(i,!0)));Z&&(B._f.deps&&pe(B._f.deps),A(R,_t,Fe,wp))}},ne=(x,C)=>{if(z(r.errors,C)&&x.focus)return x.focus(),1},pe=async(x,C={})=>{let R,Z;const B=ld(x);if(p(!0),n.resolver){const M=await j(nt(x)?x:B);R=In(M),Z=x?!B.some(se=>z(M,se)):R}else x?(Z=(await Promise.all(B.map(async M=>{const se=z(i,M);return await J(se&&se._f?{[M]:se}:se)}))).every(Boolean),!(!Z&&!r.isValid)&&y()):Z=R=await J(i);return f.state.next({...!lr(x)||d.isValid&&R!==r.isValid?{}:{name:x},...n.resolver||!x?{isValid:R}:{},errors:r.errors,isValidating:!1}),C.shouldFocus&&!Z&&gl(i,ne,x?B:l.mount),Z},Te=x=>{const C={...s,...a.mount?o:{}};return nt(x)?C:lr(x)?z(C,x):x.map(R=>z(C,R))},ht=(x,C)=>({invalid:!!z((C||r).errors,x),isDirty:!!z((C||r).dirtyFields,x),isTouched:!!z((C||r).touchedFields,x),error:z((C||r).errors,x)}),it=x=>{x&&ld(x).forEach(C=>bt(r.errors,C)),f.state.next({errors:x?r.errors:{}})},Dt=(x,C,R)=>{const Z=(z(i,x,{_f:{}})._f||{}).ref;$e(r.errors,x,{...C,ref:Z}),f.state.next({name:x,errors:r.errors,isValid:!1}),R&&R.shouldFocus&&Z&&Z.focus&&Z.focus()},Je=(x,C)=>Ti(x)?f.values.subscribe({next:R=>x(O(void 0,C),R)}):O(x,C,!0),re=(x,C={})=>{for(const R of x?ld(x):l.mount)l.mount.delete(R),l.array.delete(R),C.keepValue||(bt(i,R),bt(o,R)),!C.keepError&&bt(r.errors,R),!C.keepDirty&&bt(r.dirtyFields,R),!C.keepTouched&&bt(r.touchedFields,R),!n.shouldUnregister&&!C.keepDefaultValue&&bt(s,R);f.values.next({values:{...o}}),f.state.next({...r,...C.keepDirty?{isDirty:K()}:{}}),!C.keepIsValid&&y()},Ve=({disabled:x,name:C,field:R,fields:Z,value:B})=>{if(zn(x)){const M=x?void 0:nt(B)?Zp(R?R._f:z(Z,C)._f):B;$e(o,C,M),I(C,M,!1,!1,!0)}},et=(x,C={})=>{let R=z(i,x);const Z=zn(C.disabled);return $e(i,x,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:x}},name:x,mount:!0,...C}}),l.mount.add(x),R?Ve({field:R,disabled:C.disabled,name:x,value:C.value}):b(x,!0,C.value),{...Z?{disabled:C.disabled}:{},...n.progressive?{required:!!C.required,min:Wa(C.min),max:Wa(C.max),minLength:Wa(C.minLength),maxLength:Wa(C.maxLength),pattern:Wa(C.pattern)}:{},name:x,onChange:U,onBlur:U,ref:B=>{if(B){et(x,C),R=z(i,x);const M=nt(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,se=Y$(M),Fe=R._f.refs||[];if(se?Fe.find(_t=>_t===M):M===R._f.ref)return;$e(i,x,{_f:{...R._f,...se?{refs:[...Fe.filter(Qp),M,...Array.isArray(z(s,x))?[{}]:[]],ref:{type:M.type,name:x}}:{ref:M}}}),b(x,!1,void 0,M)}else R=z(i,x,{}),R._f&&(R._f.mount=!1),(n.shouldUnregister||C.shouldUnregister)&&!(Zx(l.array,x)&&a.action)&&l.unMount.add(x)}}},Me=()=>n.shouldFocusError&&gl(i,ne,l.mount),Oe=x=>{zn(x)&&(f.state.next({disabled:x}),gl(i,(C,R)=>{let Z=x;const B=z(i,R);B&&zn(B._f.disabled)&&(Z||(Z=B._f.disabled)),C.disabled=Z},0,!1))},ke=(x,C)=>async R=>{let Z;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let B=rn(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:M,values:se}=await F();r.errors=M,B=se}else await J(i);if(bt(r.errors,"root"),In(r.errors)){f.state.next({errors:{}});try{await x(B,R)}catch(M){Z=M}}else C&&await C({...r.errors},R),Me(),setTimeout(Me);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:In(r.errors)&&!Z,submitCount:r.submitCount+1,errors:r.errors}),Z)throw Z},Gt=(x,C={})=>{z(i,x)&&(nt(C.defaultValue)?D(x,rn(z(s,x))):(D(x,C.defaultValue),$e(s,x,rn(C.defaultValue))),C.keepTouched||bt(r.touchedFields,x),C.keepDirty||(bt(r.dirtyFields,x),r.isDirty=C.defaultValue?K(x,rn(z(s,x))):K()),C.keepError||(bt(r.errors,x),d.isValid&&y()),f.state.next({...r}))},Lt=(x,C={})=>{const R=x?rn(x):s,Z=rn(R),B=x&&!In(x)?Z:s;if(C.keepDefaultValues||(s=R),!C.keepValues){if(C.keepDirtyValues)for(const M of l.mount)z(r.dirtyFields,M)?$e(B,M,z(o,M)):D(M,z(B,M));else{if(Pv&&nt(x))for(const M of l.mount){const se=z(i,M);if(se&&se._f){const Fe=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(ef(Fe)){const _t=Fe.closest("form");if(_t){_t.reset();break}}}}i={}}o=t.shouldUnregister?C.keepDefaultValues?rn(s):{}:rn(B),f.array.next({values:{...B}}),f.values.next({values:{...B}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!C.keepIsValid||!!C.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:C.keepSubmitCount?r.submitCount:0,isDirty:C.keepDirty?r.isDirty:!!(C.keepDefaultValues&&!gs(x,s)),isSubmitted:C.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:C.keepDirtyValues?C.keepDefaultValues&&o?ku(s,o):r.dirtyFields:C.keepDefaultValues&&x?ku(s,x):{},touchedFields:C.keepTouched?r.touchedFields:{},errors:C.keepErrors?r.errors:{},isSubmitSuccessful:C.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xn=(x,C)=>Lt(Ti(x)?x(o):x,C);return{control:{register:et,unregister:re,getFieldState:ht,handleSubmit:ke,setError:Dt,_executeSchema:F,_getWatch:O,_getDirty:K,_updateValid:y,_removeUnmounted:N,_updateFieldArray:_,_updateDisabledField:Ve,_getFieldArray:W,_reset:Lt,_resetDefaultValues:()=>Ti(n.defaultValues)&&n.defaultValues().then(x=>{xn(x,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:x=>{r={...r,...x}},_disableForm:Oe,_subjects:f,_proxyFormState:d,_setErrors:S,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(x){a=x},get _defaultValues(){return s},get _names(){return l},set _names(x){l=x},get _formState(){return r},set _formState(x){r=x},get _options(){return n},set _options(x){n={...n,...x}}},trigger:pe,register:et,handleSubmit:ke,watch:Je,setValue:D,getValues:Te,reset:xn,resetField:Gt,clearErrors:it,unregister:re,setError:Dt,setFocus:(x,C={})=>{const R=z(i,x),Z=R&&R._f;if(Z){const B=Z.refs?Z.refs[0]:Z.ref;B.focus&&(B.focus(),C.shouldSelect&&B.select())}},getFieldState:ht}}function uh(t={}){const e=ve.useRef(),n=ve.useRef(),[r,i]=ve.useState({isDirty:!1,isValidating:!1,isLoading:Ti(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ti(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...rD(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,kv({subject:s._subjects.state,next:o=>{Jx(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ve.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ve.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ve.useEffect(()=>{t.values&&!gs(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ve.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ve.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ve.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=Xx(r,s),e.current}const iD=h.forwardRef((t,e)=>h.createElement(Pe.label,ae({},t,{ref:e,onMouseDown:n=>{var r;(r=t.onMouseDown)===null||r===void 0||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),uI=iD,sD=Sv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Is=h.forwardRef(({className:t,...e},n)=>E.jsx(uI,{ref:n,className:we(sD(),t),...e}));Is.displayName=uI.displayName;const dh=z$,dI=h.createContext({}),Oi=({...t})=>E.jsx(dI.Provider,{value:{name:t.name},children:E.jsx(K$,{...t})}),fh=()=>{const t=h.useContext(dI),e=h.useContext(fI),{getFieldState:n,formState:r}=ch(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},fI=h.createContext({}),Ur=h.forwardRef(({className:t,...e},n)=>{const r=h.useId();return E.jsx(fI.Provider,{value:{id:r},children:E.jsx("div",{ref:n,className:we("space-y-2",t),...e})})});Ur.displayName="FormItem";const $i=h.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=fh();return E.jsx(Is,{ref:n,className:we(r&&"text-destructive",t),htmlFor:i,...e})});$i.displayName="FormLabel";const Br=h.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=fh();return E.jsx($s,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Br.displayName="FormControl";const oD=h.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=fh();return E.jsx("p",{ref:n,id:r,className:we("text-sm text-muted-foreground",t),...e})});oD.displayName="FormDescription";const zr=h.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=fh(),o=i?String(i==null?void 0:i.message):e;return o?E.jsx("p",{ref:r,id:s,className:we("text-sm font-medium text-destructive",t),...n,children:o}):null});zr.displayName="FormMessage";const vr=h.forwardRef(({className:t,type:e,...n},r)=>E.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));vr.displayName="Input";var jw=function(t,e,n){if(t&&"reportValidity"in t){var r=z(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},hI=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?jw(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return jw(o,i,t)})};for(var r in e.fields)n(r)},aD=function(t,e){e.shouldUseNativeValidation&&hI(t,e);var n={};for(var r in t){var i=z(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(lD(e.names||Object.keys(t),r)){var o=Object.assign({},z(n,r));$e(o,"root",s),$e(n,r,o)}else $e(n,r,s)}return n},lD=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},cD=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=rI(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},hh=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&hI({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:aD(cD(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Re;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Re||(Re={}));var kg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(kg||(kg={}));const G=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gi=t=>{switch(typeof t){case"undefined":return G.undefined;case"string":return G.string;case"number":return isNaN(t)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(t)?G.array:t===null?G.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?G.promise:typeof Map<"u"&&t instanceof Map?G.map:typeof Set<"u"&&t instanceof Set?G.set:typeof Date<"u"&&t instanceof Date?G.date:G.object;default:return G.unknown}},V=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uD=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Gn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Gn.create=t=>new Gn(t);const Hl=(t,e)=>{let n;switch(t.code){case V.invalid_type:t.received===G.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case V.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Re.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:n=`Unrecognized key(s) in object: ${Re.joinValues(t.keys,", ")}`;break;case V.invalid_union:n="Invalid input";break;case V.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Re.joinValues(t.options)}`;break;case V.invalid_enum_value:n=`Invalid enum value. Expected ${Re.joinValues(t.options)}, received '${t.received}'`;break;case V.invalid_arguments:n="Invalid function arguments";break;case V.invalid_return_type:n="Invalid function return type";break;case V.invalid_date:n="Invalid date";break;case V.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Re.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case V.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case V.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case V.custom:n="Invalid input";break;case V.invalid_intersection_types:n="Intersection results could not be merged";break;case V.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case V.not_finite:n="Number must be finite";break;default:n=e.defaultError,Re.assertNever(t)}return{message:n}};let pI=Hl;function dD(t){pI=t}function sf(){return pI}const of=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},fD=[];function Q(t,e){const n=of({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,sf(),Hl].filter(r=>!!r)});t.common.issues.push(n)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return he;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return qt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return he;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const he=Object.freeze({status:"aborted"}),mI=t=>({status:"dirty",value:t}),en=t=>({status:"valid",value:t}),Ng=t=>t.status==="aborted",Og=t=>t.status==="dirty",ql=t=>t.status==="valid",af=t=>typeof Promise<"u"&&t instanceof Promise;var ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));class _r{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Uw=(t,e)=>{if(ql(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gn(t.common.issues);return this._error=n,this._error}}};function me(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class _e{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return gi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(af(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Uw(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(af(i)?i:Promise.resolve(i));return Uw(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:V.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Xn({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Wr.create(this,this._def)}nullable(){return Vs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qn.create(this,this._def)}promise(){return ea.create(this,this._def)}or(e){return Zl.create([this,e],this._def)}and(e){return Yl.create(this,e,this._def)}transform(e){return new Xn({...me(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new nc({...me(this._def),innerType:this,defaultValue:n,typeName:le.ZodDefault})}brand(){return new yI({typeName:le.ZodBranded,type:this,...me(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new df({...me(this._def),innerType:this,catchValue:n,typeName:le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Fc.create(this,e)}readonly(){return hf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hD=/^c[^\s-]{8,}$/i,pD=/^[a-z][a-z0-9]*$/,mD=/^[0-9A-HJKMNP-TV-Z]{26}$/,gD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yD=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yp;const _D=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,wD=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ED=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function TD(t,e){return!!((e==="v4"||!e)&&_D.test(t)||(e==="v6"||!e)&&wD.test(t))}class Hn extends _e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const s=this._getOrReturnCtx(e);return Q(s,{code:V.invalid_type,expected:G.string,received:s.parsedType}),he}const r=new qt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Q(i,{code:V.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Q(i,{code:V.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Q(i,{code:V.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Q(i,{code:V.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")yD.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"email",code:V.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Yp||(Yp=new RegExp(vD,"u")),Yp.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"emoji",code:V.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")gD.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"uuid",code:V.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")hD.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"cuid",code:V.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")pD.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"cuid2",code:V.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")mD.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"ulid",code:V.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Q(i,{validation:"url",code:V.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"regex",code:V.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Q(i,{code:V.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Q(i,{code:V.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Q(i,{code:V.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?ED(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{code:V.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?TD(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"ip",code:V.invalid_string,message:s.message}),r.dirty()):Re.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:V.invalid_string,...ie.errToObj(r)})}_addCheck(e){return new Hn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ie.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...ie.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ie.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ie.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ie.errToObj(n)})}nonempty(e){return this.min(1,ie.errToObj(e))}trim(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hn.create=t=>{var e;return new Hn({checks:[],typeName:le.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...me(t)})};function SD(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ui extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const s=this._getOrReturnCtx(e);return Q(s,{code:V.invalid_type,expected:G.number,received:s.parsedType}),he}let r;const i=new qt;for(const s of this._def.checks)s.kind==="int"?Re.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:V.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:V.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:V.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?SD(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Q(r,{code:V.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:V.not_finite,message:s.message}),i.dirty()):Re.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,i){return new Ui({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(i)}]})}_addCheck(e){return new Ui({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Re.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ui.create=t=>new Ui({checks:[],typeName:le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...me(t)});class Bi extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==G.bigint){const s=this._getOrReturnCtx(e);return Q(s,{code:V.invalid_type,expected:G.bigint,received:s.parsedType}),he}let r;const i=new qt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:V.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:V.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:V.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Re.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,i){return new Bi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(i)}]})}_addCheck(e){return new Bi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Bi.create=t=>{var e;return new Bi({checks:[],typeName:le.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...me(t)})};class Kl extends _e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const r=this._getOrReturnCtx(e);return Q(r,{code:V.invalid_type,expected:G.boolean,received:r.parsedType}),he}return en(e.data)}}Kl.create=t=>new Kl({typeName:le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...me(t)});class Ds extends _e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const s=this._getOrReturnCtx(e);return Q(s,{code:V.invalid_type,expected:G.date,received:s.parsedType}),he}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Q(s,{code:V.invalid_date}),he}const r=new qt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Q(i,{code:V.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Q(i,{code:V.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Re.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ds({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ds.create=t=>new Ds({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:le.ZodDate,...me(t)});class lf extends _e{_parse(e){if(this._getType(e)!==G.symbol){const r=this._getOrReturnCtx(e);return Q(r,{code:V.invalid_type,expected:G.symbol,received:r.parsedType}),he}return en(e.data)}}lf.create=t=>new lf({typeName:le.ZodSymbol,...me(t)});class Gl extends _e{_parse(e){if(this._getType(e)!==G.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:V.invalid_type,expected:G.undefined,received:r.parsedType}),he}return en(e.data)}}Gl.create=t=>new Gl({typeName:le.ZodUndefined,...me(t)});class Ql extends _e{_parse(e){if(this._getType(e)!==G.null){const r=this._getOrReturnCtx(e);return Q(r,{code:V.invalid_type,expected:G.null,received:r.parsedType}),he}return en(e.data)}}Ql.create=t=>new Ql({typeName:le.ZodNull,...me(t)});class Jo extends _e{constructor(){super(...arguments),this._any=!0}_parse(e){return en(e.data)}}Jo.create=t=>new Jo({typeName:le.ZodAny,...me(t)});class bs extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return en(e.data)}}bs.create=t=>new bs({typeName:le.ZodUnknown,...me(t)});class Yr extends _e{_parse(e){const n=this._getOrReturnCtx(e);return Q(n,{code:V.invalid_type,expected:G.never,received:n.parsedType}),he}}Yr.create=t=>new Yr({typeName:le.ZodNever,...me(t)});class cf extends _e{_parse(e){if(this._getType(e)!==G.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:V.invalid_type,expected:G.void,received:r.parsedType}),he}return en(e.data)}}cf.create=t=>new cf({typeName:le.ZodVoid,...me(t)});class Qn extends _e{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==G.array)return Q(n,{code:V.invalid_type,expected:G.array,received:n.parsedType}),he;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Q(n,{code:o?V.too_big:V.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Q(n,{code:V.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Q(n,{code:V.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new _r(n,o,n.path,a)))).then(o=>qt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new _r(n,o,n.path,a)));return qt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Qn({...this._def,minLength:{value:e,message:ie.toString(n)}})}max(e,n){return new Qn({...this._def,maxLength:{value:e,message:ie.toString(n)}})}length(e,n){return new Qn({...this._def,exactLength:{value:e,message:ie.toString(n)}})}nonempty(e){return this.min(1,e)}}Qn.create=(t,e)=>new Qn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...me(e)});function po(t){if(t instanceof Ge){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Wr.create(po(r))}return new Ge({...t._def,shape:()=>e})}else return t instanceof Qn?new Qn({...t._def,type:po(t.element)}):t instanceof Wr?Wr.create(po(t.unwrap())):t instanceof Vs?Vs.create(po(t.unwrap())):t instanceof wr?wr.create(t.items.map(e=>po(e))):t}class Ge extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Re.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==G.object){const c=this._getOrReturnCtx(e);return Q(c,{code:V.invalid_type,expected:G.object,received:c.parsedType}),he}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Yr&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new _r(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Yr){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(Q(i,{code:V.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new _r(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key;c.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>qt.mergeObjectSync(r,c)):qt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new Ge({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ie.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ge({...this._def,unknownKeys:"strip"})}passthrough(){return new Ge({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ge({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ge({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ge({...this._def,catchall:e})}pick(e){const n={};return Re.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ge({...this._def,shape:()=>n})}omit(e){const n={};return Re.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ge({...this._def,shape:()=>n})}deepPartial(){return po(this)}partial(e){const n={};return Re.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ge({...this._def,shape:()=>n})}required(e){const n={};return Re.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Wr;)s=s._def.innerType;n[r]=s}}),new Ge({...this._def,shape:()=>n})}keyof(){return gI(Re.objectKeys(this.shape))}}Ge.create=(t,e)=>new Ge({shape:()=>t,unknownKeys:"strip",catchall:Yr.create(),typeName:le.ZodObject,...me(e)});Ge.strictCreate=(t,e)=>new Ge({shape:()=>t,unknownKeys:"strict",catchall:Yr.create(),typeName:le.ZodObject,...me(e)});Ge.lazycreate=(t,e)=>new Ge({shape:t,unknownKeys:"strip",catchall:Yr.create(),typeName:le.ZodObject,...me(e)});class Zl extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Gn(a.ctx.common.issues));return Q(n,{code:V.invalid_union,unionErrors:o}),he}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Gn(l));return Q(n,{code:V.invalid_union,unionErrors:a}),he}}get options(){return this._def.options}}Zl.create=(t,e)=>new Zl({options:t,typeName:le.ZodUnion,...me(e)});const ud=t=>t instanceof Jl?ud(t.schema):t instanceof Xn?ud(t.innerType()):t instanceof ec?[t.value]:t instanceof zi?t.options:t instanceof tc?Object.keys(t.enum):t instanceof nc?ud(t._def.innerType):t instanceof Gl?[void 0]:t instanceof Ql?[null]:null;class ph extends _e{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.object)return Q(n,{code:V.invalid_type,expected:G.object,received:n.parsedType}),he;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Q(n,{code:V.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ud(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ph({typeName:le.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...me(r)})}}function $g(t,e){const n=gi(t),r=gi(e);if(t===e)return{valid:!0,data:t};if(n===G.object&&r===G.object){const i=Re.objectKeys(e),s=Re.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=$g(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===G.array&&r===G.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=$g(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===G.date&&r===G.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Yl extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Ng(s)||Ng(o))return he;const a=$g(s.value,o.value);return a.valid?((Og(s)||Og(o))&&n.dirty(),{status:n.value,value:a.data}):(Q(r,{code:V.invalid_intersection_types}),he)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Yl.create=(t,e,n)=>new Yl({left:t,right:e,typeName:le.ZodIntersection,...me(n)});class wr extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.array)return Q(r,{code:V.invalid_type,expected:G.array,received:r.parsedType}),he;if(r.data.length<this._def.items.length)return Q(r,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&r.data.length>this._def.items.length&&(Q(r,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new _r(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>qt.mergeArray(n,o)):qt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new wr({...this._def,rest:e})}}wr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wr({items:t,typeName:le.ZodTuple,rest:null,...me(e)})};class Xl extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.object)return Q(r,{code:V.invalid_type,expected:G.object,received:r.parsedType}),he;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new _r(r,a,r.path,a)),value:o._parse(new _r(r,r.data[a],r.path,a))});return r.common.async?qt.mergeObjectAsync(n,i):qt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof _e?new Xl({keyType:e,valueType:n,typeName:le.ZodRecord,...me(r)}):new Xl({keyType:Hn.create(),valueType:e,typeName:le.ZodRecord,...me(n)})}}class uf extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.map)return Q(r,{code:V.invalid_type,expected:G.map,received:r.parsedType}),he;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new _r(r,a,r.path,[c,"key"])),value:s._parse(new _r(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return he;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return he;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}uf.create=(t,e,n)=>new uf({valueType:e,keyType:t,typeName:le.ZodMap,...me(n)});class Ls extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.set)return Q(r,{code:V.invalid_type,expected:G.set,received:r.parsedType}),he;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Q(r,{code:V.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Q(r,{code:V.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return he;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new _r(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Ls({...this._def,minSize:{value:e,message:ie.toString(n)}})}max(e,n){return new Ls({...this._def,maxSize:{value:e,message:ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ls.create=(t,e)=>new Ls({valueType:t,minSize:null,maxSize:null,typeName:le.ZodSet,...me(e)});class Mo extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.function)return Q(n,{code:V.invalid_type,expected:G.function,received:n.parsedType}),he;function r(a,l){return of({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sf(),Hl].filter(c=>!!c),issueData:{code:V.invalid_arguments,argumentsError:l}})}function i(a,l){return of({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sf(),Hl].filter(c=>!!c),issueData:{code:V.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ea){const a=this;return en(async function(...l){const c=new Gn([]),u=await a._def.args.parseAsync(l,s).catch(g=>{throw c.addIssue(r(l,g)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(g=>{throw c.addIssue(i(d,g)),c})})}else{const a=this;return en(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Gn([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new Gn([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Mo({...this._def,args:wr.create(e).rest(bs.create())})}returns(e){return new Mo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Mo({args:e||wr.create([]).rest(bs.create()),returns:n||bs.create(),typeName:le.ZodFunction,...me(r)})}}class Jl extends _e{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Jl.create=(t,e)=>new Jl({getter:t,typeName:le.ZodLazy,...me(e)});class ec extends _e{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Q(n,{received:n.data,code:V.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:e.data}}get value(){return this._def.value}}ec.create=(t,e)=>new ec({value:t,typeName:le.ZodLiteral,...me(e)});function gI(t,e){return new zi({values:t,typeName:le.ZodEnum,...me(e)})}class zi extends _e{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{expected:Re.joinValues(r),received:n.parsedType,code:V.invalid_type}),he}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{received:n.data,code:V.invalid_enum_value,options:r}),he}return en(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return zi.create(e)}exclude(e){return zi.create(this.options.filter(n=>!e.includes(n)))}}zi.create=gI;class tc extends _e{_parse(e){const n=Re.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==G.string&&r.parsedType!==G.number){const i=Re.objectValues(n);return Q(r,{expected:Re.joinValues(i),received:r.parsedType,code:V.invalid_type}),he}if(n.indexOf(e.data)===-1){const i=Re.objectValues(n);return Q(r,{received:r.data,code:V.invalid_enum_value,options:i}),he}return en(e.data)}get enum(){return this._def.values}}tc.create=(t,e)=>new tc({values:t,typeName:le.ZodNativeEnum,...me(e)});class ea extends _e{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.promise&&n.common.async===!1)return Q(n,{code:V.invalid_type,expected:G.promise,received:n.parsedType}),he;const r=n.parsedType===G.promise?n.data:Promise.resolve(n.data);return en(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ea.create=(t,e)=>new ea({type:t,typeName:le.ZodPromise,...me(e)});class Xn extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?he:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?he:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ql(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ql(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Re.assertNever(i)}}Xn.create=(t,e,n)=>new Xn({schema:t,typeName:le.ZodEffects,effect:e,...me(n)});Xn.createWithPreprocess=(t,e,n)=>new Xn({schema:e,effect:{type:"preprocess",transform:t},typeName:le.ZodEffects,...me(n)});class Wr extends _e{_parse(e){return this._getType(e)===G.undefined?en(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wr.create=(t,e)=>new Wr({innerType:t,typeName:le.ZodOptional,...me(e)});class Vs extends _e{_parse(e){return this._getType(e)===G.null?en(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vs.create=(t,e)=>new Vs({innerType:t,typeName:le.ZodNullable,...me(e)});class nc extends _e{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===G.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nc.create=(t,e)=>new nc({innerType:t,typeName:le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...me(e)});class df extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return af(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Gn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}df.create=(t,e)=>new df({innerType:t,typeName:le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...me(e)});class ff extends _e{_parse(e){if(this._getType(e)!==G.nan){const r=this._getOrReturnCtx(e);return Q(r,{code:V.invalid_type,expected:G.nan,received:r.parsedType}),he}return{status:"valid",value:e.data}}}ff.create=t=>new ff({typeName:le.ZodNaN,...me(t)});const xD=Symbol("zod_brand");class yI extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fc extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?he:s.status==="dirty"?(n.dirty(),mI(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?he:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Fc({in:e,out:n,typeName:le.ZodPipeline})}}class hf extends _e{_parse(e){const n=this._def.innerType._parse(e);return ql(n)&&(n.value=Object.freeze(n.value)),n}}hf.create=(t,e)=>new hf({innerType:t,typeName:le.ZodReadonly,...me(e)});const vI=(t,e={},n)=>t?Jo.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Jo.create(),ID={object:Ge.lazycreate};var le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(le||(le={}));const bD=(t,e={message:`Input not instance of ${t.name}`})=>vI(n=>n instanceof t,e),pf=Hn.create,_I=Ui.create,CD=ff.create,AD=Bi.create,wI=Kl.create,RD=Ds.create,PD=lf.create,kD=Gl.create,ND=Ql.create,OD=Jo.create,$D=bs.create,DD=Yr.create,LD=cf.create,VD=Qn.create,EI=Ge.create,MD=Ge.strictCreate,FD=Zl.create,jD=ph.create,UD=Yl.create,BD=wr.create,zD=Xl.create,WD=uf.create,HD=Ls.create,qD=Mo.create,KD=Jl.create,GD=ec.create,QD=zi.create,ZD=tc.create,YD=ea.create,Bw=Xn.create,XD=Wr.create,JD=Vs.create,e2=Xn.createWithPreprocess,t2=Fc.create,n2=()=>pf().optional(),r2=()=>_I().optional(),i2=()=>wI().optional(),s2={string:t=>Hn.create({...t,coerce:!0}),number:t=>Ui.create({...t,coerce:!0}),boolean:t=>Kl.create({...t,coerce:!0}),bigint:t=>Bi.create({...t,coerce:!0}),date:t=>Ds.create({...t,coerce:!0})},o2=he;var Dr=Object.freeze({__proto__:null,defaultErrorMap:Hl,setErrorMap:dD,getErrorMap:sf,makeIssue:of,EMPTY_PATH:fD,addIssueToContext:Q,ParseStatus:qt,INVALID:he,DIRTY:mI,OK:en,isAborted:Ng,isDirty:Og,isValid:ql,isAsync:af,get util(){return Re},get objectUtil(){return kg},ZodParsedType:G,getParsedType:gi,ZodType:_e,ZodString:Hn,ZodNumber:Ui,ZodBigInt:Bi,ZodBoolean:Kl,ZodDate:Ds,ZodSymbol:lf,ZodUndefined:Gl,ZodNull:Ql,ZodAny:Jo,ZodUnknown:bs,ZodNever:Yr,ZodVoid:cf,ZodArray:Qn,ZodObject:Ge,ZodUnion:Zl,ZodDiscriminatedUnion:ph,ZodIntersection:Yl,ZodTuple:wr,ZodRecord:Xl,ZodMap:uf,ZodSet:Ls,ZodFunction:Mo,ZodLazy:Jl,ZodLiteral:ec,ZodEnum:zi,ZodNativeEnum:tc,ZodPromise:ea,ZodEffects:Xn,ZodTransformer:Xn,ZodOptional:Wr,ZodNullable:Vs,ZodDefault:nc,ZodCatch:df,ZodNaN:ff,BRAND:xD,ZodBranded:yI,ZodPipeline:Fc,ZodReadonly:hf,custom:vI,Schema:_e,ZodSchema:_e,late:ID,get ZodFirstPartyTypeKind(){return le},coerce:s2,any:OD,array:VD,bigint:AD,boolean:wI,date:RD,discriminatedUnion:jD,effect:Bw,enum:QD,function:qD,instanceof:bD,intersection:UD,lazy:KD,literal:GD,map:WD,nan:CD,nativeEnum:ZD,never:DD,null:ND,nullable:JD,number:_I,object:EI,oboolean:i2,onumber:r2,optional:XD,ostring:n2,pipeline:t2,preprocess:e2,promise:YD,record:zD,set:HD,strictObject:MD,string:pf,symbol:PD,transformer:Bw,tuple:BD,undefined:kD,union:FD,unknown:$D,void:LD,NEVER:o2,ZodIssueCode:V,quotelessJson:uD,ZodError:Gn});const a2=1,l2=1e6;let Xp=0;function c2(){return Xp=(Xp+1)%Number.MAX_SAFE_INTEGER,Xp.toString()}const Jp=new Map,zw=t=>{if(Jp.has(t))return;const e=setTimeout(()=>{Jp.delete(t),yl({type:"REMOVE_TOAST",toastId:t})},l2);Jp.set(t,e)},u2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,a2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?zw(n):t.toasts.forEach(r=>{zw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},dd=[];let fd={toasts:[]};function yl(t){fd=u2(fd,t),dd.forEach(e=>{e(fd)})}function d2({...t}){const e=c2(),n=i=>yl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>yl({type:"DISMISS_TOAST",toastId:e});return yl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function jc(){const[t,e]=h.useState(fd);return h.useEffect(()=>(dd.push(e),()=>{const n=dd.indexOf(e);n>-1&&dd.splice(n,1)}),[t]),{...t,toast:d2,dismiss:n=>yl({type:"DISMISS_TOAST",toastId:n})}}var Ww={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},SI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[u],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new h2;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p2=function(t){const e=TI(t);return SI.encodeByteArray(e,!0)},mf=function(t){return p2(t).replace(/\./g,"")},xI=function(t){try{return SI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=()=>m2().__FIREBASE_DEFAULTS__,y2=()=>{if(typeof process>"u"||typeof Ww>"u")return;const t=Ww.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xI(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return g2()||y2()||v2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},II=t=>{var e,n;return(n=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_2=t=>{const e=II(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bI=()=>{var t;return(t=mh())===null||t===void 0?void 0:t.config},CI=t=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mf(JSON.stringify(n)),mf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function S2(){var t;const e=(t=mh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I2(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b2(){return!S2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dv(){try{return typeof indexedDB=="object"}catch{return!1}}function RI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function C2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A2,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zs.prototype.create)}}class Zs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?R2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tr(i,a,r)}}function R2(t,e){return t.replace(P2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P2=/\{\$([^}]+)}/g;function k2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Hw(s)&&Hw(o)){if(!rc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function el(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N2(t,e){const n=new O2(t,e);return n.subscribe.bind(n)}class O2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=em),i.error===void 0&&(i.error=em),i.complete===void 0&&(i.complete=em);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1e3,L2=2,V2=4*60*60*1e3,M2=.5;function qw(t,e=D2,n=L2){const r=e*Math.pow(n,t),i=Math.round(M2*r*(Math.random()-.5)*2);return Math.min(V2,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Jn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U2(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j2(t){return t===cs?void 0:t}function U2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const z2={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},W2=Ie.INFO,H2={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},q2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gh{constructor(e){this.name=e,this._logLevel=W2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const K2=(t,e)=>e.some(n=>t instanceof n);let Kw,Gw;function G2(){return Kw||(Kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q2(){return Gw||(Gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PI=new WeakMap,Dg=new WeakMap,kI=new WeakMap,tm=new WeakMap,Lv=new WeakMap;function Z2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PI.set(n,t)}).catch(()=>{}),Lv.set(e,t),e}function Y2(t){if(Dg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dg.set(t,e)}let Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X2(t){Lg=t(Lg)}function J2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nm(this),e,...n);return kI.set(r,e.sort?e.sort():[e]),Di(r)}:Q2().includes(t)?function(...e){return t.apply(nm(this),e),Di(PI.get(this))}:function(...e){return Di(t.apply(nm(this),e))}}function eL(t){return typeof t=="function"?J2(t):(t instanceof IDBTransaction&&Y2(t),K2(t,G2())?new Proxy(t,Lg):t)}function Di(t){if(t instanceof IDBRequest)return Z2(t);if(tm.has(t))return tm.get(t);const e=eL(t);return e!==t&&(tm.set(t,e),Lv.set(e,t)),e}const nm=t=>Lv.get(t);function NI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Di(o.result),l.oldVersion,l.newVersion,Di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const tL=["get","getKey","getAll","getAllKeys","count"],nL=["put","add","delete","clear"],rm=new Map;function Qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return rm.set(e,s),s}X2(t=>({...t,get:(e,n,r)=>Qw(e,n)||t.get(e,n,r),has:(e,n)=>!!Qw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",Zw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new gh("@firebase/app"),sL="@firebase/app-compat",oL="@firebase/analytics-compat",aL="@firebase/analytics",lL="@firebase/app-check-compat",cL="@firebase/app-check",uL="@firebase/auth",dL="@firebase/auth-compat",fL="@firebase/database",hL="@firebase/database-compat",pL="@firebase/functions",mL="@firebase/functions-compat",gL="@firebase/installations",yL="@firebase/installations-compat",vL="@firebase/messaging",_L="@firebase/messaging-compat",wL="@firebase/performance",EL="@firebase/performance-compat",TL="@firebase/remote-config",SL="@firebase/remote-config-compat",xL="@firebase/storage",IL="@firebase/storage-compat",bL="@firebase/firestore",CL="@firebase/firestore-compat",AL="firebase",RL="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",PL={[Vg]:"fire-core",[sL]:"fire-core-compat",[aL]:"fire-analytics",[oL]:"fire-analytics-compat",[cL]:"fire-app-check",[lL]:"fire-app-check-compat",[uL]:"fire-auth",[dL]:"fire-auth-compat",[fL]:"fire-rtdb",[hL]:"fire-rtdb-compat",[pL]:"fire-fn",[mL]:"fire-fn-compat",[gL]:"fire-iid",[yL]:"fire-iid-compat",[vL]:"fire-fcm",[_L]:"fire-fcm-compat",[wL]:"fire-perf",[EL]:"fire-perf-compat",[TL]:"fire-rc",[SL]:"fire-rc-compat",[xL]:"fire-gcs",[IL]:"fire-gcs-compat",[bL]:"fire-fst",[CL]:"fire-fst-compat","fire-js":"fire-js",[AL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,Fg=new Map;function kL(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Er(t){const e=t.name;if(Fg.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Fg.set(e,t);for(const n of gf.values())kL(n,t);return!0}function Ys(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Li=new Zs("app","Firebase",NL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=RL;function OI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=bI()),!n)throw Li.create("no-options");const s=gf.get(i);if(s){if(rc(n,s.options)&&rc(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}const o=new B2(i);for(const l of Fg.values())o.addComponent(l);const a=new OL(n,r,o);return gf.set(i,a),a}function Vv(t=Mg){const e=gf.get(t);if(!e&&t===Mg&&bI())return OI();if(!e)throw Li.create("no-app",{appName:t});return e}function Nn(t,e,n){var r;let i=(r=PL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(a.join(" "));return}Er(new Jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="firebase-heartbeat-database",DL=1,ic="firebase-heartbeat-store";let im=null;function $I(){return im||(im=NI($L,DL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),im}async function LL(t){try{const n=(await $I()).transaction(ic),r=await n.objectStore(ic).get(DI(t));return await n.done,r}catch(e){if(e instanceof tr)Ms.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(n.message)}}}async function Yw(t,e){try{const r=(await $I()).transaction(ic,"readwrite");await r.objectStore(ic).put(e,DI(t)),await r.done}catch(n){if(n instanceof tr)Ms.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ms.warn(r.message)}}}function DI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1024,ML=30*24*60*60*1e3;class FL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ML}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xw(),{heartbeatsToSend:r,unsentEntries:i}=jL(this._heartbeatsCache.heartbeats),s=mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Xw(){return new Date().toISOString().substring(0,10)}function jL(t,e=VL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dv()?RI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jw(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){Er(new Jn("platform-logger",e=>new rL(e),"PRIVATE")),Er(new Jn("heartbeat",e=>new FL(e),"PRIVATE")),Nn(Vg,Zw,t),Nn(Vg,Zw,"esm2017"),Nn("fire-js","")}BL("");var zL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,Mv=Mv||{},de=zL||self;function yh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function WL(t){return Object.prototype.hasOwnProperty.call(t,sm)&&t[sm]||(t[sm]=++HL)}var sm="closure_uid_"+(1e9*Math.random()>>>0),HL=0;function qL(t,e,n){return t.call.apply(t.bind,arguments)}function KL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?zt=qL:zt=KL,zt.apply(null,arguments)}function Nu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function es(){this.s=this.s,this.o=this.o}var GL=0;es.prototype.s=!1;es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),GL!=0)&&WL(this)};es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function eE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var QL=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};de.addEventListener("test",n,e),de.removeEventListener("test",n,e)}catch{}return t}();function sc(t){return/^[\s\xa0]*$/.test(t)}function vh(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function or(t){return vh().indexOf(t)!=-1}function jv(t){return jv[" "](t),t}jv[" "]=function(){};function ZL(t,e){var n=BV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var YL=or("Opera"),ta=or("Trident")||or("MSIE"),VI=or("Edge"),jg=VI||ta,MI=or("Gecko")&&!(vh().toLowerCase().indexOf("webkit")!=-1&&!or("Edge"))&&!(or("Trident")||or("MSIE"))&&!or("Edge"),XL=vh().toLowerCase().indexOf("webkit")!=-1&&!or("Edge");function FI(){var t=de.document;return t?t.documentMode:void 0}var Ug;e:{var om="",am=function(){var t=vh();if(MI)return/rv:([^\);]+)(\)|;)/.exec(t);if(VI)return/Edge\/([\d\.]+)/.exec(t);if(ta)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(XL)return/WebKit\/(\S+)/.exec(t);if(YL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(am&&(om=am?am[1]:""),ta){var lm=FI();if(lm!=null&&lm>parseFloat(om)){Ug=String(lm);break e}}Ug=om}var Bg;if(de.document&&ta){var tE=FI();Bg=tE||parseInt(Ug,10)||void 0}else Bg=void 0;var JL=Bg;function oc(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(MI){e:{try{jv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:eV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&oc.$.h.call(this)}}It(oc,Wt);var eV={2:"touch",3:"pen",4:"mouse"};oc.prototype.h=function(){oc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zc="closure_listenable_"+(1e6*Math.random()|0),tV=0;function nV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++tV,this.fa=this.ia=!1}function _h(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Uv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function rV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function jI(t){const e={};for(const n in t)e[n]=t[n];return e}const nE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<nE.length;s++)n=nE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wh(t){this.src=t,this.g={},this.h=0}wh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Wg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new nV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function zg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=LI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_h(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Bv="closure_lm_"+(1e6*Math.random()|0),cm={};function BI(t,e,n,r,i){if(r&&r.once)return WI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)BI(t,e[s],n,r,i);return null}return n=Hv(n),t&&t[zc]?t.O(e,n,Bc(r)?!!r.capture:!!r,i):zI(t,e,n,!1,r,i)}function zI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Bc(i)?!!i.capture:!!i,a=Wv(t);if(a||(t[Bv]=a=new wh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=iV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)QL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function iV(){function t(n){return e.call(t.src,t.listener,n)}const e=sV;return t}function WI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WI(t,e[s],n,r,i);return null}return n=Hv(n),t&&t[zc]?t.P(e,n,Bc(r)?!!r.capture:!!r,i):zI(t,e,n,!0,r,i)}function HI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)HI(t,e[s],n,r,i);else r=Bc(r)?!!r.capture:!!r,n=Hv(n),t&&t[zc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Wg(s,n,r,i),-1<n&&(_h(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wg(e,n,r,i)),(n=-1<t?e[t]:null)&&zv(n))}function zv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[zc])zg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wv(e))?(zg(n,t),n.h==0&&(n.src=null,e[Bv]=null)):_h(t)}}}function qI(t){return t in cm?cm[t]:cm[t]="on"+t}function sV(t,e){if(t.fa)t=!0;else{e=new oc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zv(t),t=n.call(r,e)}return t}function Wv(t){return t=t[Bv],t instanceof wh?t:null}var um="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hv(t){return typeof t=="function"?t:(t[um]||(t[um]=function(e){return t.handleEvent(e)}),t[um])}function xt(){es.call(this),this.i=new wh(this),this.S=this,this.J=null}It(xt,es);xt.prototype[zc]=!0;xt.prototype.removeEventListener=function(t,e,n,r){HI(this,t,e,n,r)};function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;e=new Wt(r,t),UI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ou(o,r,!0,e)&&i}if(o=e.g=t,i=Ou(o,r,!0,e)&&i,i=Ou(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ou(o,r,!1,e)&&i}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_h(n[r]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ou(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&zg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var qv=de.JSON.stringify;class oV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function aV(){var t=Kv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class lV{constructor(){this.h=this.g=null}add(e,n){const r=KI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var KI=new oV(()=>new cV,t=>t.reset());class cV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function uV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function dV(t){de.setTimeout(()=>{throw t},0)}let ac,lc=!1,Kv=new lV,GI=()=>{const t=de.Promise.resolve(void 0);ac=()=>{t.then(fV)}};var fV=()=>{for(var t;t=aV();){try{t.h.call(t.g)}catch(n){dV(n)}var e=KI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lc=!1};function Eh(t,e){xt.call(this),this.h=t||1,this.g=e||de,this.j=zt(this.qb,this),this.l=Date.now()}It(Eh,xt);q=Eh.prototype;q.ga=!1;q.T=null;q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(Gv(this),this.start()))}};q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}q.N=function(){Eh.$.N.call(this),Gv(this),delete this.g};function Qv(t,e,n){if(typeof t=="function")n&&(t=zt(t,n));else if(t&&typeof t.handleEvent=="function")t=zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function QI(t){t.g=Qv(()=>{t.g=null,t.i&&(t.i=!1,QI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hV extends es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QI(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cc(t){es.call(this),this.h=t,this.g={}}It(cc,es);var rE=[];function ZI(t,e,n,r){Array.isArray(n)||(n&&(rE[0]=n.toString()),n=rE);for(var i=0;i<n.length;i++){var s=BI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function YI(t){Uv(t.g,function(e,n){this.g.hasOwnProperty(n)&&zv(e)},t),t.g={}}cc.prototype.N=function(){cc.$.N.call(this),YI(this)};cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Th(){this.g=!0}Th.prototype.Ea=function(){this.g=!1};function pV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function mV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ko(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yV(t,n)+(r?" "+r:"")})}function gV(t,e){t.info(function(){return"TIMEOUT: "+e})}Th.prototype.info=function(){};function yV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return qv(n)}catch{return e}}var Xs={},iE=null;function Sh(){return iE=iE||new xt}Xs.Ta="serverreachability";function XI(t){Wt.call(this,Xs.Ta,t)}It(XI,Wt);function uc(t){const e=Sh();Nt(e,new XI(e))}Xs.STAT_EVENT="statevent";function JI(t,e){Wt.call(this,Xs.STAT_EVENT,t),this.stat=e}It(JI,Wt);function Yt(t){const e=Sh();Nt(e,new JI(e,t))}Xs.Ua="timingevent";function eb(t,e){Wt.call(this,Xs.Ua,t),this.size=e}It(eb,Wt);function Wc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var xh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zv(){}Zv.prototype.h=null;function sE(t){return t.h||(t.h=t.i())}function nb(){}var Hc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yv(){Wt.call(this,"d")}It(Yv,Wt);function Xv(){Wt.call(this,"c")}It(Xv,Wt);var Hg;function Ih(){}It(Ih,Zv);Ih.prototype.g=function(){return new XMLHttpRequest};Ih.prototype.i=function(){return{}};Hg=new Ih;function qc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new cc(this),this.P=vV,t=jg?125:void 0,this.V=new Eh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rb}function rb(){this.i=null,this.g="",this.h=!1}var vV=45e3,ib={},qg={};q=qc.prototype;q.setTimeout=function(t){this.P=t};function Kg(t,e,n){t.L=1,t.A=Ch(Xr(e)),t.u=n,t.S=!0,sb(t,null)}function sb(t,e){t.G=Date.now(),Kc(t),t.B=Xr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),hb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new rb,t.g=$b(t.l,n?e:null,!t.u),0<t.O&&(t.M=new hV(zt(t.Pa,t,t.g),t.O)),ZI(t.U,t.g,"readystatechange",t.nb),e=t.I?jI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),uc(),pV(t.j,t.v,t.B,t.m,t.W,t.u)}q.nb=function(t){t=t.target;const e=this.M;e&&cr(t)==3?e.l():this.Pa(t)};q.Pa=function(t){try{if(t==this.g)e:{const u=cr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||jg||this.g&&(this.h.h||this.g.ja()||cE(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?uc(3):uc(2)),bh(this);var n=this.g.da();this.ca=n;t:if(ob(this)){var r=cE(this.g);t="";var i=r.length,s=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),vl(this);var o="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,mV(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sc(a)){var c=a;break t}}c=null}if(n=c)ko(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,n);else{this.i=!1,this.s=3,Yt(12),ys(this),vl(this);break e}}this.S?(ab(this,u,o),jg&&this.i&&u==3&&(ZI(this.U,this.V,"tick",this.mb),this.V.start())):(ko(this.j,this.m,o,null),Gg(this,o)),u==4&&ys(this),this.i&&!this.J&&(u==4?Pb(this.l,this):(this.i=!1,Kc(this)))}else FV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),ys(this),vl(this)}}}catch{}finally{}};function ob(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ab(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=_V(t,n),i==qg){e==4&&(t.s=4,Yt(14),r=!1),ko(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ib){t.s=4,Yt(15),ko(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ko(t.j,t.m,i,null),Gg(t,i);ob(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Yt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),i_(e),e.M=!0,Yt(11))):(ko(t.j,t.m,n,"[Invalid Chunked Response]"),ys(t),vl(t))}q.mb=function(){if(this.g){var t=cr(this.g),e=this.g.ja();this.o<e.length&&(bh(this),ab(this,t,e),this.i&&t!=4&&Kc(this))}};function _V(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?qg:(n=Number(e.substring(n,r)),isNaN(n)?ib:(r+=1,r+n>e.length?qg:(e=e.slice(r,r+n),t.o=r+n,e)))}q.cancel=function(){this.J=!0,ys(this)};function Kc(t){t.Y=Date.now()+t.P,lb(t,t.P)}function lb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Wc(zt(t.lb,t),e)}function bh(t){t.C&&(de.clearTimeout(t.C),t.C=null)}q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(gV(this.j,this.B),this.L!=2&&(uc(),Yt(17)),ys(this),this.s=2,vl(this)):lb(this,this.Y-t)};function vl(t){t.l.H==0||t.J||Pb(t.l,t)}function ys(t){bh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Gv(t.V),YI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Gg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Qg(n.i,t))){if(!t.K&&Qg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)_f(n),kh(n);else break e;r_(n),Yt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wc(zt(n.ib,n),6e3));if(1>=gb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vs(n,11)}else if((t.K||n.g==t)&&_f(n),!sc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Jv(s,s.h),s.h=null))}if(r.F){const m=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,We(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Ob(r,r.J?r.pa:null,r.Y),o.K){yb(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(bh(a),Kc(a)),r.g=o}else Ab(r);0<n.j.length&&Nh(n)}else c[0]!="stop"&&c[0]!="close"||vs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?vs(n,7):n_(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}uc(4)}catch{}}function wV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function EV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function cb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=EV(t),r=wV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ub=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Cs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cs){this.h=t.h,yf(this,t.j),this.s=t.s,this.g=t.g,vf(this,t.m),this.l=t.l;var e=t.i,n=new dc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oE(this,n),this.o=t.o}else t&&(e=String(t).match(ub))?(this.h=!1,yf(this,e[1]||"",!0),this.s=nl(e[2]||""),this.g=nl(e[3]||"",!0),vf(this,e[4]),this.l=nl(e[5]||"",!0),oE(this,e[6]||"",!0),this.o=nl(e[7]||"")):(this.h=!1,this.i=new dc(null,this.h))}Cs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rl(e,aE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(rl(e,aE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(rl(n,n.charAt(0)=="/"?IV:xV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rl(n,CV)),t.join("")};function Xr(t){return new Cs(t)}function yf(t,e,n){t.j=n?nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function oE(t,e,n){e instanceof dc?(t.i=e,AV(t.i,t.h)):(n||(e=rl(e,bV)),t.i=new dc(e,t.h))}function We(t,e,n){t.i.set(e,n)}function Ch(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var aE=/[#\/\?@]/g,xV=/[#\?:]/g,IV=/[#\?]/g,bV=/[#\?@]/g,CV=/#/g;function dc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ts(t){t.g||(t.g=new Map,t.h=0,t.i&&TV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=dc.prototype;q.add=function(t,e){ts(this),this.i=null,t=Sa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function db(t,e){ts(t),e=Sa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fb(t,e){return ts(t),e=Sa(t,e),t.g.has(e)}q.forEach=function(t,e){ts(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};q.ta=function(){ts(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};q.Z=function(t){ts(this);let e=[];if(typeof t=="string")fb(this,t)&&(e=e.concat(this.g.get(Sa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return ts(this),this.i=null,t=Sa(this,t),fb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hb(t,e,n){db(t,e),0<n.length&&(t.i=null,t.g.set(Sa(t,e),Fv(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Sa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function AV(t,e){e&&!t.j&&(ts(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(db(this,r),hb(this,i,n))},t)),t.j=e}var RV=class{constructor(t,e){this.g=t,this.map=e}};function pb(t){this.l=t||PV,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PV=10;function mb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function gb(t){return t.h?1:t.g?t.g.size:0}function Qg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Jv(t,e){t.g?t.g.add(e):t.h=e}function yb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}pb.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function vb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fv(t.i)}var kV=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function NV(){this.g=new kV}function OV(t,e,n){const r=n||"";try{cb(t,function(i,s){let o=i;Bc(i)&&(o=qv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $V(t,e){const n=new Th;if(de.Image){const r=new Image;r.onload=Nu($u,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nu($u,n,r,"TestLoadImage: error",!1,e),r.onabort=Nu($u,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nu($u,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function $u(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ah(t){this.l=t.ec||null,this.j=t.ob||!1}It(Ah,Zv);Ah.prototype.g=function(){return new Rh(this.l,this.j)};Ah.prototype.i=function(t){return function(){return t}}({});function Rh(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=e_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(Rh,xt);var e_=0;q=Rh.prototype;q.open=function(t,e){if(this.readyState!=e_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fc(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gc(this)),this.readyState=e_};q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fc(this)),this.g&&(this.readyState=3,fc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_b(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _b(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gc(this):fc(this),this.readyState==3&&_b(this)}};q.Za=function(t){this.g&&(this.response=this.responseText=t,Gc(this))};q.Ya=function(t){this.g&&(this.response=t,Gc(this))};q.ka=function(){this.g&&Gc(this)};function Gc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fc(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function fc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var DV=de.JSON.parse;function rt(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wb,this.L=this.M=!1}It(rt,xt);var wb="",LV=/^https?$/i,VV=["POST","PUT"];q=rt.prototype;q.Oa=function(t){this.M=t};q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hg.g(),this.C=this.u?sE(this.u):sE(Hg),this.g.onreadystatechange=zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){lE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=LI(VV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sb(this),0<this.B&&((this.L=MV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.ua,this)):this.A=Qv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lE(this,s)}};function MV(t){return ta&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.ua=function(){typeof Mv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function lE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Eb(t),Ph(t)}function Eb(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Ph(this))};q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ph(this,!0)),rt.$.N.call(this)};q.La=function(){this.s||(this.G||this.v||this.l?Tb(this):this.kb())};q.kb=function(){Tb(this)};function Tb(t){if(t.h&&typeof Mv<"u"&&(!t.C[1]||cr(t)!=4||t.da()!=2)){if(t.v&&cr(t)==4)Qv(t.La,0,t);else if(Nt(t,"readystatechange"),cr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(ub)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),r=!LV.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var s=2<cr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Eb(t)}}finally{Ph(t)}}}}function Ph(t,e){if(t.g){Sb(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Sb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}q.isActive=function(){return!!this.g};function cr(t){return t.g?t.g.readyState:0}q.da=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}};q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),DV(e)}};function cE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function FV(t){const e={};t=(t.g&&2<=cr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(sc(t[r]))continue;var n=uV(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}rV(e,function(r){return r.join(", ")})}q.Ia=function(){return this.m};q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function xb(t){let e="";return Uv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function t_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function Ha(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ib(t){this.Ga=0,this.j=[],this.l=new Th,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ha("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ha("baseRetryDelayMs",5e3,t),this.hb=Ha("retryDelaySeedMs",1e4,t),this.eb=Ha("forwardChannelMaxRetries",2,t),this.xa=Ha("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new pb(t&&t.concurrentRequestLimit),this.Ja=new NV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}q=Ib.prototype;q.ra=8;q.H=1;function n_(t){if(bb(t),t.H==3){var e=t.W++,n=Xr(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),Qc(t,n),e=new qc(t,t.l,e),e.L=2,e.A=Ch(Xr(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.A,n=!0),n||(e.g=$b(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Kc(e)}Nb(t)}function kh(t){t.g&&(i_(t),t.g.cancel(),t.g=null)}function bb(t){kh(t),t.u&&(de.clearTimeout(t.u),t.u=null),_f(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function Nh(t){if(!mb(t.i)&&!t.m){t.m=!0;var e=t.Na;ac||GI(),lc||(ac(),lc=!0),Kv.add(e,t),t.C=0}}function jV(t,e){return gb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Wc(zt(t.Na,t,e),kb(t,t.C)),t.C++,!0)}q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new qc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=jI(s),UI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Cb(this,i,e),n=Xr(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),Qc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(xb(s)))+"&"+e:this.o&&t_(n,this.o,s)),Jv(this.i,i),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),i.aa=!0,Kg(i,n,null)):Kg(i,n,e),this.H=2}}else this.H==3&&(t?uE(this,t):this.j.length==0||mb(this.i)||uE(this))};function uE(t,e){var n;e?n=e.m:n=t.W++;const r=Xr(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),Qc(t,r),t.o&&t.s&&t_(r,t.o,t.s),n=new qc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Cb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Jv(t.i,n),Kg(n,r,e)}function Qc(t,e){t.na&&Uv(t.na,function(n,r){We(e,r,n)}),t.h&&cb({},function(n,r){We(e,r,n)})}function Cb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?zt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{OV(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ab(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ac||GI(),lc||(ac(),lc=!0),Kv.add(e,t),t.A=0}}function r_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Wc(zt(t.Ma,t),kb(t,t.A)),t.A++,!0)}q.Ma=function(){if(this.u=null,Rb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Wc(zt(this.jb,this),t)}};q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yt(10),kh(this),Rb(this))};function i_(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function Rb(t){t.g=new qc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Xr(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),Qc(t,e),t.o&&t.s&&t_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ch(Xr(e)),n.u=null,n.S=!0,sb(n,t)}q.ib=function(){this.v!=null&&(this.v=null,kh(this),r_(this),Yt(19))};function _f(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function Pb(t,e){var n=null;if(t.g==e){_f(t),i_(t),t.g=null;var r=2}else if(Qg(t.i,e))n=e.F,yb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Sh(),Nt(r,new eb(r,n)),Nh(t)}else Ab(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&jV(t,e)||r==2&&r_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vs(t,5);break;case 4:vs(t,10);break;case 3:vs(t,6);break;default:vs(t,2)}}}function kb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=zt(t.pb,t);n||(n=new Cs("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||yf(n,"https"),Ch(n)),$V(n.toString(),r)}else Yt(2);t.H=0,t.h&&t.h.za(e),Nb(t),bb(t)}q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Yt(2)):(this.l.info("Failed to ping google.com"),Yt(1))};function Nb(t){if(t.H=0,t.ma=[],t.h){const e=vb(t.i);(e.length!=0||t.j.length!=0)&&(eE(t.ma,e),eE(t.ma,t.j),t.i.i.length=0,Fv(t.j),t.j.length=0),t.h.ya()}}function Ob(t,e,n){var r=n instanceof Cs?Xr(n):new Cs(n);if(r.g!="")e&&(r.g=e+"."+r.g),vf(r,r.m);else{var i=de.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Cs(null);r&&yf(s,r),e&&(s.g=e),i&&vf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),Qc(t,r),r}function $b(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new rt(new Ah({ob:n})):new rt(t.va),e.Oa(t.J),e}q.isActive=function(){return!!this.h&&this.h.isActive(this)};function Db(){}q=Db.prototype;q.Ba=function(){};q.Aa=function(){};q.za=function(){};q.ya=function(){};q.isActive=function(){return!0};q.Va=function(){};function wf(){if(ta&&!(10<=Number(JL)))throw Error("Environmental error: no available transport.")}wf.prototype.g=function(t,e){return new En(t,e)};function En(t,e){xt.call(this),this.g=new Ib(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!sc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xa(this)}It(En,xt);En.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Yt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Ob(t,null,t.Y),Nh(t)};En.prototype.close=function(){n_(this.g)};En.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=qv(t),t=n);e.j.push(new RV(e.fb++,t)),e.H==3&&Nh(e)};En.prototype.N=function(){this.g.h=null,delete this.j,n_(this.g),delete this.g,En.$.N.call(this)};function Lb(t){Yv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(Lb,Yv);function Vb(){Xv.call(this),this.status=1}It(Vb,Xv);function xa(t){this.g=t}It(xa,Db);xa.prototype.Ba=function(){Nt(this.g,"a")};xa.prototype.Aa=function(t){Nt(this.g,new Lb(t))};xa.prototype.za=function(t){Nt(this.g,new Vb)};xa.prototype.ya=function(){Nt(this.g,"b")};function UV(){this.blockSize=-1}function er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(er,UV);er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}er.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)dm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){dm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){dm(this,r),i=0;break}}this.h=i,this.i+=e};er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Le(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var BV={};function s_(t){return-128<=t&&128>t?ZL(t,function(e){return new Le([e|0],0>e?-1:0)}):new Le([t|0],0>t?-1:0)}function ur(t){if(isNaN(t)||!isFinite(t))return Fo;if(0>t)return Rt(ur(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Zg;return new Le(e,0)}function Mb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Rt(Mb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ur(Math.pow(e,8)),r=Fo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ur(Math.pow(e,s)),r=r.R(s).add(ur(o))):(r=r.R(n),r=r.add(ur(o)))}return r}var Zg=4294967296,Fo=s_(0),Yg=s_(1),dE=s_(16777216);q=Le.prototype;q.ea=function(){if(An(this))return-Rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Zg+r)*e,e*=Zg}return t};q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Lr(this))return"0";if(An(this))return"-"+Rt(this).toString(t);for(var e=ur(Math.pow(t,6)),n=this,r="";;){var i=Tf(n,e).g;n=Ef(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Lr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Lr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function An(t){return t.h==-1}q.X=function(t){return t=Ef(this,t),An(t)?-1:Lr(t)?0:1};function Rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Le(n,~t.h).add(Yg)}q.abs=function(){return An(this)?Rt(this):this};q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Le(n,n[n.length-1]&-2147483648?-1:0)};function Ef(t,e){return t.add(Rt(e))}q.R=function(t){if(Lr(this)||Lr(t))return Fo;if(An(this))return An(t)?Rt(this).R(Rt(t)):Rt(Rt(this).R(t));if(An(t))return Rt(this.R(Rt(t)));if(0>this.X(dE)&&0>t.X(dE))return ur(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Du(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Du(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Du(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Du(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Le(n,0)};function Du(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qa(t,e){this.g=t,this.h=e}function Tf(t,e){if(Lr(e))throw Error("division by zero");if(Lr(t))return new qa(Fo,Fo);if(An(t))return e=Tf(Rt(t),e),new qa(Rt(e.g),Rt(e.h));if(An(e))return e=Tf(t,Rt(e)),new qa(Rt(e.g),e.h);if(30<t.g.length){if(An(t)||An(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yg,r=e;0>=r.X(t);)n=fE(n),r=fE(r);var i=co(n,1),s=co(r,1);for(r=co(r,2),n=co(n,2);!Lr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=co(r,1),n=co(n,1)}return e=Ef(t,i.R(e)),new qa(i,e)}for(i=Fo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ur(n),o=s.R(e);An(o)||0<o.X(t);)n-=r,s=ur(n),o=s.R(e);Lr(s)&&(s=Yg),i=i.add(s),t=Ef(t,o)}return new qa(i,t)}q.gb=function(t){return Tf(this,t).h};q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Le(n,this.h&t.h)};q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Le(n,this.h|t.h)};q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Le(n,this.h^t.h)};function fE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Le(n,t.h)}function co(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Le(i,t.h)}wf.prototype.createWebChannel=wf.prototype.g;En.prototype.send=En.prototype.u;En.prototype.open=En.prototype.m;En.prototype.close=En.prototype.close;xh.NO_ERROR=0;xh.TIMEOUT=8;xh.HTTP_ERROR=6;tb.COMPLETE="complete";nb.EventType=Hc;Hc.OPEN="a";Hc.CLOSE="b";Hc.ERROR="c";Hc.MESSAGE="d";xt.prototype.listen=xt.prototype.O;rt.prototype.listenOnce=rt.prototype.P;rt.prototype.getLastError=rt.prototype.Sa;rt.prototype.getLastErrorCode=rt.prototype.Ia;rt.prototype.getStatus=rt.prototype.da;rt.prototype.getResponseJson=rt.prototype.Wa;rt.prototype.getResponseText=rt.prototype.ja;rt.prototype.send=rt.prototype.ha;rt.prototype.setWithCredentials=rt.prototype.Oa;er.prototype.digest=er.prototype.l;er.prototype.reset=er.prototype.reset;er.prototype.update=er.prototype.j;Le.prototype.add=Le.prototype.add;Le.prototype.multiply=Le.prototype.R;Le.prototype.modulo=Le.prototype.gb;Le.prototype.compare=Le.prototype.X;Le.prototype.toNumber=Le.prototype.ea;Le.prototype.toString=Le.prototype.toString;Le.prototype.getBits=Le.prototype.D;Le.fromNumber=ur;Le.fromString=Mb;var zV=function(){return new wf},WV=function(){return Sh()},fm=xh,HV=tb,qV=Xs,hE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lu=nb,KV=rt,GV=er,jo=Le;const pE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new gh("@firebase/firestore");function Ka(){return Fs.logLevel}function H(t,...e){if(Fs.logLevel<=Ie.DEBUG){const n=e.map(o_);Fs.debug(`Firestore (${Ia}): ${t}`,...n)}}function Tr(t,...e){if(Fs.logLevel<=Ie.ERROR){const n=e.map(o_);Fs.error(`Firestore (${Ia}): ${t}`,...n)}}function na(t,...e){if(Fs.logLevel<=Ie.WARN){const n=e.map(o_);Fs.warn(`Firestore (${Ia}): ${t}`,...n)}}function o_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function Ue(t,e){t||ue()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class ZV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YV{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new Fb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new jt(e)}}class XV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class JV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new XV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new eM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new yt(0,0))}static max(){return new fe(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends hc{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const rM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends hc{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return rM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ke.fromString(e))}static fromName(e){return new oe(Ke.fromString(e).popFirst(5))}static empty(){return new oe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ke(e.slice()))}}function iM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Wi(i,oe.empty(),e)}function sM(t){return new Wi(t.readTime,t.key,-1)}class Wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wi(fe.min(),oe.empty(),-1)}static max(){return new Wi(fe.max(),oe.empty(),-1)}}function oM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==aM)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,r)=>{n(e)})}static reject(e){return new k((n,r)=>{r(e)})}static waitFor(e){return new k((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=k.resolve(!1);for(const r of e)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new k((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new k((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Hr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _l(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=l_(r.target.error);this.V.reject(new _l(e,i))}}static open(e,n,r,i){try{return new a_(n,e.transaction(i,r))}catch(s){throw new _l(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(H("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uM(n)}}class _s{constructor(e,n,r){this.name=e,this.version=n,this.p=r,_s.S(dt())===12.2&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return H("SimpleDb","Removing database:",e),ds(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dv())return!1;if(_s.C())return!0;const e=dt(),n=_s.S(e),r=0<n&&n<10,i=_s.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(H("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new _l(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new te($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new _l(e,o))},i.onupgradeneeded=s=>{H("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{H("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=a_.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),k.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(H("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class cM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ds(this.k.delete())}}class _l extends te{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Yc(t){return t.name==="IndexedDbTransactionError"}class uM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(H("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(H("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ds(r)}add(e){return H("SimpleDb","ADD",this.store.name,e,e),ds(this.store.add(e))}get(e){return ds(this.store.get(e)).next(n=>(n===void 0&&(n=null),H("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return H("SimpleDb","DELETE",this.store.name,e),ds(this.store.delete(e))}count(){return H("SimpleDb","COUNT",this.store.name),ds(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new k((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new k((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){H("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new k((r,i)=>{n.onerror=s=>{const o=l_(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new k((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new cM(a),c=n(a.primaryKey,a.value,l);if(c instanceof k){const u=c.catch(d=>(l.done(),k.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>k.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ds(t){return new k((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=l_(r.target.error);n(i)}})}let mE=!1;function l_(t){const e=_s.S(dt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mE||(mE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}c_._e=-1;function Oh(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function dM(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ub(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vu(this.root,e,this.comparator,!0)}}class Vu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new gn([])}unionWith(e){let n=new Ot(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bb("Invalid base64 string: "+s):s}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const fM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=fM.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function d_(t){const e=t.mapValue.fields.__previous_value__;return u_(e)?d_(e):e}function pc(t){const e=Hi(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class mc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u_(t)?4:pM(t)?9007199254740991:10:ue()}function Sr(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pc(t).isEqual(pc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Hi(i.timestampValue),a=Hi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return js(i.bytesValue).isEqual(js(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),a=lt(s.doubleValue);return o===a?Sf(o)===Sf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gE(o)!==gE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Sr(o[l],a[l])))return!1;return!0}(t,e);default:return ue()}}function gc(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function ia(t,e){if(t===e)return 0;const n=Us(t),r=Us(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lt(s.integerValue||s.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vE(t.timestampValue,e.timestampValue);case 4:return vE(pc(t),pc(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(s,o){const a=js(s),l=js(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ne(a[c],l[c]);if(u!==0)return u}return Ne(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ne(lt(s.latitude),lt(o.latitude));return a!==0?a:Ne(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=ia(a[c],l[c]);if(u)return u}return Ne(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Mu.mapValue&&o===Mu.mapValue)return 0;if(s===Mu.mapValue)return 1;if(o===Mu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=Ne(l[d],u[d]);if(f!==0)return f;const g=ia(a[l[d]],c[u[d]]);if(g!==0)return g}return Ne(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ue()}}function vE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Hi(t),r=Hi(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function sa(t){return Xg(t)}function Xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Xg(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function Jg(t){return!!t&&"integerValue"in t}function f_(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function wE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hd(t){return!!t&&"mapValue"in t}function wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(wl(this.value))}}function zb(t){const e=[];return Js(t.fields,(n,r)=>{const i=new Pt([n]);if(hd(r)){const s=zb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,fe.min(),fe.min(),fe.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,fe.min(),fe.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,fe.min(),fe.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.position=e,this.inclusive=n}}function EE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=ia(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n="asc"){this.field=e,this.dir=n}}function mM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{}class mt extends Wb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yM(e,n,r):n==="array-contains"?new wM(e,r):n==="in"?new EM(e,r):n==="not-in"?new TM(e,r):n==="array-contains-any"?new SM(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vM(e,r):new _M(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ia(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends Wb{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new xr(e,n)}matches(e){return Hb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Hb(t){return t.op==="and"}function qb(t){return gM(t)&&Hb(t)}function gM(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function ey(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+sa(t.value);if(qb(t))return t.filters.map(e=>ey(e)).join(",");{const e=t.filters.map(n=>ey(n)).join(",");return`${t.op}(${e})`}}function Kb(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Kb(o,i.filters[a]),!0):!1}(t,e):void ue()}function Gb(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${sa(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(Gb).join(" ,")+"}"}(t):"Filter"}class yM extends mt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class vM extends mt{constructor(e,n){super(e,"in",n),this.keys=Qb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _M extends mt{constructor(e,n){super(e,"not-in",n),this.keys=Qb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Qb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class wM extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f_(n)&&gc(n.arrayValue,this.value)}}class EM extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class TM extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gc(this.value.arrayValue,n)}}class SM extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function SE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xM(t,e,n,r,i,s,o)}function h_(t){const e=ge(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ey(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sa(r)).join(",")),e.ce=n}return e.ce}function p_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Kb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TE(t.startAt,e.startAt)&&TE(t.endAt,e.endAt)}function ty(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function IM(t,e,n,r,i,s,o,a){return new $h(t,e,n,r,i,s,o,a)}function Zb(t){return new $h(t)}function xE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bM(t){return t.collectionGroup!==null}function El(t){const e=ge(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(Pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new If(s,r))}),n.has(Pt.keyField().canonicalString())||e.le.push(new If(Pt.keyField(),r))}return e.le}function pr(t){const e=ge(t);return e.he||(e.he=CM(e,El(t))),e.he}function CM(t,e){if(t.limitType==="F")return SE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new If(i.field,s)});const n=t.endAt?new xf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xf(t.startAt.position,t.startAt.inclusive):null;return SE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ny(t,e,n){return new $h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dh(t,e){return p_(pr(t),pr(e))&&t.limitType===e.limitType}function Yb(t){return`${h_(pr(t))}|lt:${t.limitType}`}function mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Gb(i)).join(", ")}]`),Oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sa(i)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function Lh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of El(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=EE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,El(r),i)||r.endAt&&!function(o,a,l){const c=EE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,El(r),i))}(t,e)}function AM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Xb(t){return(e,n)=>{let r=!1;for(const i of El(t)){const s=RM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RM(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ia(l,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Xe(oe.comparator);function Jr(){return PM}const Jb=new Xe(oe.comparator);function il(...t){let e=Jb;for(const n of t)e=e.insert(n.key,n);return e}function eC(t){let e=Jb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ws(){return Tl()}function tC(){return Tl()}function Tl(){return new ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const kM=new Xe(oe.comparator),NM=new Ot(oe.comparator);function Se(...t){let e=NM;for(const n of t)e=e.add(n);return e}const OM=new Ot(Ne);function $M(){return OM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function rC(t){return{integerValue:""+t}}function DM(t,e){return dM(e)?rC(e):nC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function LM(t,e,n){return t instanceof bf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&u_(s)&&(s=d_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof yc?sC(t,e):t instanceof vc?oC(t,e):function(i,s){const o=iC(i,s),a=IE(o)+IE(i.Ie);return Jg(o)&&Jg(i.Ie)?rC(a):nC(i.serializer,a)}(t,e)}function VM(t,e,n){return t instanceof yc?sC(t,e):t instanceof vc?oC(t,e):n}function iC(t,e){return t instanceof Cf?function(r){return Jg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bf extends Vh{}class yc extends Vh{constructor(e){super(),this.elements=e}}function sC(t,e){const n=aC(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class vc extends Vh{constructor(e){super(),this.elements=e}}function oC(t,e){let n=aC(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class Cf extends Vh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function IE(t){return lt(t.integerValue||t.doubleValue)}function aC(t){return f_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yc&&i instanceof yc||r instanceof vc&&i instanceof vc?ra(r.elements,i.elements,Sr):r instanceof Cf&&i instanceof Cf?Sr(r.Ie,i.Ie):r instanceof bf&&i instanceof bf}(t.transform,e.transform)}class FM{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mh{}function lC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m_(t.key,Zn.none()):new Xc(t.key,t.data,Zn.none());{const n=t.data,r=on.empty();let i=new Ot(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ns(t.key,r,new gn(i.toArray()),Zn.none())}}function jM(t,e,n){t instanceof Xc?function(i,s,o){const a=i.value.clone(),l=CE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(i,s,o){if(!pd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=CE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(cC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sl(t,e,n,r){return t instanceof Xc?function(s,o,a,l){if(!pd(s.precondition,o))return a;const c=s.value.clone(),u=AE(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(s,o,a,l){if(!pd(s.precondition,o))return a;const c=AE(s.fieldTransforms,l,o),u=o.data;return u.setAll(cC(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return pd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function UM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=iC(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function bE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ra(r,i,(s,o)=>MM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xc extends Mh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends Mh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CE(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,VM(o,a,n[i]))}return r}function AE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LM(s,o,e))}return r}class m_ extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BM extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=lC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,r)=>bE(n,r))&&ra(this.baseMutations,e.baseMutations,(n,r)=>bE(n,r))}}class g_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return kM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new g_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,be;function qM(t){switch(t){default:return ue();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function uC(t){if(t===void 0)return Tr("GRPC error has no .code"),$.UNKNOWN;switch(t){case at.OK:return $.OK;case at.CANCELLED:return $.CANCELLED;case at.UNKNOWN:return $.UNKNOWN;case at.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case at.INTERNAL:return $.INTERNAL;case at.UNAVAILABLE:return $.UNAVAILABLE;case at.UNAUTHENTICATED:return $.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case at.NOT_FOUND:return $.NOT_FOUND;case at.ALREADY_EXISTS:return $.ALREADY_EXISTS;case at.PERMISSION_DENIED:return $.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case at.ABORTED:return $.ABORTED;case at.OUT_OF_RANGE:return $.OUT_OF_RANGE;case at.UNIMPLEMENTED:return $.UNIMPLEMENTED;case at.DATA_LOSS:return $.DATA_LOSS;default:return ue()}}(be=at||(at={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new jo([4294967295,4294967295],0);function RE(t){const e=KM().encode(t),n=new GV;return n.update(e),new Uint8Array(n.digest())}function PE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jo([n,r],0),new jo([i,s],0)]}class y_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sl(`Invalid padding: ${n}`);if(r<0)throw new sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=jo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(jo.fromNumber(r)));return i.compare(GM)===1&&(i=new jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=RE(e),[r,i]=PE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new y_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=RE(e),[r,i]=PE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fh(fe.min(),i,new Xe(Ne),Jr(),Se())}}class Jc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jc(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class dC{constructor(e,n){this.targetId=e,this.fe=n}}class fC{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kE{constructor(){this.ge=0,this.pe=OE(),this.ye=Kt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Se(),n=Se(),r=Se();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Jc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=OE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class QM{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jr(),this.Qe=NE(),this.Ke=new Xe(Ne)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ty(s))if(r===0){const o=new oe(s.path);this.We(n,o,Bt.newNoDocument(o,fe.min()))}else Ue(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=js(r).toUint8Array()}catch(l){if(l instanceof Bb)return na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new y_(o,i,s)}catch(l){return na(l instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ty(a.target)){const l=new oe(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Bt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Se();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Fh(e,n,this.Ke,this.qe,r);return this.qe=Jr(),this.Qe=NE(),this.Ke=new Xe(Ne),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new kE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ot(Ne),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new kE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function NE(){return new Xe(oe.comparator)}function OE(){return new Xe(oe.comparator)}const ZM={asc:"ASCENDING",desc:"DESCENDING"},YM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XM={and:"AND",or:"OR"};class JM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ry(t,e){return t.useProto3Json||Oh(e)?e:{value:e}}function Af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e4(t,e){return Af(t,e.toTimestamp())}function mr(t){return Ue(!!t),fe.fromTimestamp(function(n){const r=Hi(n);return new yt(r.seconds,r.nanos)}(t))}function v_(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pC(t){const e=Ke.fromString(t);return Ue(_C(e)),e}function sy(t,e){return v_(t.databaseId,e.path)}function hm(t,e){const n=pC(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(gC(n))}function mC(t,e){return v_(t.databaseId,e)}function t4(t){const e=pC(t);return e.length===4?Ke.emptyPath():gC(e)}function oy(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gC(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $E(t,e,n){return{name:sy(t,e),fields:n.value.mapValue.fields}}function n4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Ue(u===void 0||typeof u=="string"),Kt.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Uint8Array),Kt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?$.UNKNOWN:uC(c.code);return new te(u,c.message||"")}(o);n=new fC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hm(t,r.document.name),s=mr(r.document.updateTime),o=r.document.createTime?mr(r.document.createTime):fe.min(),a=new on({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new md(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hm(t,r.document),s=r.readTime?mr(r.readTime):fe.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new md([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hm(t,r.document),s=r.removedTargetIds||[];n=new md([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new HM(i,s),a=r.targetId;n=new dC(a,o)}}return n}function r4(t,e){let n;if(e instanceof Xc)n={update:$E(t,e.key,e.value)};else if(e instanceof m_)n={delete:sy(t,e.key)};else if(e instanceof ns)n={update:$E(t,e.key,e.data),updateMask:f4(e.fieldMask)};else{if(!(e instanceof BM))return ue();n={verify:sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:e4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function i4(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?mr(i.updateTime):mr(s);return o.isEqual(fe.min())&&(o=mr(s)),new FM(o,i.transformResults||[])}(n,e))):[]}function s4(t,e){return{documents:[mC(t,e.path)]}}function o4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mC(t,i);const s=function(c){if(c.length!==0)return vC(xr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:go(f.field),direction:c4(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ry(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function a4(t){let e=t4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=yC(d);return f instanceof xr&&qb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new If(yo(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Oh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new xf(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new xf(g,f)}(n.endAt)),IM(e,i,o,s,a,"F",l,c)}function l4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yo(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yo(n.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yo(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>yC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function c4(t){return ZM[t]}function u4(t){return YM[t]}function d4(t){return XM[t]}function go(t){return{fieldPath:t.canonicalString()}}function yo(t){return Pt.fromServerFormat(t.fieldPath)}function vC(t){return t instanceof mt?function(n){if(n.op==="=="){if(wE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:u4(n.op),value:n.value}}}(t):t instanceof xr?function(n){const r=n.getFilters().map(i=>vC(i));return r.length===1?r[0]:{compositeFilter:{op:d4(n.op),filters:r}}}(t):ue()}function f4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _C(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r,i,s=fe.min(),o=fe.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.ct=e}}function p4(t){const e=a4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ny(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this._n=new g4}addToCollectionParentIndex(e,n){return this._n.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Wi.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class g4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new oa(0)}static Bn(){return new oa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.changes=new ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sl(r.mutation,i,gn.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=il();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Jr();const o=Tl(),a=function(){return Tl()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ns)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Sl(u.mutation,c,u.mutation.getFieldMask(),yt.now())):o.set(c.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new v4(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tl();let i=new Xe((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||gn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=tC();u.forEach(f=>{if(!s.has(f)){const g=lC(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):k.resolve(ws());let a=-1,l=s;return o.next(c=>k.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?k.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Se())).next(u=>({batchId:a,changes:eC(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=il();return this.indexManager.getCollectionParents(e,s).next(a=>k.forEach(a,l=>{const c=function(d,f){return new $h(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Bt.newInvalidDocument(u)))});let a=il();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Sl(u.mutation,c,gn.empty(),yt.now()),Lh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return k.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mr(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:p4(i.bundledQuery),readTime:mr(i.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.overlays=new Xe(oe.comparator),this.hr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ws();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){const i=ws(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ws(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ws(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return k.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new WM(n,r));let s=this.hr.get(n);s===void 0&&(s=Se(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.Pr=new Ot(wt.Ir),this.Tr=new Ot(wt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new wt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new oe(new Ke([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new oe(new Ke([])),r=new wt(n,e),i=new wt(n,e+1);let s=Se();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||Ne(e.pr,n.pr)}static Er(e,n){return Ne(e.pr,n.pr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ot(wt.Ir)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Ne);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),k.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new wt(new oe(s),0);let a=new Ot(Ne);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),k.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return k.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new wt(n,0),i=this.wr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.vr=e,this.docs=function(){return new Xe(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Jr();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oM(sM(u),r)<=0||(i.has(u.key)||Lh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Fr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new x4(this)}getSize(e){return k.resolve(this.size)}}class x4 extends y4{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.persistence=e,this.Mr=new ba(n=>h_(n),p_),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __,this.targetCount=0,this.Br=oa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),k.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new oa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.qn(n),k.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),k.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.Lr={},this.overlays={},this.kr=new c_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new I4(this),this.indexManager=new m4,this.remoteDocumentCache=function(i){return new S4(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new h4(n),this.$r=new w4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new T4(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new C4(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return k.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class C4 extends lM{constructor(e){super(),this.currentSequenceNumber=e}}class w_{constructor(e){this.persistence=e,this.zr=new __,this.jr=null}static Hr(e){return new w_(e)}get Jr(){if(this.jr)return this.jr;throw ue()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),k.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Jr,r=>{const i=oe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return k.or([()=>k.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new E_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return b2()?8:_s.v(dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new A4;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ka()<=Ie.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),k.resolve()):(Ka()<=Ie.DEBUG&&H("QueryEngine","Query:",mo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ka()<=Ie.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):k.resolve())}ji(e,n){if(xE(n))return k.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ny(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,ny(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return xE(n)||i.isEqual(fe.min())?k.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?k.resolve(null):(Ka()<=Ie.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mo(n)),this.es(e,o,n,iM(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ot(Xb(e));return n.forEach((i,s)=>{Lh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ka()<=Ie.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",mo(n)),this.zi.getDocumentsMatchingQuery(e,n,Wi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Xe(Ne),this.rs=new ba(s=>h_(s),p_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _4(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function k4(t,e,n,r){return new P4(t,e,n,r)}async function wC(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Se();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function N4(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let g=k.resolve();return f.forEach(v=>{g=g.next(()=>u.getEntry(l,v)).next(m=>{const w=c.docVersions.get(v);Ue(w!==null),m.version.compareTo(w)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EC(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function O4(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(d,g),function(m,w,y){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,u)&&a.push(n.Qr.updateTargetData(s,g))});let l=Jr(),c=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push($4(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(fe.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function $4(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Jr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function D4(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L4(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ay(t,e,n){const r=ge(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yc(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function DE(t,e,n){const r=ge(t);let i=fe.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=ge(l),f=d.rs.get(u);return f!==void 0?k.resolve(d.ns.get(f)):d.Qr.getTargetData(c,u)}(r,o,pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?s:Se())).next(a=>(V4(r,AM(e),a),{documents:a,hs:s})))}function V4(t,e,n){let r=t.ss.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class LE{constructor(){this.activeTargetIds=$M()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M4{constructor(){this.no=new LE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new LE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=null;function pm(){return Fu===null?Fu=function(){return 268435456+Math.round(2147483648*Math.random())}():Fu++,"0x"+Fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class B4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=pm(),l=this.bo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(H("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw na("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=j4[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=pm();return new Promise((o,a)=>{const l=new KV;l.setWithCredentials(!0),l.listenOnce(HV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fm.NO_ERROR:const u=l.getResponseJson();H(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case fm.TIMEOUT:H(Ft,`RPC '${e}' ${s} timed out`),a(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const d=l.getStatus();if(H(Ft,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(g.status);a(new te(v,g.message))}else a(new te($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te($.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{H(Ft,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);H(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=pm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zV(),a=WV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");H(Ft,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,g=!1;const v=new U4({lo:w=>{g?H(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(H(Ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),H(Ft,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),m=(w,y,p)=>{w.listen(y,_=>{try{p(_)}catch(T){setTimeout(()=>{throw T},0)}})};return m(d,Lu.EventType.OPEN,()=>{g||H(Ft,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Lu.EventType.CLOSE,()=>{g||(g=!0,H(Ft,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),m(d,Lu.EventType.ERROR,w=>{g||(g=!0,na(Ft,`RPC '${e}' stream ${i} transport errored:`,w),v.Vo(new te($.UNAVAILABLE,"The operation could not be completed")))}),m(d,Lu.EventType.MESSAGE,w=>{var y;if(!g){const p=w.data[0];Ue(!!p);const _=p,T=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(T){H(Ft,`RPC '${e}' stream ${i} received error:`,T);const S=T.status;let b=function(F){const j=at[F];if(j!==void 0)return uC(j)}(S),I=T.message;b===void 0&&(b=$.INTERNAL,I="Unknown error status: "+S+" with message "+T.message),g=!0,v.Vo(new te(b,I)),d.close()}else H(Ft,`RPC '${e}' stream ${i} received:`,p),v.mo(p)}}),m(a,qV.STAT_EVENT,w=>{w.stat===hE.PROXY?H(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===hE.NOPROXY&&H(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){return new JM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new TC(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z4 extends SC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=n4(this.serializer,e),r=function(s){if(!("targetChange"in s))return fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?mr(o.readTime):fe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=oy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ty(l)?{documents:s4(s,l)}:{query:o4(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hC(s,o.resumeToken);const c=ry(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Af(s,o.snapshotVersion.toTimestamp());const c=ry(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=l4(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=oy(this.serializer),n.removeTarget=e,this.t_(n)}}class W4 extends SC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=i4(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.T_(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=oy(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>r4(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,iy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,iy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te($.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class q4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Tr(n),this.g_=!1):H("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{eo(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ge(l);c.v_.add(4),await eu(c),c.x_.set("Unknown"),c.v_.delete(4),await Uh(c)}(this))})}),this.x_=new q4(r,i)}}async function Uh(t){if(eo(t))for(const e of t.F_)await e(!0)}async function eu(t){for(const e of t.F_)await e(!1)}function xC(t,e){const n=ge(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),x_(n)?S_(n):Ca(n).Jo()&&T_(n,e))}function IC(t,e){const n=ge(t),r=Ca(n);n.C_.delete(e),r.Jo()&&bC(n,e),n.C_.size===0&&(r.Jo()?r.Xo():eo(n)&&n.x_.set("Unknown"))}function T_(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).c_(e)}function bC(t,e){t.O_.Oe(e),Ca(t).l_(e)}function S_(t){t.O_=new QM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.x_.p_()}function x_(t){return eo(t)&&!Ca(t).Ho()&&t.C_.size>0}function eo(t){return ge(t).v_.size===0}function CC(t){t.O_=void 0}async function G4(t){t.C_.forEach((e,n)=>{T_(t,e)})}async function Q4(t,e){CC(t),x_(t)?(t.x_.S_(e),S_(t)):t.x_.set("Unknown")}async function Z4(t,e,n){if(t.x_.set("Online"),e instanceof fC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rf(t,r)}else if(e instanceof md?t.O_.$e(e):e instanceof dC?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(fe.min()))try{const r=await EC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(Kt.EMPTY_BYTE_STRING,u.snapshotVersion)),bC(s,l);const d=new Si(u.target,l,c,u.sequenceNumber);T_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await Rf(t,r)}}async function Rf(t,e,n){if(!Yc(e))throw e;t.v_.add(1),await eu(t),t.x_.set("Offline"),n||(n=()=>EC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Uh(t)})}function AC(t,e){return e().catch(n=>Rf(t,n,e))}async function Bh(t){const e=ge(t),n=qi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Y4(e);)try{const i=await D4(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,X4(e,i)}catch(i){await Rf(e,i)}RC(e)&&PC(e)}function Y4(t){return eo(t)&&t.D_.length<10}function X4(t,e){t.D_.push(e);const n=qi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function RC(t){return eo(t)&&!qi(t).Ho()&&t.D_.length>0}function PC(t){qi(t).start()}async function J4(t){qi(t).d_()}async function eF(t){const e=qi(t);for(const n of t.D_)e.I_(n.mutations)}async function tF(t,e,n){const r=t.D_.shift(),i=g_.from(r,e,n);await AC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bh(t)}async function nF(t,e){e&&qi(t).P_&&await async function(r,i){if(function(o){return qM(o)&&o!==$.ABORTED}(i.code)){const s=r.D_.shift();qi(r).Zo(),await AC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Bh(r)}}(t,e),RC(t)&&PC(t)}async function ME(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=eo(n);n.v_.add(3),await eu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Uh(n)}async function rF(t,e){const n=ge(t);e?(n.v_.delete(2),await Uh(n)):e||(n.v_.add(2),await eu(n),n.x_.set("Unknown"))}function Ca(t){return t.N_||(t.N_=function(n,r,i){const s=ge(n);return s.R_(),new z4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:G4.bind(null,t),To:Q4.bind(null,t),u_:Z4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),x_(t)?S_(t):t.x_.set("Unknown")):(await t.N_.stop(),CC(t))})),t.N_}function qi(t){return t.B_||(t.B_=function(n,r,i){const s=ge(n);return s.R_(),new W4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:J4.bind(null,t),To:nF.bind(null,t),E_:eF.bind(null,t),T_:tF.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Bh(t)):(await t.B_.stop(),t.D_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new I_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b_(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),Yc(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=il(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.L_=new Xe(oe.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ue():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class aa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new aa(e,n,Uo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.q_=void 0,this.Q_=[]}}class sF{constructor(){this.queries=new ba(e=>Yb(e),Dh),this.onlineState="Unknown",this.K_=new Set}}async function oF(t,e){const n=ge(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new iF),i)try{s.q_=await n.onListen(r)}catch(o){const a=b_(o,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&C_(n)}async function aF(t,e){const n=ge(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function lF(t,e){const n=ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&C_(n)}function cF(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function C_(t){t.K_.forEach(e=>{e.next()})}class uF{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.key=e}}class NC{constructor(e){this.key=e}}class dF{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Se(),this.mutatedKeys=Se(),this.ua=Xb(e),this.ca=new Uo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new FE,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),g=Lh(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),m=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;f&&g?f.data.isEqual(g.data)?v!==m&&(r.track({type:3,doc:g}),w=!0):this.Ia(f,g)||(r.track({type:2,doc:g}),w=!0,(l&&this.ua(g,l)>0||c&&this.ua(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),w=!0):f&&!g&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(g?(o=o.add(g),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,d)=>function(g,v){const m=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return m(g)-m(v)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,c=l!==this._a;return this._a=l,o.length!==0||c?{snapshot:new aa(this.query,e.ca,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new FE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Se(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new NC(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new kC(r))}),n}Ra(e){this.oa=e.hs,this.aa=Se();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return aa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class fF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hF{constructor(e){this.key=e,this.ma=!1}}class pF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ba(a=>Yb(a),Dh),this.pa=new Map,this.ya=new Set,this.wa=new Xe(oe.comparator),this.Sa=new Map,this.ba=new __,this.Da={},this.Ca=new Map,this.va=oa.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function mF(t,e){const n=IF(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await L4(n.localStore,pr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await gF(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&xC(n.remoteStore,o)}return i}async function gF(t,e,n,r,i){t.Ma=(d,f,g)=>async function(m,w,y,p){let _=w.view.ha(y);_.Xi&&(_=await DE(m.localStore,w.query,!1).then(({documents:I})=>w.view.ha(I,_)));const T=p&&p.targetChanges.get(w.targetId),S=p&&p.targetMismatches.get(w.targetId)!=null,b=w.view.applyChanges(_,m.isPrimaryClient,T,S);return UE(m,w.targetId,b.da),b.snapshot}(t,d,f,g);const s=await DE(t.localStore,e,!0),o=new dF(e,s.hs),a=o.ha(s.documents),l=Jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);UE(t,n,c.da);const u=new fF(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function yF(t,e){const n=ge(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Dh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ay(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),IC(n.remoteStore,r.targetId),ly(n,r.targetId)}).catch(Zc)):(ly(n,r.targetId),await ay(n.localStore,r.targetId,!0))}async function vF(t,e,n){const r=bF(t);try{const i=await function(o,a){const l=ge(o),c=yt.now(),u=a.reduce((g,v)=>g.add(v.key),Se());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Jr(),m=Se();return l.os.getEntries(g,u).next(w=>{v=w,v.forEach((y,p)=>{p.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(w=>{d=w;const y=[];for(const p of a){const _=UM(p,d.get(p.key).overlayedDocument);_!=null&&y.push(new ns(p.key,_,zb(_.value.mapValue),Zn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,y,a)}).next(w=>{f=w;const y=w.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(g,w.batchId,y)})}).then(()=>({batchId:f.batchId,changes:eC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new Xe(Ne)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await tu(r,i.changes),await Bh(r.remoteStore)}catch(i){const s=b_(i,"Failed to persist write");n.reject(s)}}async function OC(t,e){const n=ge(t);try{const r=await O4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Ue(o.ma):i.removedDocuments.size>0&&(Ue(o.ma),o.ma=!1))}),await tu(n,r,e)}catch(r){await Zc(r)}}function jE(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ge(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.Q_)f.U_(a)&&(c=!0)}),c&&C_(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _F(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Xe(oe.comparator);o=o.insert(s,Bt.newNoDocument(s,fe.min()));const a=Se().add(s),l=new Fh(fe.min(),new Map,new Xe(Ne),o,a);await OC(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),A_(r)}else await ay(r.localStore,e,!1).then(()=>ly(r,e,n)).catch(Zc)}async function wF(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await N4(n.localStore,e);DC(n,r,null),$C(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,i)}catch(i){await Zc(i)}}async function EF(t,e,n){const r=ge(t);try{const i=await function(o,a){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ue(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);DC(r,e,n),$C(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,i)}catch(i){await Zc(i)}}function $C(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function DC(t,e,n){const r=ge(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||LC(t,r)})}function LC(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(IC(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),A_(t))}function UE(t,e,n){for(const r of n)r instanceof kC?(t.ba.addReference(r.key,e),TF(t,r)):r instanceof NC?(H("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||LC(t,r.key)):ue()}function TF(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(H("SyncEngine","New document in limbo: "+n),t.ya.add(r),A_(t))}function A_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new oe(Ke.fromString(e)),r=t.va.next();t.Sa.set(r,new hF(n)),t.wa=t.wa.insert(n,r),xC(t.remoteStore,new Si(pr(Zb(n.path)),r,"TargetPurposeLimboResolution",c_._e))}}async function tu(t,e,n){const r=ge(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=E_.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,c){const u=ge(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>k.forEach(c,f=>k.forEach(f.qi,g=>u.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>k.forEach(f.Qi,g=>u.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Yc(d))throw d;H("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=u.ns.get(f),v=g.snapshotVersion,m=g.withLastLimboFreeSnapshotVersion(v);u.ns=u.ns.insert(f,m)}}}(r.localStore,s))}async function SF(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await wC(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new te($.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.us)}}function xF(t,e){const n=ge(t),r=n.Sa.get(e);if(r&&r.ma)return Se().add(r.key);{let i=Se();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function IF(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_F.bind(null,e),e.fa.u_=lF.bind(null,e.eventManager),e.fa.xa=cF.bind(null,e.eventManager),e}function bF(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EF.bind(null,e),e}class BE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return k4(this.persistence,new R4,e.initialUser,this.serializer)}createPersistence(e){return new b4(w_.Hr,this.serializer)}createSharedClientState(e){return new M4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SF.bind(null,this.syncEngine),await rF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sF}()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),r=function(s){return new B4(s)}(e.databaseInfo);return function(s,o,a,l){return new H4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new K4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jE(this.syncEngine,n,0),function(){return VE.D()?new VE:new F4}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new pF(i,s,o,a,l,c);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ge(r);H("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await eu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=jb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{H("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gm(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kF(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ME(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ME(e.remoteStore,i)),t._onlineComponents=e}function PF(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function kF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!PF(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),await gm(t,new BE)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await gm(t,new BE);return t._offlineComponents}async function VC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await zE(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await zE(t,new CF))),t._onlineComponents}function NF(t){return VC(t).then(e=>e.syncEngine)}async function OF(t){const e=await VC(t),n=e.eventManager;return n.onListen=mF.bind(null,e.syncEngine),n.onUnlisten=yF.bind(null,e.syncEngine),n}function $F(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new AF({next:f=>{o.enqueueAndForget(()=>aF(s,d)),f.fromCache&&l.source==="server"?c.reject(new te($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new uF(a,u,{includeMetadataChanges:!0,Z_:!0});return oF(s,d)}(await OF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DF(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HE(t){if(!oe.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qE(t){if(oe.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function R_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Bs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=R_(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QV;switch(r.type){case"firstParty":return new JV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WE.get(n);r&&(H("ComponentProvider","Removing Datastore"),WE.delete(n),r.terminate())}(this),Promise.resolve()}}function LF(t,e,n,r={}){var i;const s=(t=Bs(t,zh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=E2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(c)}t._authCredentials=new ZV(new Fb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wh(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Vi extends Wh{constructor(e,n,r){super(e,n,Zb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new oe(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function jC(t,e,...n){if(t=St(t),FC("collection","path",e),t instanceof zh){const r=Ke.fromString(e,...n);return qE(r),new Vi(t,null,r)}{if(!(t instanceof On||t instanceof Vi))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return qE(r),new Vi(t.firestore,null,r)}}function P_(t,e,...n){if(t=St(t),arguments.length===1&&(e=jb.newId()),FC("doc","path",e),t instanceof zh){const r=Ke.fromString(e,...n);return HE(r),new On(t,null,new oe(r))}{if(!(t instanceof On||t instanceof Vi))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return HE(r),new On(t.firestore,t instanceof Vi?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new TC(this,"async_queue_retry"),this._u=()=>{const n=mm();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Hr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Yc(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=I_.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ue()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class nu extends zh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new VF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BC(this),this._firestoreClient.terminate()}}function MF(t,e){const n=typeof t=="object"?t:Vv(),r=typeof t=="string"?t:e||"(default)",i=Ys(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_2("firestore");s&&LF(i,...s)}return i}function UC(t){return t._firestoreClient||BC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new hM(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,MC(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new RF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(Kt.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new la(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=/^__.*__$/;class jF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}class zC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class O_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new O_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Pf(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(WC(this.du)&&FF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class UF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jh(e)}Su(e,n,r,i=!1){return new O_({du:e,methodName:n,wu:r,path:Pt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HC(t){const e=t._freezeSettings(),n=jh(t._databaseId);return new UF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BF(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);$_("Data must be an object, but it was:",o,r);const a=qC(r,o);let l,c;if(s.merge)l=new gn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=cy(e,d,n);if(!o.contains(f))throw new te($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GC(u,f)||u.push(f)}l=new gn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new jF(new on(a),l,c)}class qh extends k_{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function zF(t,e,n,r){const i=t.Su(1,e,n);$_("Data must be an object, but it was:",i,r);const s=[],o=on.empty();Js(r,(l,c)=>{const u=D_(e,l,n);c=St(c);const d=i.fu(u);if(c instanceof qh)s.push(u);else{const f=Kh(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new gn(s);return new zC(o,a,i.fieldTransforms)}function WF(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[cy(e,r,n)],l=[i];if(s.length%2!=0)throw new te($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(cy(e,s[f])),l.push(s[f+1]);const c=[],u=on.empty();for(let f=a.length-1;f>=0;--f)if(!GC(c,a[f])){const g=a[f];let v=l[f];v=St(v);const m=o.fu(g);if(v instanceof qh)c.push(g);else{const w=Kh(v,m);w!=null&&(c.push(g),u.set(g,w))}}const d=new gn(c);return new zC(u,d,o.fieldTransforms)}function Kh(t,e){if(KC(t=St(t)))return $_("Unsupported field value:",e,t),qC(t,e);if(t instanceof k_)return function(r,i){if(!WC(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Kh(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=yt.fromDate(r);return{timestampValue:Af(i.serializer,s)}}if(r instanceof yt){const s=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(i.serializer,s)}}if(r instanceof N_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof la)return{bytesValue:hC(i.serializer,r._byteString)};if(r instanceof On){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:v_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${R_(r)}`)}(t,e)}function qC(t,e){const n={};return Ub(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,i)=>{const s=Kh(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function KC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof N_||t instanceof la||t instanceof On||t instanceof k_)}function $_(t,e,n){if(!KC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=R_(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function cy(t,e,n){if((e=St(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return D_(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const HF=new RegExp("[~\\*/\\[\\]]");function D_(t,e,n){if(e.search(HF)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hh(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te($.INVALID_ARGUMENT,a+t+l)}function GC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ZC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qF extends QC{data(){return super.data()}}function ZC(t,e){return typeof e=="string"?D_(t,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GF{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new N_(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=d_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Ue(_C(r));const i=new mc(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZF extends QC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ZC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gd extends ZF{data(e={}){return super.data(e)}}class YF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ju(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gd(this._firestore,this._userDataWriter,r.key,r,new ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new gd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new gd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:XF(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}class JF extends GF{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function e3(t){t=Bs(t,Wh);const e=Bs(t.firestore,nu),n=UC(e),r=new JF(e);return KF(t._query),$F(n,t._query).then(i=>new YF(e,r,t,i))}function t3(t,e,n,...r){t=Bs(t,On);const i=Bs(t.firestore,nu),s=HC(i);let o;return o=typeof(e=St(e))=="string"||e instanceof Hh?WF(s,"updateDoc",t._key,e,n,r):zF(s,"updateDoc",t._key,e),L_(i,[o.toMutation(t._key,Zn.exists(!0))])}function n3(t){return L_(Bs(t.firestore,nu),[new m_(t._key,Zn.none())])}function r3(t,e){const n=Bs(t.firestore,nu),r=P_(t),i=QF(t.converter,e);return L_(n,[BF(HC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function L_(t,e){return function(r,i){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>vF(await NF(r),i,s)),s.promise}(UC(t),e)}(function(e,n=!0){(function(i){Ia=i})(Ta),Er(new Jn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new nu(new YV(r.getProvider("auth-internal")),new tM(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Nn(pE,"4.4.2",e),Nn(pE,"4.4.2","esm2017")})();var i3="firebase",s3="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn(i3,s3,"app");const YC="@firebase/installations",V_="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=1e4,JC=`w:${V_}`,eA="FIS_v2",o3="https://firebaseinstallations.googleapis.com/v1",a3=60*60*1e3,l3="installations",c3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zs=new Zs(l3,c3,u3);function tA(t){return t instanceof tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA({projectId:t}){return`${o3}/projects/${t}/installations`}function rA(t){return{token:t.token,requestStatus:2,expiresIn:f3(t.expiresIn),creationTime:Date.now()}}async function iA(t,e){const r=(await e.json()).error;return zs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function d3(t,{refreshToken:e}){const n=sA(t);return n.append("Authorization",h3(e)),n}async function oA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function f3(t){return Number(t.replace("s","000"))}function h3(t){return`${eA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nA(t),i=sA(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:eA,appId:t.appId,sdkVersion:JC},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await oA(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:rA(c.authToken)}}else throw await iA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^[cdef][\w-]{21}$/,uy="";function y3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=v3(t);return g3.test(n)?n:uy}catch{return uy}}function v3(t){return m3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Map;function cA(t,e){const n=Gh(t);uA(n,e),_3(n,e)}function uA(t,e){const n=lA.get(t);if(n)for(const r of n)r(e)}function _3(t,e){const n=w3();n&&n.postMessage({key:t,fid:e}),E3()}let Es=null;function w3(){return!Es&&"BroadcastChannel"in self&&(Es=new BroadcastChannel("[Firebase] FID Change"),Es.onmessage=t=>{uA(t.data.key,t.data.fid)}),Es}function E3(){lA.size===0&&Es&&(Es.close(),Es=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="firebase-installations-database",S3=1,Ws="firebase-installations-store";let ym=null;function M_(){return ym||(ym=NI(T3,S3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ws)}}})),ym}async function kf(t,e){const n=Gh(t),i=(await M_()).transaction(Ws,"readwrite"),s=i.objectStore(Ws),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&cA(t,e.fid),e}async function dA(t){const e=Gh(t),r=(await M_()).transaction(Ws,"readwrite");await r.objectStore(Ws).delete(e),await r.done}async function Qh(t,e){const n=Gh(t),i=(await M_()).transaction(Ws,"readwrite"),s=i.objectStore(Ws),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&cA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F_(t){let e;const n=await Qh(t.appConfig,r=>{const i=x3(r),s=I3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===uy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function x3(t){const e=t||{fid:y3(),registrationStatus:0};return fA(e)}function I3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(zs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=b3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:C3(t)}:{installationEntry:e}}async function b3(t,e){try{const n=await p3(t,e);return kf(t.appConfig,n)}catch(n){throw tA(n)&&n.customData.serverCode===409?await dA(t.appConfig):await kf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function C3(t){let e=await GE(t.appConfig);for(;e.registrationStatus===1;)await aA(100),e=await GE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await F_(t);return r||n}return e}function GE(t){return Qh(t,e=>{if(!e)throw zs.create("installation-not-found");return fA(e)})}function fA(t){return A3(t)?{fid:t.fid,registrationStatus:0}:t}function A3(t){return t.registrationStatus===1&&t.registrationTime+XC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3({appConfig:t,heartbeatServiceProvider:e},n){const r=P3(t,n),i=d3(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:JC,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await oA(()=>fetch(r,a));if(l.ok){const c=await l.json();return rA(c)}else throw await iA("Generate Auth Token",l)}function P3(t,{fid:e}){return`${nA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(t,e=!1){let n;const r=await Qh(t.appConfig,s=>{if(!hA(s))throw zs.create("not-registered");const o=s.authToken;if(!e&&O3(o))return s;if(o.requestStatus===1)return n=k3(t,e),s;{if(!navigator.onLine)throw zs.create("app-offline");const a=D3(s);return n=N3(t,a),a}});return n?await n:r.authToken}async function k3(t,e){let n=await QE(t.appConfig);for(;n.authToken.requestStatus===1;)await aA(100),n=await QE(t.appConfig);const r=n.authToken;return r.requestStatus===0?j_(t,e):r}function QE(t){return Qh(t,e=>{if(!hA(e))throw zs.create("not-registered");const n=e.authToken;return L3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function N3(t,e){try{const n=await R3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await kf(t.appConfig,r),n}catch(n){if(tA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await kf(t.appConfig,r)}throw n}}function hA(t){return t!==void 0&&t.registrationStatus===2}function O3(t){return t.requestStatus===2&&!$3(t)}function $3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+a3}function D3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function L3(t){return t.requestStatus===1&&t.requestTime+XC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t){const e=t,{installationEntry:n,registrationPromise:r}=await F_(e);return r?r.catch(console.error):j_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e=!1){const n=t;return await F3(n),(await j_(n,e)).token}async function F3(t){const{registrationPromise:e}=await F_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){if(!t||!t.options)throw vm("App Configuration");if(!t.name)throw vm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vm(t){return zs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="installations",U3="installations-internal",B3=t=>{const e=t.getProvider("app").getImmediate(),n=j3(e),r=Ys(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},z3=t=>{const e=t.getProvider("app").getImmediate(),n=Ys(e,pA).getImmediate();return{getId:()=>V3(n),getToken:i=>M3(n,i)}};function W3(){Er(new Jn(pA,B3,"PUBLIC")),Er(new Jn(U3,z3,"PRIVATE"))}W3();Nn(YC,V_);Nn(YC,V_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="analytics",H3="firebase_id",q3="origin",K3=60*1e3,G3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",U_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new gh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new Zs("analytics","Analytics",Q3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){if(!t.startsWith(U_)){const e=vn.create("invalid-gtag-resource",{gtagURL:t});return dn.warn(e.message),""}return t}function mA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Y3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function X3(t,e){const n=Y3("firebase-js-sdk-policy",{createScriptURL:Z3}),r=document.createElement("script"),i=`${U_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function J3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function e9(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await mA(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){dn.error(a)}t("config",i,s)}async function t9(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await mA(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){dn.error(s)}}function n9(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await t9(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await e9(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){dn.error(a)}}return i}function r9(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=n9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function i9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(U_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=30,o9=1e3;class a9{constructor(e={},n=o9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gA=new a9;function l9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function c9(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:l9(r)},s=G3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function u9(t,e=gA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw vn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw vn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new h9;return setTimeout(async()=>{a.abort()},n!==void 0?n:K3),yA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function yA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=gA){var s;const{appId:o,measurementId:a}=t;try{await d9(r,e)}catch(l){if(a)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await c9(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!f9(c)){if(i.deleteThrottleMetadata(o),a)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?qw(n,i.intervalMillis,s9):qw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),dn.debug(`Calling attemptFetch again in ${u} millis`),yA(t,d,r,i)}}function d9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function f9(t){if(!(t instanceof tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class h9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function p9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(){if(Dv())try{await RI()}catch(t){return dn.warn(vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dn.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function g9(t,e,n,r,i,s,o){var a;const l=u9(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>dn.error(g)),e.push(l);const c=m9().then(g=>{if(g)return r.getId()}),[u,d]=await Promise.all([l,c]);i9(s)||X3(s,u.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[q3]="firebase",f.update=!0,d!=null&&(f[H3]=d),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.app=e}_delete(){return delete xl[this.app.options.appId],Promise.resolve()}}let xl={},ZE=[];const YE={};let _m="dataLayer",v9="gtag",XE,vA,JE=!1;function _9(){const t=[];if(AI()&&t.push("This is a browser extension environment."),C2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}function w9(t,e,n){_9();const r=t.options.appId;if(!r)throw vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(xl[r]!=null)throw vn.create("already-exists",{id:r});if(!JE){J3(_m);const{wrappedGtag:s,gtagCore:o}=r9(xl,ZE,YE,_m,v9);vA=s,XE=o,JE=!0}return xl[r]=g9(t,ZE,YE,e,XE,_m,n),new y9(t)}function E9(t=Vv()){t=St(t);const e=Ys(t,Nf);return e.isInitialized()?e.getImmediate():T9(t)}function T9(t,e={}){const n=Ys(t,Nf);if(n.isInitialized()){const i=n.getImmediate();if(rc(e,n.getOptions()))return i;throw vn.create("already-initialized")}return n.initialize({options:e})}function S9(t,e,n,r){t=St(t),p9(vA,xl[t.app.options.appId],e,n,r).catch(i=>dn.error(i))}const eT="@firebase/analytics",tT="0.10.1";function x9(){Er(new Jn(Nf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return w9(r,i,n)},"PUBLIC")),Er(new Jn("analytics-internal",t,"PRIVATE")),Nn(eT,tT),Nn(eT,tT,"esm2017");function t(e){try{const n=e.getProvider(Nf).getImmediate();return{logEvent:(r,i,s)=>S9(n,r,i,s)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}}}x9();var ar=function(){return ar=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ar.apply(this,arguments)};function ru(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function I9(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function _A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b9=_A,wA=new Zs("auth","Firebase",_A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new gh("@firebase/auth");function C9(t,...e){Of.logLevel<=Ie.WARN&&Of.warn(`Auth (${Ta}): ${t}`,...e)}function yd(t,...e){Of.logLevel<=Ie.ERROR&&Of.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw B_(t,...e)}function gr(t,...e){return B_(t,...e)}function EA(t,e,n){const r=Object.assign(Object.assign({},b9()),{[e]:n});return new Zs("auth","Firebase",r).create(e,{appName:t.name})}function A9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(t,"argument-error"),EA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function B_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wA.create(t,...e)}function ce(t,e,...n){if(!t)throw B_(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function ei(t,e){t||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function R9(){return nT()==="http:"||nT()==="https:"}function nT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R9()||AI()||"connection"in navigator)?navigator.onLine:!0}function k9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=T2()||x2()}get(){return P9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new iu(3e4,6e4);function rs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function is(t,e,n,r,i={}){return SA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Uc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),TA.fetch()(xA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function SA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N9),e);try{const i=new D9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw EA(t,u,c);Vn(t,u)}}catch(i){if(i instanceof tr)throw i;Vn(t,"network-request-failed",{message:String(i)})}}async function su(t,e,n,r,i={}){const s=await is(t,e,n,r,i);return"mfaPendingCredential"in s&&Vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function xA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?z_(t.config,i):`${t.config.apiScheme}://${i}`}function $9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),O9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function rT(t){return t!==void 0&&t.enterprise!==void 0}class L9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function V9(t,e){return is(t,"GET","/v2/recaptchaConfig",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function F9(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j9(t,e=!1){const n=St(t),r=await n.getIdToken(e),i=W_(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Il(wm(i.auth_time)),issuedAtTime:Il(wm(i.iat)),expirationTime:Il(wm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wm(t){return Number(t)*1e3}function W_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=xI(n);return i?JSON.parse(i):(yd("Failed to decode base64 JWT payload"),null)}catch(i){return yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function U9(t){const e=W_(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&B9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _c(t,F9(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?q9(s.providerUserInfo):[],a=H9(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new IA(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function W9(t){const e=St(t);await $f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q9(t){return t.map(e=>{var{providerId:n}=e,r=ru(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e){const n=await SA(t,{},async()=>{const r=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G9(t,e){return is(t,"POST","/v2/accounts:revokeToken",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U9(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await K9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wc;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wc,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new IA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j9(this,e)}reload(){return W9(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _c(this,M9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,p=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:T,isAnonymous:S,providerData:b,stsTokenManager:I}=n;ce(_&&I,e,"internal-error");const A=wc.fromJSON(this.name,I);ce(typeof _=="string",e,"internal-error"),ci(d,e.name),ci(f,e.name),ce(typeof T=="boolean",e,"internal-error"),ce(typeof S=="boolean",e,"internal-error"),ci(g,e.name),ci(v,e.name),ci(m,e.name),ci(w,e.name),ci(y,e.name),ci(p,e.name);const F=new As({uid:_,auth:e,email:f,emailVerified:T,displayName:d,isAnonymous:S,photoURL:v,phoneNumber:g,tenantId:m,stsTokenManager:A,createdAt:y,lastLoginAt:p});return b&&Array.isArray(b)&&(F.providerData=b.map(j=>Object.assign({},j))),w&&(F._redirectEventId=w),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new wc;i.updateFromServerResponse(n);const s=new As({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $f(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;function Mr(t){ei(t instanceof Function,"Expected a class definition");let e=iT.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bA.type="NONE";const sT=bA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){return`firebase:${t}:${e}:${n}`}class Bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vd(this.userKey,i.apiKey,s),this.fullPersistenceKey=vd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?As._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bo(Mr(sT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Mr(sT);const o=vd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=As._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kA(e))return"Blackberry";if(NA(e))return"Webos";if(H_(e))return"Safari";if((e.includes("chrome/")||AA(e))&&!e.includes("edge/"))return"Chrome";if(PA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CA(t=dt()){return/firefox\//i.test(t)}function H_(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AA(t=dt()){return/crios\//i.test(t)}function RA(t=dt()){return/iemobile/i.test(t)}function PA(t=dt()){return/android/i.test(t)}function kA(t=dt()){return/blackberry/i.test(t)}function NA(t=dt()){return/webos/i.test(t)}function Zh(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q9(t=dt()){var e;return Zh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z9(){return I2()&&document.documentMode===10}function OA(t=dt()){return Zh(t)||PA(t)||NA(t)||kA(t)||/windows phone/i.test(t)||RA(t)}function Y9(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e=[]){let n;switch(t){case"Browser":n=oT(dt());break;case"Worker":n=`${oT(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e={}){return is(t,"GET","/v2/passwordPolicy",rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=6;class tj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ej,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aT(this),this.idTokenSubscription=new aT(this),this.beforeStateQueue=new X9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $f(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?St(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J9(this),n=new tj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ss(t){return St(t)}class aT{constructor(e){this.auth=e,this.observer=null,this.addObserver=N2(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rj(t){Yh=t}function DA(t){return Yh.loadJS(t)}function ij(){return Yh.recaptchaEnterpriseScript}function sj(){return Yh.gapiScript}function oj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aj="recaptcha-enterprise",lj="NO_RECAPTCHA";class cj{constructor(e){this.type=aj,this.auth=ss(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{V9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new L9(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;rT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(lj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&rT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ij();l.length!==0&&(l+=a),DA(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function lT(t,e,n,r=!1){const i=new cj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function fy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await lT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await lT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t,e){const n=Ys(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rc(s,e??{}))return i;Vn(i,"already-initialized")}return n.initialize({options:e})}function dj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fj(t,e,n){const r=ss(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=LA(e),{host:o,port:a}=hj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||pj()}function LA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hj(t){const e=LA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:cT(o)}}}function cT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function mj(t,e){return is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e){return su(t,"POST","/v1/accounts:signInWithPassword",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e){return su(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}async function vj(t,e){return su(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends q_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ec(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ec(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fy(e,n,"signInWithPassword",gj);case"emailLink":return yj(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fy(e,r,"signUpPassword",mj);case"emailLink":return vj(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e){return su(t,"POST","/v1/accounts:signInWithIdp",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="http://localhost";class Hs extends q_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ru(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:_j,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ej(t){const e=el(tl(t)).link,n=e?el(tl(e)).deep_link_id:null,r=el(tl(t)).deep_link_id;return(r?el(tl(r)).link:null)||r||n||e||t}class K_{constructor(e){var n,r,i,s,o,a;const l=el(tl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=wj((i=l.mode)!==null&&i!==void 0?i:null);ce(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Ej(e);try{return new K_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,n){return Ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=K_.parseLink(n);return ce(r,"argument-error"),Ec._fromEmailAndCode(e,r.code,r.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends G_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends ou{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends ou{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends ou{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){return su(t,"POST","/v1/accounts:signUp",rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await As._fromIdTokenResponse(e,r,i),o=uT(r);return new qs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uT(r);return new qs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Df(e,n,r,i)}}function VA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(t,s,e,r):s})}async function Sj(t,e,n=!1){const r=await _c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await _c(t,VA(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=W_(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),qs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,e,n=!1){const r="signIn",i=await VA(t,r,e),s=await qs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ij(t,e){return MA(ss(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t){const e=ss(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bj(t,e,n){const r=ss(t),o=await fy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&FA(t),l}),a=await qs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Cj(t,e,n){return Ij(St(t),Aa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FA(t),r})}function Aj(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function Rj(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function Pj(t){return St(t).signOut()}const Lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(){const t=dt();return H_(t)||Zh(t)}const Nj=1e3,Oj=10;class UA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=kj()&&Y9(),this.fallbackToPolling=OA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Z9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Oj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UA.type="LOCAL";const $j=UA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BA.type="SESSION";const zA=BA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Dj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Q_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function Vj(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function Mj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jj(){return WA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firebaseLocalStorageDb",Uj=1,Vf="firebaseLocalStorage",qA="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(t,e){return t.transaction([Vf],e?"readwrite":"readonly").objectStore(Vf)}function Bj(){const t=indexedDB.deleteDatabase(HA);return new au(t).toPromise()}function hy(){const t=indexedDB.open(HA,Uj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vf,{keyPath:qA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vf)?e(r):(r.close(),await Bj(),e(await hy()))})})}async function dT(t,e,n){const r=Jh(t,!0).put({[qA]:e,value:n});return new au(r).toPromise()}async function zj(t,e){const n=Jh(t,!1).get(e),r=await new au(n).toPromise();return r===void 0?null:r.value}function fT(t,e){const n=Jh(t,!0).delete(e);return new au(n).toPromise()}const Wj=800,Hj=3;class KA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Hj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(jj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Mj(),!this.activeServiceWorker)return;this.sender=new Lj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hy();return await dT(e,Lf,"1"),await fT(e,Lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Jh(i,!1).getAll();return new au(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KA.type="LOCAL";const qj=KA;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t,e){return e?Mr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends q_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Kj(t){return MA(t.auth,new Z_(t),t.bypassAuthState)}function Gj(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),xj(n,new Z_(t),t.bypassAuthState)}async function Qj(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),Sj(n,new Z_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kj;case"linkViaPopup":case"linkViaRedirect":return Qj;case"reauthViaPopup":case"reauthViaRedirect":return Gj;default:Vn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new iu(2e3,1e4);async function ZA(t,e,n){const r=ss(t);A9(t,e,G_);const i=GA(r,n);return new Ts(r,"signInViaPopup",e,i).executeNotNull()}class Ts extends QA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ts.currentPopupAction&&Ts.currentPopupAction.cancel(),Ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=Q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zj.get())};e()}}Ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="pendingRedirect",_d=new Map;class Xj extends QA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await Jj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jj(t,e){const n=n5(e),r=t5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function e5(t,e){_d.set(t._key(),e)}function t5(t){return Mr(t._redirectPersistence)}function n5(t){return vd(Yj,t.config.apiKey,t.name)}async function r5(t,e,n=!1){const r=ss(t),i=GA(r,e),o=await new Xj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=10*60*1e3;class s5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hT(e))}saveEventToCache(e){this.cachedEventUids.add(hT(e)),this.lastProcessedEventTime=Date.now()}}function hT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c5=/^https?/;async function u5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a5(t);for(const n of e)try{if(d5(n))return}catch{}Vn(t,"unauthorized-domain")}function d5(t){const e=dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c5.test(n))return!1;if(l5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=new iu(3e4,6e4);function pT(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h5(t){return new Promise((e,n)=>{var r,i,s;function o(){pT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pT(),n(gr(t,"network-request-failed"))},timeout:f5.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{const a=oj("iframefcb");return yr()[a]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},DA(`${sj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wd=null,e})}let wd=null;function p5(t){return wd=wd||h5(t),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new iu(5e3,15e3),g5="__/auth/iframe",y5="emulator/auth/iframe",v5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w5(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z_(e,y5):`https://${t.config.authDomain}/${g5}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},i=_5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Uc(r).slice(1)}`}async function E5(t){const e=await p5(t),n=yr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:w5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=gr(t,"network-request-failed"),a=yr().setTimeout(()=>{s(o)},m5.get());function l(){yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S5=500,x5=600,I5="_blank",b5="http://localhost";class mT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C5(t,e,n,r=S5,i=x5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},T5),{width:r.toString(),height:i.toString(),top:s,left:o}),c=dt().toLowerCase();n&&(a=AA(c)?I5:n),CA(c)&&(e=e||b5,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(Q9(c)&&a!=="_self")return A5(e||"",a),new mT(null);const d=window.open(e||"",a,u);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new mT(d)}function A5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="__/auth/handler",P5="emulator/auth/handler",k5=encodeURIComponent("fac");async function gT(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:i};if(e instanceof G_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof ou){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${k5}=${encodeURIComponent(l)}`:"";return`${N5(t)}?${Uc(a).slice(1)}${c}`}function N5({config:t}){return t.emulator?z_(t,P5):`https://${t.authDomain}/${R5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class O5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zA,this._completeRedirectFn=r5,this._overrideRedirectResult=e5}async _openPopup(e,n,r,i){var s;ei((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gT(e,n,r,dy(),i);return C5(e,o,Q_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gT(e,n,r,dy(),i);return Vj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ei(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await E5(e),r=new s5(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Em];o!==void 0&&n(!!o),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OA()||H_()||Zh()}}const $5=O5;var yT="@firebase/auth",vT="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V5(t){Er(new Jn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$A(t)},c=new nj(r,i,s,l);return dj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Er(new Jn("auth-internal",e=>{const n=ss(e.getProvider("auth").getImmediate());return(r=>new D5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(yT,vT,L5(t)),Nn(yT,vT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=5*60,F5=CI("authIdTokenMaxAge")||M5;let _T=null;const j5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F5)return;const i=n==null?void 0:n.token;_T!==i&&(_T=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function U5(t=Vv()){const e=Ys(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uj(t,{popupRedirectResolver:$5,persistence:[qj,$j,zA]}),r=CI("authTokenSyncURL");if(r){const s=j5(r);Rj(n,s,()=>s(n.currentUser)),Aj(n,o=>s(o))}const i=II("auth");return i&&fj(n,`http://${i}`),n}function B5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V5("Browser");const z5={apiKey:"AIzaSyCUd8zChw3L2Og9MHPPdv1WKstrAC-tNxw",authDomain:"invoice-generator-a335d.firebaseapp.com",projectId:"invoice-generator-a335d",storageBucket:"invoice-generator-a335d.appspot.com",messagingSenderId:"50199359484",appId:"1:50199359484:web:dc3a176b520cba6c5b8c79",measurementId:"G-XV96W56WW0"},Y_=OI(z5);E9(Y_);const Fr=U5(Y_),XA=new Nr,ep=MF(Y_),W5=Dr.object({name:Dr.string({message:"Please enter a valid name"}),price:Dr.string().transform(t=>parseFloat(t))});function H5({products:t,setRefresh:e,refresh:n}){const{toast:r}=jc(),i=uh({resolver:hh(W5),defaultValues:{name:"",price:0}}),s=async a=>{if(t.find(u=>u.name===a.name))return!1;const c=jC(ep,"products");try{await r3(c,a).then(u=>{console.log("Document written with ID: ",u.id),e(d=>!d)})}catch(u){console.error("Error adding document: ",u)}return!0},o=async a=>{let l=await s(a);r(l?{title:"Product added successfully",description:"Product has been added to the list"}:{variant:"destructive",title:"Product already exists",description:"Product with the same id already exists in the list"}),i.reset()};return E.jsx(dh,{...i,children:E.jsx("form",{onSubmit:i.handleSubmit(o),children:E.jsxs(ya,{children:[E.jsxs(va,{children:[E.jsx(_a,{children:"Add New Product"}),E.jsx(wa,{children:"Add new product to the list."})]}),E.jsxs(Ea,{className:"space-y-2",children:[E.jsx("div",{className:"space-y-1",children:E.jsx(Oi,{control:i.control,name:"name",render:({field:a})=>E.jsxs(Ur,{children:[E.jsx($i,{children:"Name"}),E.jsx(Br,{children:E.jsx(vr,{...a,placeholder:"Name your treasure"})}),E.jsx(zr,{})]})})}),E.jsx("div",{className:"space-y-1",children:E.jsx(Oi,{control:i.control,name:"price",render:({field:a})=>E.jsxs(Ur,{children:[E.jsx($i,{children:"Price"}),E.jsx(Br,{children:E.jsx(vr,{...a,placeholder:"Valued at"})}),E.jsx(zr,{})]})})})]}),E.jsx(Lc,{children:E.jsx(kn,{className:"w-full",type:"submit",children:"Add"})})]})})})}function wT(t,[e,n]){return Math.min(n,Math.max(e,t))}function q5(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const py="dismissableLayer.update",K5="dismissableLayer.pointerDownOutside",G5="dismissableLayer.focusOutside";let ET;const JA=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eR=h.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=h.useContext(JA),[d,f]=h.useState(null),g=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=h.useState({}),m=ot(e,A=>f(A)),w=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=w.indexOf(y),_=d?w.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,S=_>=p,b=Z5(A=>{const F=A.target,j=[...u.branches].some(J=>J.contains(F));!S||j||(s==null||s(A),a==null||a(A),A.defaultPrevented||l==null||l())},g),I=Y5(A=>{const F=A.target;[...u.branches].some(J=>J.contains(F))||(o==null||o(A),a==null||a(A),A.defaultPrevented||l==null||l())},g);return q5(A=>{_===u.layers.size-1&&(i==null||i(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},g),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ET=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),TT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=ET)}},[d,g,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),TT())},[d,u]),h.useEffect(()=>{const A=()=>v({});return document.addEventListener(py,A),()=>document.removeEventListener(py,A)},[]),h.createElement(Pe.div,ae({},c,{ref:m,style:{pointerEvents:T?S?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,b.onPointerDownCapture)}))}),Q5=h.forwardRef((t,e)=>{const n=h.useContext(JA),r=h.useRef(null),i=ot(e,r);return h.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),h.createElement(Pe.div,ae({},t,{ref:i}))});function Z5(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){tR(K5,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Y5(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t),r=h.useRef(!1);return h.useEffect(()=>{const i=s=>{s.target&&!r.current&&tR(G5,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TT(){const t=new CustomEvent(py);document.dispatchEvent(t)}function tR(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Lx(i,s):i.dispatchEvent(s)}const X5=eR,J5=Q5;let Tm=0;function eU(){h.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:ST()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:ST()),Tm++,()=>{Tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Tm--}},[])}function ST(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Sm="focusScope.autoFocusOnMount",xm="focusScope.autoFocusOnUnmount",xT={bubbles:!1,cancelable:!0},tU=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=h.useState(null),c=fn(i),u=fn(s),d=h.useRef(null),f=ot(e,m=>l(m)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let p=function(b){if(g.paused||!a)return;const I=b.target;a.contains(I)?d.current=I:di(d.current,{select:!0})},_=function(b){if(g.paused||!a)return;const I=b.relatedTarget;I!==null&&(a.contains(I)||di(d.current,{select:!0}))},T=function(b){if(document.activeElement===document.body)for(const A of b)A.removedNodes.length>0&&di(a)};var m=p,w=_,y=T;document.addEventListener("focusin",p),document.addEventListener("focusout",_);const S=new MutationObserver(T);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",_),S.disconnect()}}},[r,a,g.paused]),h.useEffect(()=>{if(a){bT.add(g);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(Sm,xT);a.addEventListener(Sm,c),a.dispatchEvent(y),y.defaultPrevented||(nU(aU(nR(a)),{select:!0}),document.activeElement===m&&di(a))}return()=>{a.removeEventListener(Sm,c),setTimeout(()=>{const y=new CustomEvent(xm,xT);a.addEventListener(xm,u),a.dispatchEvent(y),y.defaultPrevented||di(m??document.body,{select:!0}),a.removeEventListener(xm,u),bT.remove(g)},0)}}},[a,c,u,g]);const v=h.useCallback(m=>{if(!n&&!r||g.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(w&&y){const p=m.currentTarget,[_,T]=rU(p);_&&T?!m.shiftKey&&y===T?(m.preventDefault(),n&&di(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),n&&di(T,{select:!0})):y===p&&m.preventDefault()}},[n,r,g.paused]);return h.createElement(Pe.div,ae({tabIndex:-1},o,{ref:f,onKeyDown:v}))});function nU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(di(r,{select:e}),document.activeElement!==n)return}function rU(t){const e=nR(t),n=IT(e,t),r=IT(e.reverse(),t);return[n,r]}function nR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IT(t,e){for(const n of t)if(!iU(n,{upTo:e}))return n}function iU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sU(t){return t instanceof HTMLInputElement&&"select"in t}function di(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sU(t)&&e&&t.select()}}const bT=oU();function oU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=CT(t,e),t.unshift(e)},remove(e){var n;t=CT(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function CT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function aU(t){return t.filter(e=>e.tagName!=="A")}const lU=["top","right","bottom","left"],Ki=Math.min,pn=Math.max,Mf=Math.round,Bu=Math.floor,Gi=t=>({x:t,y:t}),cU={left:"right",right:"left",bottom:"top",top:"bottom"},uU={start:"end",end:"start"};function my(t,e,n){return pn(t,Ki(e,n))}function ti(t,e){return typeof t=="function"?t(e):t}function ni(t){return t.split("-")[0]}function Ra(t){return t.split("-")[1]}function X_(t){return t==="x"?"y":"x"}function J_(t){return t==="y"?"height":"width"}function Pa(t){return["top","bottom"].includes(ni(t))?"y":"x"}function e0(t){return X_(Pa(t))}function dU(t,e,n){n===void 0&&(n=!1);const r=Ra(t),i=e0(t),s=J_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ff(o)),[o,Ff(o)]}function fU(t){const e=Ff(t);return[gy(t),e,gy(e)]}function gy(t){return t.replace(/start|end/g,e=>uU[e])}function hU(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function pU(t,e,n,r){const i=Ra(t);let s=hU(ni(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(gy)))),s}function Ff(t){return t.replace(/left|right|bottom|top/g,e=>cU[e])}function mU(t){return{top:0,right:0,bottom:0,left:0,...t}}function rR(t){return typeof t!="number"?mU(t):{top:t,right:t,bottom:t,left:t}}function jf(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function AT(t,e,n){let{reference:r,floating:i}=t;const s=Pa(e),o=e0(e),a=J_(o),l=ni(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(Ra(e)){case"start":g[o]-=f*(n&&c?-1:1);break;case"end":g[o]+=f*(n&&c?-1:1);break}return g}const gU=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=AT(c,r,l),f=r,g={},v=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x:p,y:_,data:T,reset:S}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=p??u,d=_??d,g={...g,[w]:{...g[w],...T}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:d}=AT(c,f,l)),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:g}};async function Tc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:g=0}=ti(e,t),v=rR(g),w=a[f?d==="floating"?"reference":"floating":d],y=jf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),p=d==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=jf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:_,strategy:l}):p);return{top:(y.top-S.top+v.top)/T.y,bottom:(S.bottom-y.bottom+v.bottom)/T.y,left:(y.left-S.left+v.left)/T.x,right:(S.right-y.right+v.right)/T.x}}const yU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ti(t,e)||{};if(c==null)return{};const d=rR(u),f={x:n,y:r},g=e0(i),v=J_(g),m=await o.getDimensions(c),w=g==="y",y=w?"top":"left",p=w?"bottom":"right",_=w?"clientHeight":"clientWidth",T=s.reference[v]+s.reference[g]-f[g]-s.floating[v],S=f[g]-s.reference[g],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=b?b[_]:0;(!I||!await(o.isElement==null?void 0:o.isElement(b)))&&(I=a.floating[_]||s.floating[v]);const A=T/2-S/2,F=I/2-m[v]/2-1,j=Ki(d[y],F),J=Ki(d[p],F),N=j,K=I-m[v]-J,O=I/2-m[v]/2+A,W=my(N,O,K),ee=!l.arrow&&Ra(i)!=null&&O!==W&&s.reference[v]/2-(O<N?j:J)-m[v]/2<0,X=ee?O<N?O-N:O-K:0;return{[g]:f[g]+X,data:{[g]:W,centerOffset:O-W-X,...ee&&{alignmentOffset:X}},reset:ee}}}),vU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...w}=ti(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=ni(i),p=ni(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=f||(p||!m?[Ff(a)]:fU(a));!f&&v!=="none"&&T.push(...pU(a,m,v,_));const S=[a,...T],b=await Tc(e,w),I=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&I.push(b[y]),d){const N=dU(i,o,_);I.push(b[N[0]],b[N[1]])}if(A=[...A,{placement:i,overflows:I}],!I.every(N=>N<=0)){var F,j;const N=(((F=s.flip)==null?void 0:F.index)||0)+1,K=S[N];if(K)return{data:{index:N,overflows:A},reset:{placement:K}};let O=(j=A.filter(W=>W.overflows[0]<=0).sort((W,ee)=>W.overflows[1]-ee.overflows[1])[0])==null?void 0:j.placement;if(!O)switch(g){case"bestFit":{var J;const W=(J=A.map(ee=>[ee.placement,ee.overflows.filter(X=>X>0).reduce((X,D)=>X+D,0)]).sort((ee,X)=>ee[1]-X[1])[0])==null?void 0:J[0];W&&(O=W);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function RT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function PT(t){return lU.some(e=>t[e]>=0)}const _U=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ti(t,e);switch(r){case"referenceHidden":{const s=await Tc(e,{...i,elementContext:"reference"}),o=RT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PT(o)}}}case"escaped":{const s=await Tc(e,{...i,altBoundary:!0}),o=RT(s,n.floating);return{data:{escapedOffsets:o,escaped:PT(o)}}}default:return{}}}}};async function wU(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ni(n),a=Ra(n),l=Pa(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=ti(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*u,y:f*c}:{x:f*c,y:g*u}}const EU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await wU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},TU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:p}=w;return{x:y,y:p}}},...l}=ti(t,e),c={x:n,y:r},u=await Tc(e,l),d=Pa(ni(i)),f=X_(d);let g=c[f],v=c[d];if(s){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=g+u[w],_=g-u[y];g=my(p,g,_)}if(o){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",p=v+u[w],_=v-u[y];v=my(p,v,_)}const m=a.fn({...e,[f]:g,[d]:v});return{...m,data:{x:m.x-n,y:m.y-r}}}}},SU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ti(t,e),u={x:n,y:r},d=Pa(i),f=X_(d);let g=u[f],v=u[d];const m=ti(a,e),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=f==="y"?"height":"width",T=s.reference[f]-s.floating[_]+w.mainAxis,S=s.reference[f]+s.reference[_]-w.mainAxis;g<T?g=T:g>S&&(g=S)}if(c){var y,p;const _=f==="y"?"width":"height",T=["top","left"].includes(ni(i)),S=s.reference[d]-s.floating[_]+(T&&((y=o.offset)==null?void 0:y[d])||0)+(T?0:w.crossAxis),b=s.reference[d]+s.reference[_]+(T?0:((p=o.offset)==null?void 0:p[d])||0)-(T?w.crossAxis:0);v<S?v=S:v>b&&(v=b)}return{[f]:g,[d]:v}}}},xU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=ti(t,e),l=await Tc(e,a),c=ni(n),u=Ra(n),d=Pa(n)==="y",{width:f,height:g}=r.floating;let v,m;c==="top"||c==="bottom"?(v=c,m=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=c,v=u==="end"?"top":"bottom");const w=g-l[v],y=f-l[m],p=!e.middlewareData.shift;let _=w,T=y;if(d){const b=f-l.left-l.right;T=u||p?Ki(y,b):b}else{const b=g-l.top-l.bottom;_=u||p?Ki(w,b):b}if(p&&!u){const b=pn(l.left,0),I=pn(l.right,0),A=pn(l.top,0),F=pn(l.bottom,0);d?T=f-2*(b!==0||I!==0?b+I:pn(l.left,l.right)):_=g-2*(A!==0||F!==0?A+F:pn(l.top,l.bottom))}await o({...e,availableWidth:T,availableHeight:_});const S=await i.getDimensions(s.floating);return f!==S.width||g!==S.height?{reset:{rects:!0}}:{}}}};function Qi(t){return iR(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function si(t){var e;return(e=(iR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iR(t){return t instanceof Node||t instanceof _n(t).Node}function ri(t){return t instanceof Element||t instanceof _n(t).Element}function Ir(t){return t instanceof HTMLElement||t instanceof _n(t).HTMLElement}function kT(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}function lu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function IU(t){return["table","td","th"].includes(Qi(t))}function t0(t){const e=n0(),n=Mn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bU(t){let e=ca(t);for(;Ir(e)&&!tp(e);){if(t0(e))return e;e=ca(e)}return null}function n0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tp(t){return["html","body","#document"].includes(Qi(t))}function Mn(t){return _n(t).getComputedStyle(t)}function np(t){return ri(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ca(t){if(Qi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kT(t)&&t.host||si(t);return kT(e)?e.host:e}function sR(t){const e=ca(t);return tp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ir(e)&&lu(e)?e:sR(e)}function Sc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=sR(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=_n(i);return s?e.concat(o,o.visualViewport||[],lu(i)?i:[],o.frameElement&&n?Sc(o.frameElement):[]):e.concat(i,Sc(i,[],n))}function oR(t){const e=Mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ir(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Mf(n)!==s||Mf(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function r0(t){return ri(t)?t:t.contextElement}function Wo(t){const e=r0(t);if(!Ir(e))return Gi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=oR(e);let o=(s?Mf(n.width):n.width)/r,a=(s?Mf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const CU=Gi(0);function aR(t){const e=_n(t);return!n0()||!e.visualViewport?CU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function Ks(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=r0(t);let o=Gi(1);e&&(r?ri(r)&&(o=Wo(r)):o=Wo(t));const a=AU(s,n,r)?aR(s):Gi(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=_n(s),g=r&&ri(r)?_n(r):r;let v=f,m=v.frameElement;for(;m&&r&&g!==v;){const w=Wo(m),y=m.getBoundingClientRect(),p=Mn(m),_=y.left+(m.clientLeft+parseFloat(p.paddingLeft))*w.x,T=y.top+(m.clientTop+parseFloat(p.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=_,c+=T,v=_n(m),m=v.frameElement}}return jf({width:u,height:d,x:l,y:c})}const RU=[":popover-open",":modal"];function lR(t){return RU.some(e=>{try{return t.matches(e)}catch{return!1}})}function PU(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=si(r),a=e?lR(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Gi(1);const u=Gi(0),d=Ir(r);if((d||!d&&!s)&&((Qi(r)!=="body"||lu(o))&&(l=np(r)),Ir(r))){const f=Ks(r);c=Wo(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function kU(t){return Array.from(t.getClientRects())}function cR(t){return Ks(si(t)).left+np(t).scrollLeft}function NU(t){const e=si(t),n=np(t),r=t.ownerDocument.body,i=pn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=pn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+cR(t);const a=-n.scrollTop;return Mn(r).direction==="rtl"&&(o+=pn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function OU(t,e){const n=_n(t),r=si(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=n0();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function $U(t,e){const n=Ks(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ir(t)?Wo(t):Gi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function NT(t,e,n){let r;if(e==="viewport")r=OU(t,n);else if(e==="document")r=NU(si(t));else if(ri(e))r=$U(e,n);else{const i=aR(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return jf(r)}function uR(t,e){const n=ca(t);return n===e||!ri(n)||tp(n)?!1:Mn(n).position==="fixed"||uR(n,e)}function DU(t,e){const n=e.get(t);if(n)return n;let r=Sc(t,[],!1).filter(a=>ri(a)&&Qi(a)!=="body"),i=null;const s=Mn(t).position==="fixed";let o=s?ca(t):t;for(;ri(o)&&!tp(o);){const a=Mn(o),l=t0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lu(o)&&!l&&uR(t,o))?r=r.filter(u=>u!==o):i=a,o=ca(o)}return e.set(t,r),r}function LU(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?DU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=NT(e,u,i);return c.top=pn(d.top,c.top),c.right=Ki(d.right,c.right),c.bottom=Ki(d.bottom,c.bottom),c.left=pn(d.left,c.left),c},NT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VU(t){const{width:e,height:n}=oR(t);return{width:e,height:n}}function MU(t,e,n){const r=Ir(e),i=si(e),s=n==="fixed",o=Ks(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Gi(0);if(r||!r&&!s)if((Qi(e)!=="body"||lu(i))&&(a=np(e)),r){const d=Ks(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=cR(i));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function OT(t,e){return!Ir(t)||Mn(t).position==="fixed"?null:e?e(t):t.offsetParent}function dR(t,e){const n=_n(t);if(!Ir(t)||lR(t))return n;let r=OT(t,e);for(;r&&IU(r)&&Mn(r).position==="static";)r=OT(r,e);return r&&(Qi(r)==="html"||Qi(r)==="body"&&Mn(r).position==="static"&&!t0(r))?n:r||bU(t)||n}const FU=async function(t){const e=this.getOffsetParent||dR,n=this.getDimensions;return{reference:MU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function jU(t){return Mn(t).direction==="rtl"}const UU={convertOffsetParentRelativeRectToViewportRelativeRect:PU,getDocumentElement:si,getClippingRect:LU,getOffsetParent:dR,getElementRects:FU,getClientRects:kU,getDimensions:VU,getScale:Wo,isElement:ri,isRTL:jU};function BU(t,e){let n=null,r;const i=si(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const g=Bu(u),v=Bu(i.clientWidth-(c+d)),m=Bu(i.clientHeight-(u+f)),w=Bu(c),p={rootMargin:-g+"px "+-v+"px "+-m+"px "+-w+"px",threshold:pn(0,Ki(1,l))||1};let _=!0;function T(S){const b=S[0].intersectionRatio;if(b!==l){if(!_)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(T,{...p,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,p)}n.observe(t)}return o(!0),s}function zU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=r0(t),u=i||s?[...c?Sc(c):[],...Sc(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?BU(c,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(y=>{let[p]=y;p&&p.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,m=l?Ks(t):null;l&&w();function w(){const y=Ks(t);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,v=requestAnimationFrame(w)}return n(),()=>{var y;u.forEach(p=>{i&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),d==null||d(),(y=g)==null||y.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const WU=TU,HU=vU,qU=xU,KU=_U,$T=yU,GU=SU,QU=(t,e,n)=>{const r=new Map,i={platform:UU,...n},s={...i.platform,_c:r};return gU(t,e,{...i,platform:s})},ZU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$T({element:r.current,padding:i}).fn(n):{}:r?$T({element:r,padding:i}).fn(n):{}}}};var Ed=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Uf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Uf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function fR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DT(t,e){const n=fR(t);return Math.round(e*n)/n}function LT(t){const e=h.useRef(t);return Ed(()=>{e.current=t}),e}function YU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=h.useState(r);Uf(f,r)||g(r);const[v,m]=h.useState(null),[w,y]=h.useState(null),p=h.useCallback(X=>{X!==b.current&&(b.current=X,m(X))},[]),_=h.useCallback(X=>{X!==I.current&&(I.current=X,y(X))},[]),T=s||v,S=o||w,b=h.useRef(null),I=h.useRef(null),A=h.useRef(u),F=l!=null,j=LT(l),J=LT(i),N=h.useCallback(()=>{if(!b.current||!I.current)return;const X={placement:e,strategy:n,middleware:f};J.current&&(X.platform=J.current),QU(b.current,I.current,X).then(D=>{const U={...D,isPositioned:!0};K.current&&!Uf(A.current,U)&&(A.current=U,Ji.flushSync(()=>{d(U)}))})},[f,e,n,J]);Ed(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(X=>({...X,isPositioned:!1})))},[c]);const K=h.useRef(!1);Ed(()=>(K.current=!0,()=>{K.current=!1}),[]),Ed(()=>{if(T&&(b.current=T),S&&(I.current=S),T&&S){if(j.current)return j.current(T,S,N);N()}},[T,S,N,j,F]);const O=h.useMemo(()=>({reference:b,floating:I,setReference:p,setFloating:_}),[p,_]),W=h.useMemo(()=>({reference:T,floating:S}),[T,S]),ee=h.useMemo(()=>{const X={position:n,left:0,top:0};if(!W.floating)return X;const D=DT(W.floating,u.x),U=DT(W.floating,u.y);return a?{...X,transform:"translate("+D+"px, "+U+"px)",...fR(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:U}},[n,a,W.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:N,refs:O,elements:W,floatingStyles:ee}),[u,N,O,W,ee])}function XU(t){const[e,n]=h.useState(void 0);return Jt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const hR="Popper",[pR,mR]=ga(hR),[JU,gR]=pR(hR),e6=t=>{const{__scopePopper:e,children:n}=t,[r,i]=h.useState(null);return h.createElement(JU,{scope:e,anchor:r,onAnchorChange:i},n)},t6="PopperAnchor",n6=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=gR(t6,n),o=h.useRef(null),a=ot(e,o);return h.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.createElement(Pe.div,ae({},i,{ref:a}))}),yR="PopperContent",[r6,Qz]=pR(yR),i6=h.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:f=0,align:g="center",alignOffset:v=0,arrowPadding:m=0,avoidCollisions:w=!0,collisionBoundary:y=[],collisionPadding:p=0,sticky:_="partial",hideWhenDetached:T=!1,updatePositionStrategy:S="optimized",onPlaced:b,...I}=t,A=gR(yR,u),[F,j]=h.useState(null),J=ot(e,xn=>j(xn)),[N,K]=h.useState(null),O=XU(N),W=(n=O==null?void 0:O.width)!==null&&n!==void 0?n:0,ee=(r=O==null?void 0:O.height)!==null&&r!==void 0?r:0,X=d+(g!=="center"?"-"+g:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},U=Array.isArray(y)?y:[y],ne=U.length>0,pe={padding:D,boundary:U.filter(s6),altBoundary:ne},{refs:Te,floatingStyles:ht,placement:it,isPositioned:Dt,middlewareData:Je}=YU({strategy:"fixed",placement:X,whileElementsMounted:(...xn)=>zU(...xn,{animationFrame:S==="always"}),elements:{reference:A.anchor},middleware:[EU({mainAxis:f+ee,alignmentAxis:v}),w&&WU({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?GU():void 0,...pe}),w&&HU({...pe}),qU({...pe,apply:({elements:xn,rects:os,availableWidth:so,availableHeight:g0})=>{const{width:x,height:C}=os.reference,R=xn.floating.style;R.setProperty("--radix-popper-available-width",`${so}px`),R.setProperty("--radix-popper-available-height",`${g0}px`),R.setProperty("--radix-popper-anchor-width",`${x}px`),R.setProperty("--radix-popper-anchor-height",`${C}px`)}}),N&&ZU({element:N,padding:m}),o6({arrowWidth:W,arrowHeight:ee}),T&&KU({strategy:"referenceHidden",...pe})]}),[re,Ve]=vR(it),et=fn(b);Jt(()=>{Dt&&(et==null||et())},[Dt,et]);const Me=(i=Je.arrow)===null||i===void 0?void 0:i.x,Oe=(s=Je.arrow)===null||s===void 0?void 0:s.y,ke=((o=Je.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Gt,Lt]=h.useState();return Jt(()=>{F&&Lt(window.getComputedStyle(F).zIndex)},[F]),h.createElement("div",{ref:Te.setFloating,"data-radix-popper-content-wrapper":"",style:{...ht,transform:Dt?ht.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Gt,"--radix-popper-transform-origin":[(a=Je.transformOrigin)===null||a===void 0?void 0:a.x,(l=Je.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},h.createElement(r6,{scope:u,placedSide:re,onArrowChange:K,arrowX:Me,arrowY:Oe,shouldHideArrow:ke},h.createElement(Pe.div,ae({"data-side":re,"data-align":Ve},I,{ref:J,style:{...I.style,animation:Dt?void 0:"none",opacity:(c=Je.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function s6(t){return t!==null}const o6=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=d?0:t.arrowWidth,g=d?0:t.arrowHeight,[v,m]=vR(a),w={start:"0%",center:"50%",end:"100%"}[m],y=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+f/2,p=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+g/2;let _="",T="";return v==="bottom"?(_=d?w:`${y}px`,T=`${-g}px`):v==="top"?(_=d?w:`${y}px`,T=`${l.floating.height+g}px`):v==="right"?(_=`${-g}px`,T=d?w:`${p}px`):v==="left"&&(_=`${l.floating.width+g}px`,T=d?w:`${p}px`),{data:{x:_,y:T}}}});function vR(t){const[e,n="center"]=t.split("-");return[e,n]}const a6=e6,l6=n6,c6=i6,_R=h.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?EO.createPortal(h.createElement(Pe.div,ae({},i,{ref:e})),r):null});function u6(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const i0=h.forwardRef((t,e)=>h.createElement(Pe.span,ae({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var d6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},uo=new WeakMap,zu=new WeakMap,Wu={},Im=0,wR=function(t){return t&&(t.host||wR(t.parentNode))},f6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},h6=function(t,e,n,r){var i=f6(e,Array.isArray(t)?t:[t]);Wu[n]||(Wu[n]=new WeakMap);var s=Wu[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var g=f.getAttribute(r),v=g!==null&&g!=="false",m=(uo.get(f)||0)+1,w=(s.get(f)||0)+1;uo.set(f,m),s.set(f,w),o.push(f),m===1&&v&&zu.set(f,!0),w===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}})};return u(e),a.clear(),Im++,function(){o.forEach(function(d){var f=uo.get(d)-1,g=s.get(d)-1;uo.set(d,f),s.set(d,g),f||(zu.has(d)||d.removeAttribute(r),zu.delete(d)),g||d.removeAttribute(n)}),Im--,Im||(uo=new WeakMap,uo=new WeakMap,zu=new WeakMap,Wu={})}},p6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||d6(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),h6(r,i,n,"aria-hidden")):function(){return null}},Td="right-scroll-bar-position",Sd="width-before-scroll-bar",m6="with-scroll-bars-hidden",g6="--removed-body-scroll-bar-size";function bm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function y6(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var VT=new WeakMap;function v6(t,e){var n=y6(e||null,function(r){return t.forEach(function(i){return bm(i,r)})});return h.useLayoutEffect(function(){var r=VT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||bm(a,null)}),s.forEach(function(a){i.has(a)||bm(a,o)})}VT.set(n,t)},[t]),n}function _6(t){return t}function w6(t,e){e===void 0&&(e=_6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function E6(t){t===void 0&&(t={});var e=w6(null);return e.options=ar({async:!0,ssr:!1},t),e}var ER=function(t){var e=t.sideCar,n=ru(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,ar({},n))};ER.isSideCarExport=!0;function T6(t,e){return t.useMedium(e),ER}var TR=E6(),Cm=function(){},rp=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:Cm,onWheelCapture:Cm,onTouchMoveCapture:Cm}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,g=t.noIsolation,v=t.inert,m=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,p=ru(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=f,T=v6([n,e]),S=ar(ar({},p),i);return h.createElement(h.Fragment,null,u&&h.createElement(_,{sideCar:TR,removeScrollBar:c,shards:d,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!m,lockRef:n}),o?h.cloneElement(h.Children.only(a),ar(ar({},S),{ref:T})):h.createElement(y,ar({},S,{className:l,ref:T}),a))});rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rp.classNames={fullWidth:Sd,zeroRight:Td};var S6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=S6();return e&&t.setAttribute("nonce",e),t}function I6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function b6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var C6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=x6())&&(I6(e,n),b6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},A6=function(){var t=C6();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},SR=function(){var t=A6(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},R6={left:0,top:0,right:0,gap:0},Am=function(t){return parseInt(t||"",10)||0},P6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Am(n),Am(r),Am(i)]},k6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return R6;var e=P6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},N6=SR(),O6=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(m6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Td,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Td," .").concat(Td,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sd," .").concat(Sd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(g6,": ").concat(a,`px;
  }
`)},$6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,s=h.useMemo(function(){return k6(i)},[i]);return h.createElement(N6,{styles:O6(s,!e,i,n?"":"!important")})},yy=!1;if(typeof window<"u")try{var Hu=Object.defineProperty({},"passive",{get:function(){return yy=!0,!0}});window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{yy=!1}var fo=yy?{passive:!1}:!1,D6=function(t){return t.tagName==="TEXTAREA"},xR=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!D6(t)&&n[e]==="visible")},L6=function(t){return xR(t,"overflowY")},V6=function(t){return xR(t,"overflowX")},MT=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=IR(t,n);if(r){var i=bR(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},M6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},F6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},IR=function(t,e){return t==="v"?L6(e):V6(e)},bR=function(t,e){return t==="v"?M6(e):F6(e)},j6=function(t,e){return t==="h"&&e==="rtl"?-1:1},U6=function(t,e,n,r,i){var s=j6(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var g=bR(t,a),v=g[0],m=g[1],w=g[2],y=m-w-s*v;(v||y)&&IR(t,a)&&(d+=y,f+=v),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&d===0||!i&&o>d)||!u&&(i&&f===0||!i&&-o>f))&&(c=!0),c},qu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},FT=function(t){return[t.deltaX,t.deltaY]},jT=function(t){return t&&"current"in t?t.current:t},B6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},z6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},W6=0,ho=[];function H6(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(W6++)[0],s=h.useState(function(){return SR()})[0],o=h.useRef(t);h.useEffect(function(){o.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=I9([t.lockRef.current],(t.shards||[]).map(jT),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(m,w){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var y=qu(m),p=n.current,_="deltaX"in m?m.deltaX:p[0]-y[0],T="deltaY"in m?m.deltaY:p[1]-y[1],S,b=m.target,I=Math.abs(_)>Math.abs(T)?"h":"v";if("touches"in m&&I==="h"&&b.type==="range")return!1;var A=MT(I,b);if(!A)return!0;if(A?S=I:(S=I==="v"?"h":"v",A=MT(I,b)),!A)return!1;if(!r.current&&"changedTouches"in m&&(_||T)&&(r.current=S),!S)return!0;var F=r.current||S;return U6(F,w,m,F==="h"?_:T,!0)},[]),l=h.useCallback(function(m){var w=m;if(!(!ho.length||ho[ho.length-1]!==s)){var y="deltaY"in w?FT(w):qu(w),p=e.current.filter(function(S){return S.name===w.type&&S.target===w.target&&B6(S.delta,y)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var _=(o.current.shards||[]).map(jT).filter(Boolean).filter(function(S){return S.contains(w.target)}),T=_.length>0?a(w,_[0]):!o.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(m,w,y,p){var _={name:m,delta:w,target:y,should:p};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(T){return T!==_})},1)},[]),u=h.useCallback(function(m){n.current=qu(m),r.current=void 0},[]),d=h.useCallback(function(m){c(m.type,FT(m),m.target,a(m,t.lockRef.current))},[]),f=h.useCallback(function(m){c(m.type,qu(m),m.target,a(m,t.lockRef.current))},[]);h.useEffect(function(){return ho.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,fo),document.addEventListener("touchmove",l,fo),document.addEventListener("touchstart",u,fo),function(){ho=ho.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,fo),document.removeEventListener("touchmove",l,fo),document.removeEventListener("touchstart",u,fo)}},[]);var g=t.removeScrollBar,v=t.inert;return h.createElement(h.Fragment,null,v?h.createElement(s,{styles:z6(i)}):null,g?h.createElement($6,{gapMode:"margin"}):null)}const q6=T6(TR,H6);var CR=h.forwardRef(function(t,e){return h.createElement(rp,ar({},t,{ref:e,sideCar:q6}))});CR.classNames=rp.classNames;const K6=CR,G6=[" ","Enter","ArrowUp","ArrowDown"],Q6=[" ","Enter"],ip="Select",[sp,op,Z6]=Iv(ip),[ka,Zz]=ga(ip,[Z6,mR]),s0=mR(),[Y6,to]=ka(ip),[X6,J6]=ka(ip),e7=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:g}=t,v=s0(e),[m,w]=h.useState(null),[y,p]=h.useState(null),[_,T]=h.useState(!1),S=bv(c),[b=!1,I]=Wl({prop:r,defaultProp:i,onChange:s}),[A,F]=Wl({prop:o,defaultProp:a,onChange:l}),j=h.useRef(null),J=m?!!m.closest("form"):!0,[N,K]=h.useState(new Set),O=Array.from(N).map(W=>W.props.value).join(";");return h.createElement(a6,v,h.createElement(Y6,{required:g,scope:e,trigger:m,onTriggerChange:w,valueNode:y,onValueNodeChange:p,valueNodeHasChildren:_,onValueNodeHasChildrenChange:T,contentId:Dc(),value:A,onValueChange:F,open:b,onOpenChange:I,dir:S,triggerPointerDownPosRef:j,disabled:f},h.createElement(sp.Provider,{scope:e},h.createElement(X6,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(W=>{K(ee=>new Set(ee).add(W))},[]),onNativeOptionRemove:h.useCallback(W=>{K(ee=>{const X=new Set(ee);return X.delete(W),X})},[])},n)),J?h.createElement(NR,{key:O,"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:d,value:A,onChange:W=>F(W.target.value),disabled:f},A===void 0?h.createElement("option",{value:""}):null,Array.from(N)):null))},t7="SelectTrigger",n7=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=s0(n),o=to(t7,n),a=o.disabled||r,l=ot(e,o.onTriggerChange),c=op(n),[u,d,f]=OR(v=>{const m=c().filter(p=>!p.disabled),w=m.find(p=>p.value===o.value),y=$R(m,v,w);y!==void 0&&o.onValueChange(y.value)}),g=()=>{a||(o.onOpenChange(!0),f())};return h.createElement(l6,ae({asChild:!0},s),h.createElement(Pe.button,ae({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":kR(o.value)?"":void 0},i,{ref:l,onClick:Ee(i.onClick,v=>{v.currentTarget.focus()}),onPointerDown:Ee(i.onPointerDown,v=>{const m=v.target;m.hasPointerCapture(v.pointerId)&&m.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(g(),o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:Ee(i.onKeyDown,v=>{const m=u.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&d(v.key),!(m&&v.key===" ")&&G6.includes(v.key)&&(g(),v.preventDefault())})})))}),r7="SelectValue",i7=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=to(r7,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=ot(e,l.onValueNodeChange);return Jt(()=>{c(u)},[c,u]),h.createElement(Pe.span,ae({},a,{ref:d,style:{pointerEvents:"none"}}),kR(l.value)?h.createElement(h.Fragment,null,o):s)}),s7=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return h.createElement(Pe.span,ae({"aria-hidden":!0},i,{ref:e}),r||"▼")}),o7=t=>h.createElement(_R,ae({asChild:!0},t)),ua="SelectContent",a7=h.forwardRef((t,e)=>{const n=to(ua,t.__scopeSelect),[r,i]=h.useState();if(Jt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ji.createPortal(h.createElement(AR,{scope:t.__scopeSelect},h.createElement(sp.Slot,{scope:t.__scopeSelect},h.createElement("div",null,t.children))),s):null}return h.createElement(l7,ae({},t,{ref:e}))}),Pr=10,[AR,no]=ka(ua),l7=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:w,...y}=t,p=to(ua,n),[_,T]=h.useState(null),[S,b]=h.useState(null),I=ot(e,re=>T(re)),[A,F]=h.useState(null),[j,J]=h.useState(null),N=op(n),[K,O]=h.useState(!1),W=h.useRef(!1);h.useEffect(()=>{if(_)return p6(_)},[_]),eU();const ee=h.useCallback(re=>{const[Ve,...et]=N().map(ke=>ke.ref.current),[Me]=et.slice(-1),Oe=document.activeElement;for(const ke of re)if(ke===Oe||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===Ve&&S&&(S.scrollTop=0),ke===Me&&S&&(S.scrollTop=S.scrollHeight),ke==null||ke.focus(),document.activeElement!==Oe))return},[N,S]),X=h.useCallback(()=>ee([A,_]),[ee,A,_]);h.useEffect(()=>{K&&X()},[K,X]);const{onOpenChange:D,triggerPointerDownPosRef:U}=p;h.useEffect(()=>{if(_){let re={x:0,y:0};const Ve=Me=>{var Oe,ke,Gt,Lt;re={x:Math.abs(Math.round(Me.pageX)-((Oe=(ke=U.current)===null||ke===void 0?void 0:ke.x)!==null&&Oe!==void 0?Oe:0)),y:Math.abs(Math.round(Me.pageY)-((Gt=(Lt=U.current)===null||Lt===void 0?void 0:Lt.y)!==null&&Gt!==void 0?Gt:0))}},et=Me=>{re.x<=10&&re.y<=10?Me.preventDefault():_.contains(Me.target)||D(!1),document.removeEventListener("pointermove",Ve),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",et,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",et,{capture:!0})}}},[_,D,U]),h.useEffect(()=>{const re=()=>D(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[D]);const[ne,pe]=OR(re=>{const Ve=N().filter(Oe=>!Oe.disabled),et=Ve.find(Oe=>Oe.ref.current===document.activeElement),Me=$R(Ve,re,et);Me&&setTimeout(()=>Me.ref.current.focus())}),Te=h.useCallback((re,Ve,et)=>{const Me=!W.current&&!et;(p.value!==void 0&&p.value===Ve||Me)&&(F(re),Me&&(W.current=!0))},[p.value]),ht=h.useCallback(()=>_==null?void 0:_.focus(),[_]),it=h.useCallback((re,Ve,et)=>{const Me=!W.current&&!et;(p.value!==void 0&&p.value===Ve||Me)&&J(re)},[p.value]),Dt=r==="popper"?UT:c7,Je=Dt===UT?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:w}:{};return h.createElement(AR,{scope:n,content:_,viewport:S,onViewportChange:b,itemRefCallback:Te,selectedItem:A,onItemLeave:ht,itemTextRefCallback:it,focusSelectedItem:X,selectedItemText:j,position:r,isPositioned:K,searchRef:ne},h.createElement(K6,{as:$s,allowPinchZoom:!0},h.createElement(tU,{asChild:!0,trapped:p.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Ee(i,re=>{var Ve;(Ve=p.trigger)===null||Ve===void 0||Ve.focus({preventScroll:!0}),re.preventDefault()})},h.createElement(eR,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>p.onOpenChange(!1)},h.createElement(Dt,ae({role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:re=>re.preventDefault()},y,Je,{onPlaced:()=>O(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ee(y.onKeyDown,re=>{const Ve=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Ve&&re.key.length===1&&pe(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Me=N().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Oe=re.target,ke=Me.indexOf(Oe);Me=Me.slice(ke+1)}setTimeout(()=>ee(Me)),re.preventDefault()}})}))))))}),c7=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=to(ua,n),o=no(ua,n),[a,l]=h.useState(null),[c,u]=h.useState(null),d=ot(e,I=>u(I)),f=op(n),g=h.useRef(!1),v=h.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:y,focusSelectedItem:p}=o,_=h.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&m&&w&&y){const I=s.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(s.dir!=="rtl"){const Oe=j.left-A.left,ke=F.left-Oe,Gt=I.left-ke,Lt=I.width+Gt,xn=Math.max(Lt,A.width),os=window.innerWidth-Pr,so=wT(ke,[Pr,os-xn]);a.style.minWidth=Lt+"px",a.style.left=so+"px"}else{const Oe=A.right-j.right,ke=window.innerWidth-F.right-Oe,Gt=window.innerWidth-I.right-ke,Lt=I.width+Gt,xn=Math.max(Lt,A.width),os=window.innerWidth-Pr,so=wT(ke,[Pr,os-xn]);a.style.minWidth=Lt+"px",a.style.right=so+"px"}const J=f(),N=window.innerHeight-Pr*2,K=m.scrollHeight,O=window.getComputedStyle(c),W=parseInt(O.borderTopWidth,10),ee=parseInt(O.paddingTop,10),X=parseInt(O.borderBottomWidth,10),D=parseInt(O.paddingBottom,10),U=W+ee+K+D+X,ne=Math.min(w.offsetHeight*5,U),pe=window.getComputedStyle(m),Te=parseInt(pe.paddingTop,10),ht=parseInt(pe.paddingBottom,10),it=I.top+I.height/2-Pr,Dt=N-it,Je=w.offsetHeight/2,re=w.offsetTop+Je,Ve=W+ee+re,et=U-Ve;if(Ve<=it){const Oe=w===J[J.length-1].ref.current;a.style.bottom="0px";const ke=c.clientHeight-m.offsetTop-m.offsetHeight,Gt=Math.max(Dt,Je+(Oe?ht:0)+ke+X),Lt=Ve+Gt;a.style.height=Lt+"px"}else{const Oe=w===J[0].ref.current;a.style.top="0px";const Gt=Math.max(it,W+m.offsetTop+(Oe?Te:0)+Je)+et;a.style.height=Gt+"px",m.scrollTop=Ve-it+m.offsetTop}a.style.margin=`${Pr}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[f,s.trigger,s.valueNode,a,c,m,w,y,s.dir,r]);Jt(()=>_(),[_]);const[T,S]=h.useState();Jt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const b=h.useCallback(I=>{I&&v.current===!0&&(_(),p==null||p(),v.current=!1)},[_,p]);return h.createElement(u7,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:b},h.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T}},h.createElement(Pe.div,ae({},i,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),UT=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Pr,...s}=t,o=s0(n);return h.createElement(c6,ae({},o,s,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[u7,o0]=ka(ua,{}),BT="SelectViewport",d7=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=no(BT,n),s=o0(BT,n),o=ot(e,i.onViewportChange),a=h.useRef(0);return h.createElement(h.Fragment,null,h.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),h.createElement(sp.Slot,{scope:n},h.createElement(Pe.div,ae({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Ee(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=s;if(d!=null&&d.current&&u){const f=Math.abs(a.current-c.scrollTop);if(f>0){const g=window.innerHeight-Pr*2,v=parseFloat(u.style.minHeight),m=parseFloat(u.style.height),w=Math.max(v,m);if(w<g){const y=w+f,p=Math.min(g,y),_=y-p;u.style.height=p+"px",u.style.bottom==="0px"&&(c.scrollTop=_>0?_:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),f7="SelectGroup",[h7,p7]=ka(f7),m7=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Dc();return h.createElement(h7,{scope:n,id:i},h.createElement(Pe.div,ae({role:"group","aria-labelledby":i},r,{ref:e})))}),g7="SelectLabel",y7=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=p7(g7,n);return h.createElement(Pe.div,ae({id:i.id},r,{ref:e}))}),vy="SelectItem",[v7,RR]=ka(vy),_7=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=to(vy,n),l=no(vy,n),c=a.value===r,[u,d]=h.useState(s??""),[f,g]=h.useState(!1),v=ot(e,y=>{var p;return(p=l.itemRefCallback)===null||p===void 0?void 0:p.call(l,y,r,i)}),m=Dc(),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.createElement(v7,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:h.useCallback(y=>{d(p=>{var _;return p||((_=y==null?void 0:y.textContent)!==null&&_!==void 0?_:"").trim()})},[])},h.createElement(sp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},h.createElement(Pe.div,ae({role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:v,onFocus:Ee(o.onFocus,()=>g(!0)),onBlur:Ee(o.onBlur,()=>g(!1)),onPointerUp:Ee(o.onPointerUp,w),onPointerMove:Ee(o.onPointerMove,y=>{if(i){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}else y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,y=>{if(y.currentTarget===document.activeElement){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}}),onKeyDown:Ee(o.onKeyDown,y=>{var p;((p=l.searchRef)===null||p===void 0?void 0:p.current)!==""&&y.key===" "||(Q6.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})}))))}),Ku="SelectItemText",w7=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=to(Ku,n),a=no(Ku,n),l=RR(Ku,n),c=J6(Ku,n),[u,d]=h.useState(null),f=ot(e,y=>d(y),l.onItemTextChange,y=>{var p;return(p=a.itemTextRefCallback)===null||p===void 0?void 0:p.call(a,y,l.value,l.disabled)}),g=u==null?void 0:u.textContent,v=h.useMemo(()=>h.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=c;return Jt(()=>(m(v),()=>w(v)),[m,w,v]),h.createElement(h.Fragment,null,h.createElement(Pe.span,ae({id:l.textId},s,{ref:f})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ji.createPortal(s.children,o.valueNode):null)}),E7="SelectItemIndicator",T7=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return RR(E7,n).isSelected?h.createElement(Pe.span,ae({"aria-hidden":!0},r,{ref:e})):null}),zT="SelectScrollUpButton",S7=h.forwardRef((t,e)=>{const n=no(zT,t.__scopeSelect),r=o0(zT,t.__scopeSelect),[i,s]=h.useState(!1),o=ot(e,r.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;s(u)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?h.createElement(PR,ae({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),WT="SelectScrollDownButton",x7=h.forwardRef((t,e)=>{const n=no(WT,t.__scopeSelect),r=o0(WT,t.__scopeSelect),[i,s]=h.useState(!1),o=ot(e,r.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?h.createElement(PR,ae({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),PR=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=no("SelectScrollButton",n),o=h.useRef(null),a=op(n),l=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),Jt(()=>{var c;const u=a().find(d=>d.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),h.createElement(Pe.div,ae({"aria-hidden":!0},i,{ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ee(i.onPointerMove,()=>{var c;(c=s.onItemLeave)===null||c===void 0||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{l()})}))}),I7=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.createElement(Pe.div,ae({"aria-hidden":!0},r,{ref:e}))});function kR(t){return t===""||t===void 0}const NR=h.forwardRef((t,e)=>{const{value:n,...r}=t,i=h.useRef(null),s=ot(e,i),o=u6(n);return h.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),h.createElement(i0,{asChild:!0},h.createElement("select",ae({},r,{ref:s,defaultValue:n})))});NR.displayName="BubbleSelect";function OR(t){const e=fn(t),n=h.useRef(""),r=h.useRef(0),i=h.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function $R(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=b7(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function b7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const C7=e7,DR=n7,A7=i7,R7=s7,P7=o7,LR=a7,k7=d7,N7=m7,VR=y7,MR=_7,O7=w7,$7=T7,FR=S7,jR=x7,UR=I7;/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ap=(t,e)=>{const n=h.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>h.createElement("svg",{ref:u,...D7,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${L7(t)}`,a].join(" "),...c},[...e.map(([d,f])=>h.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=ap("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=ap("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=ap("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=ap("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bf=C7,zf=N7,bl=A7,xc=h.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(DR,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,E.jsx(R7,{asChild:!0,children:E.jsx(BR,{className:"h-4 w-4 opacity-50"})})]}));xc.displayName=DR.displayName;const zR=h.forwardRef(({className:t,...e},n)=>E.jsx(FR,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(M7,{className:"h-4 w-4"})}));zR.displayName=FR.displayName;const WR=h.forwardRef(({className:t,...e},n)=>E.jsx(jR,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(BR,{className:"h-4 w-4"})}));WR.displayName=jR.displayName;const Ic=h.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>E.jsx(P7,{children:E.jsxs(LR,{ref:i,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[E.jsx(zR,{}),E.jsx(k7,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),E.jsx(WR,{})]})}));Ic.displayName=LR.displayName;const bc=h.forwardRef(({className:t,...e},n)=>E.jsx(VR,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));bc.displayName=VR.displayName;const Ho=h.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(MR,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx($7,{children:E.jsx(V7,{className:"h-4 w-4"})})}),E.jsx(O7,{children:e})]}));Ho.displayName=MR.displayName;const j7=h.forwardRef(({className:t,...e},n)=>E.jsx(UR,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));j7.displayName=UR.displayName;const U7=Dr.object({id:Dr.string({message:"Please enter a valid id"}),name:Dr.string({message:"Please enter a valid name"}),price:Dr.string().transform(t=>parseFloat(t))});function B7({products:t,setProducts:e,refresh:n,setRefresh:r}){const{toast:i}=jc(),s=uh({resolver:hh(U7),defaultValues:{id:"",name:"",price:0}}),o=async c=>{const u=t.find(f=>f.id===c.id),d=P_(ep,"products",c==null?void 0:c.id);if(u){u.name=c.name,u.price=c.price;try{return await t3(d,u),r(f=>!f),!0}catch(f){return console.log(f),!1}}return!1},a=async c=>{let u=await o(c);i(u?{title:"Product updated successfully",description:"Product details has been updated successfully"}:{variant:"destructive",title:"Product doesn't exists",description:"Product with the given id doesn't exists in the list"}),s.reset()},l=t.map(c=>E.jsxs(Ho,{value:c.id,children:[c.name," - ",c.price]},c.id));return E.jsx(dh,{...s,children:E.jsx("form",{onSubmit:s.handleSubmit(a),children:E.jsxs(ya,{children:[E.jsxs(va,{children:[E.jsx(_a,{children:"Update Product"}),E.jsx(wa,{children:"Update the product details"})]}),E.jsxs(Ea,{className:"space-y-2",children:[E.jsx("div",{className:"w-full mr-2",children:E.jsx(Oi,{control:s.control,name:"id",render:({field:c})=>E.jsxs(Ur,{children:[E.jsx(zr,{}),E.jsx($i,{children:"Id"}),E.jsxs(Bf,{onValueChange:c.onChange,defaultValue:c.value,children:[E.jsx(Br,{children:E.jsx(xc,{className:"w-full",children:E.jsx(bl,{placeholder:"Select Product"})})}),E.jsx(Ic,{children:E.jsxs(zf,{children:[E.jsx(bc,{children:"Products"}),l]})})]})]})})}),E.jsx("div",{className:"space-y-1",children:E.jsx(Oi,{control:s.control,name:"name",render:({field:c})=>E.jsxs(Ur,{children:[E.jsx($i,{children:"Name"}),E.jsx(Br,{children:E.jsx(vr,{...c,placeholder:"Name your treasure"})}),E.jsx(zr,{})]})})}),E.jsx("div",{className:"space-y-1",children:E.jsx(Oi,{control:s.control,name:"price",render:({field:c})=>E.jsxs(Ur,{children:[E.jsx($i,{children:"Price"}),E.jsx(Br,{children:E.jsx(vr,{...c,placeholder:"Valued at"})}),E.jsx(zr,{})]})})})]}),E.jsx(Lc,{children:E.jsx(kn,{className:"w-full",type:"submit",children:"Update"})})]})})})}function HR(t,e){return function(){return t.apply(e,arguments)}}const{toString:z7}=Object.prototype,{getPrototypeOf:a0}=Object,lp=(t=>e=>{const n=z7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),br=t=>(t=t.toLowerCase(),e=>lp(e)===t),cp=t=>e=>typeof e===t,{isArray:Na}=Array,Cc=cp("undefined");function W7(t){return t!==null&&!Cc(t)&&t.constructor!==null&&!Cc(t.constructor)&&$n(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qR=br("ArrayBuffer");function H7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qR(t.buffer),e}const q7=cp("string"),$n=cp("function"),KR=cp("number"),up=t=>t!==null&&typeof t=="object",K7=t=>t===!0||t===!1,xd=t=>{if(lp(t)!=="object")return!1;const e=a0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},G7=br("Date"),Q7=br("File"),Z7=br("Blob"),Y7=br("FileList"),X7=t=>up(t)&&$n(t.pipe),J7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$n(t.append)&&((e=lp(t))==="formdata"||e==="object"&&$n(t.toString)&&t.toString()==="[object FormData]"))},eB=br("URLSearchParams"),tB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Na(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function GR(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const QR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZR=t=>!Cc(t)&&t!==QR;function _y(){const{caseless:t}=ZR(this)&&this||{},e={},n=(r,i)=>{const s=t&&GR(e,i)||i;xd(e[s])&&xd(r)?e[s]=_y(e[s],r):xd(r)?e[s]=_y({},r):Na(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cu(arguments[r],n);return e}const nB=(t,e,n,{allOwnKeys:r}={})=>(cu(e,(i,s)=>{n&&$n(i)?t[s]=HR(i,n):t[s]=i},{allOwnKeys:r}),t),rB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},sB=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&a0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},aB=t=>{if(!t)return null;if(Na(t))return t;let e=t.length;if(!KR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},lB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&a0(Uint8Array)),cB=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},uB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},dB=br("HTMLFormElement"),fB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),HT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hB=br("RegExp"),YR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};cu(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},pB=t=>{YR(t,(e,n)=>{if($n(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if($n(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mB=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Na(t)?r(t):r(String(t).split(e)),n},gB=()=>{},yB=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Rm="abcdefghijklmnopqrstuvwxyz",qT="0123456789",XR={DIGIT:qT,ALPHA:Rm,ALPHA_DIGIT:Rm+Rm.toUpperCase()+qT},vB=(t=16,e=XR.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function _B(t){return!!(t&&$n(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const wB=t=>{const e=new Array(10),n=(r,i)=>{if(up(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Na(r)?[]:{};return cu(r,(o,a)=>{const l=n(o,i+1);!Cc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},EB=br("AsyncFunction"),TB=t=>t&&(up(t)||$n(t))&&$n(t.then)&&$n(t.catch),P={isArray:Na,isArrayBuffer:qR,isBuffer:W7,isFormData:J7,isArrayBufferView:H7,isString:q7,isNumber:KR,isBoolean:K7,isObject:up,isPlainObject:xd,isUndefined:Cc,isDate:G7,isFile:Q7,isBlob:Z7,isRegExp:hB,isFunction:$n,isStream:X7,isURLSearchParams:eB,isTypedArray:lB,isFileList:Y7,forEach:cu,merge:_y,extend:nB,trim:tB,stripBOM:rB,inherits:iB,toFlatObject:sB,kindOf:lp,kindOfTest:br,endsWith:oB,toArray:aB,forEachEntry:cB,matchAll:uB,isHTMLForm:dB,hasOwnProperty:HT,hasOwnProp:HT,reduceDescriptors:YR,freezeMethods:pB,toObjectSet:mB,toCamelCase:fB,noop:gB,toFiniteNumber:yB,findKey:GR,global:QR,isContextDefined:ZR,ALPHABET:XR,generateString:vB,isSpecCompliantForm:_B,toJSONObject:wB,isAsyncFn:EB,isThenable:TB};function Ce(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}P.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const JR=Ce.prototype,eP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eP[t]={value:t}});Object.defineProperties(Ce,eP);Object.defineProperty(JR,"isAxiosError",{value:!0});Ce.from=(t,e,n,r,i,s)=>{const o=Object.create(JR);return P.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ce.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const SB=null;function wy(t){return P.isPlainObject(t)||P.isArray(t)}function tP(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function KT(t,e,n){return t?t.concat(e).map(function(i,s){return i=tP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function xB(t){return P.isArray(t)&&!t.some(wy)}const IB=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function dp(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!P.isUndefined(w[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(P.isDate(v))return v.toISOString();if(!l&&P.isBlob(v))throw new Ce("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(v)||P.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,m,w){let y=v;if(v&&!w&&typeof v=="object"){if(P.endsWith(m,"{}"))m=r?m:m.slice(0,-2),v=JSON.stringify(v);else if(P.isArray(v)&&xB(v)||(P.isFileList(v)||P.endsWith(m,"[]"))&&(y=P.toArray(v)))return m=tP(m),y.forEach(function(_,T){!(P.isUndefined(_)||_===null)&&e.append(o===!0?KT([m],T,s):o===null?m:m+"[]",c(_))}),!1}return wy(v)?!0:(e.append(KT(w,m,s),c(v)),!1)}const d=[],f=Object.assign(IB,{defaultVisitor:u,convertValue:c,isVisitable:wy});function g(v,m){if(!P.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(v),P.forEach(v,function(y,p){(!(P.isUndefined(y)||y===null)&&i.call(e,y,P.isString(p)?p.trim():p,m,f))===!0&&g(y,m?m.concat(p):[p])}),d.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return g(t),e}function GT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function l0(t,e){this._pairs=[],t&&dp(t,this,e)}const nP=l0.prototype;nP.append=function(e,n){this._pairs.push([e,n])};nP.toString=function(e){const n=e?function(r){return e.call(this,r,GT)}:GT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function bB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rP(t,e,n){if(!e)return t;const r=n&&n.encode||bB,i=n&&n.serialize;let s;if(i?s=i(e,n):s=P.isURLSearchParams(e)?e.toString():new l0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class QT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(r){r!==null&&e(r)})}}const iP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CB=typeof URLSearchParams<"u"?URLSearchParams:l0,AB=typeof FormData<"u"?FormData:null,RB=typeof Blob<"u"?Blob:null,PB={isBrowser:!0,classes:{URLSearchParams:CB,FormData:AB,Blob:RB},protocols:["http","https","file","blob","url","data"]},sP=typeof window<"u"&&typeof document<"u",kB=(t=>sP&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),NB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",OB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sP,hasStandardBrowserEnv:kB,hasStandardBrowserWebWorkerEnv:NB},Symbol.toStringTag,{value:"Module"})),dr={...OB,...PB};function $B(t,e){return dp(t,new dr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return dr.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function DB(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LB(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function oP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&P.isArray(i)?i.length:o,l?(P.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&P.isArray(i[o])&&(i[o]=LB(i[o])),!a)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(r,i)=>{e(DB(r),i,n,0)}),n}return null}function VB(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const c0={transitional:iP,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=P.isObject(e);if(s&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return i?JSON.stringify(oP(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $B(e,this.formSerializer).toString();if((a=P.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return dp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),VB(e)):e}],transformResponse:[function(e){const n=this.transitional||c0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&P.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ce.from(a,Ce.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{c0.headers[t]={}});const u0=c0,MB=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FB=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&MB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ZT=Symbol("internals");function Ga(t){return t&&String(t).trim().toLowerCase()}function Id(t){return t===!1||t==null?t:P.isArray(t)?t.map(Id):String(t)}function jB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const UB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pm(t,e,n,r,i){if(P.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!P.isString(e)){if(P.isString(r))return e.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(e)}}function BB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function zB(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class fp{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=Ga(l);if(!u)throw new Error("header name must be a non-empty string");const d=P.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Id(a))}const o=(a,l)=>P.forEach(a,(c,u)=>s(c,u,l));return P.isPlainObject(e)||e instanceof this.constructor?o(e,n):P.isString(e)&&(e=e.trim())&&!UB(e)?o(FB(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Ga(e),e){const r=P.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return jB(i);if(P.isFunction(n))return n.call(this,i,r);if(P.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ga(e),e){const r=P.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Pm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ga(o),o){const a=P.findKey(r,o);a&&(!n||Pm(r,r[a],a,n))&&(delete r[a],i=!0)}}return P.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Pm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return P.forEach(this,(i,s)=>{const o=P.findKey(r,s);if(o){n[o]=Id(i),delete n[s];return}const a=e?BB(s):String(s).trim();a!==s&&delete n[s],n[a]=Id(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ZT]=this[ZT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ga(o);r[a]||(zB(i,o),r[a]=!0)}return P.isArray(e)?e.forEach(s):s(e),this}}fp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(fp.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});P.freezeMethods(fp);const qr=fp;function km(t,e){const n=this||u0,r=e||n,i=qr.from(r.headers);let s=r.data;return P.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function aP(t){return!!(t&&t.__CANCEL__)}function uu(t,e,n){Ce.call(this,t??"canceled",Ce.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(uu,Ce,{__CANCEL__:!0});function WB(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ce("Request failed with status code "+n.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const HB=dr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];P.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),P.isString(r)&&o.push("path="+r),P.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function KB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lP(t,e){return t&&!qB(e)?KB(t,e):e}const GB=dr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=P.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function QB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ZB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const g=u&&c-u;return g?Math.round(f*1e3/g):void 0}}function YT(t,e){let n=0;const r=ZB(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const YB=typeof XMLHttpRequest<"u",XB=YB&&function(t){return new Promise(function(n,r){let i=t.data;const s=qr.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let u;if(P.isFormData(i)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[m,...w]=u?u.split(";").map(y=>y.trim()).filter(Boolean):[];s.setContentType([m||"multipart/form-data",...w].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+w))}const f=lP(t.baseURL,t.url);d.open(t.method.toUpperCase(),rP(f,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function g(){if(!d)return;const m=qr.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:t,request:d};WB(function(_){n(_),c()},function(_){r(_),c()},y),d=null}if("onloadend"in d?d.onloadend=g:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(g)},d.onabort=function(){d&&(r(new Ce("Request aborted",Ce.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new Ce("Network Error",Ce.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||iP;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),r(new Ce(w,y.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,t,d)),d=null},dr.hasStandardBrowserEnv&&(a&&P.isFunction(a)&&(a=a(t)),a||a!==!1&&GB(f))){const m=t.xsrfHeaderName&&t.xsrfCookieName&&HB.read(t.xsrfCookieName);m&&s.set(t.xsrfHeaderName,m)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&P.forEach(s.toJSON(),function(w,y){d.setRequestHeader(y,w)}),P.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",YT(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",YT(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=m=>{d&&(r(!m||m.type?new uu(null,t,d):m),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const v=QB(f);if(v&&dr.protocols.indexOf(v)===-1){r(new Ce("Unsupported protocol "+v+":",Ce.ERR_BAD_REQUEST,t));return}d.send(i||null)})},Ey={http:SB,xhr:XB};P.forEach(Ey,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const XT=t=>`- ${t}`,JB=t=>P.isFunction(t)||t===null||t===!1,cP={getAdapter:t=>{t=P.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!JB(n)&&(r=Ey[(o=String(n)).toLowerCase()],r===void 0))throw new Ce(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(XT).join(`
`):" "+XT(s[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Ey};function Nm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new uu(null,t)}function JT(t){return Nm(t),t.headers=qr.from(t.headers),t.data=km.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cP.getAdapter(t.adapter||u0.adapter)(t).then(function(r){return Nm(t),r.data=km.call(t,t.transformResponse,r),r.headers=qr.from(r.headers),r},function(r){return aP(r)||(Nm(t),r&&r.response&&(r.response.data=km.call(t,t.transformResponse,r.response),r.response.headers=qr.from(r.response.headers))),Promise.reject(r)})}const e1=t=>t instanceof qr?t.toJSON():t;function da(t,e){e=e||{};const n={};function r(c,u,d){return P.isPlainObject(c)&&P.isPlainObject(u)?P.merge.call({caseless:d},c,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function i(c,u,d){if(P.isUndefined(u)){if(!P.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!P.isUndefined(u))return r(void 0,u)}function o(c,u){if(P.isUndefined(u)){if(!P.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(e1(c),e1(u),!0)};return P.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);P.isUndefined(f)&&d!==a||(n[u]=f)}),n}const uP="1.6.7",d0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{d0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const t1={};d0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+uP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ce(i(o," has been removed"+(n?" in "+n:"")),Ce.ERR_DEPRECATED);return n&&!t1[o]&&(t1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function e8(t,e,n){if(typeof t!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ce("option "+s+" must be "+l,Ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ce("Unknown option "+s,Ce.ERR_BAD_OPTION)}}const Ty={assertOptions:e8,validators:d0},ui=Ty.validators;class Wf{constructor(e){this.defaults=e,this.interceptors={request:new QT,response:new QT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=da(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ty.assertOptions(r,{silentJSONParsing:ui.transitional(ui.boolean),forcedJSONParsing:ui.transitional(ui.boolean),clarifyTimeoutError:ui.transitional(ui.boolean)},!1),i!=null&&(P.isFunction(i)?n.paramsSerializer={serialize:i}:Ty.assertOptions(i,{encode:ui.function,serialize:ui.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&P.merge(s.common,s[n.method]);s&&P.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=qr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const v=[JT.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),f=v.length,u=Promise.resolve(n);d<f;)u=u.then(v[d++],v[d++]);return u}f=a.length;let g=n;for(d=0;d<f;){const v=a[d++],m=a[d++];try{g=v(g)}catch(w){m.call(this,w);break}}try{u=JT.call(this,g)}catch(v){return Promise.reject(v)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=da(this.defaults,e);const n=lP(e.baseURL,e.url);return rP(n,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){Wf.prototype[e]=function(n,r){return this.request(da(r||{},{method:e,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(da(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Wf.prototype[e]=n(),Wf.prototype[e+"Form"]=n(!0)});const bd=Wf;class f0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new uu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new f0(function(i){e=i}),cancel:e}}}const t8=f0;function n8(t){return function(n){return t.apply(null,n)}}function r8(t){return P.isObject(t)&&t.isAxiosError===!0}const Sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sy).forEach(([t,e])=>{Sy[e]=t});const i8=Sy;function dP(t){const e=new bd(t),n=HR(bd.prototype.request,e);return P.extend(n,bd.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return dP(da(t,i))},n}const ft=dP(u0);ft.Axios=bd;ft.CanceledError=uu;ft.CancelToken=t8;ft.isCancel=aP;ft.VERSION=uP;ft.toFormData=dp;ft.AxiosError=Ce;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=n8;ft.isAxiosError=r8;ft.mergeConfig=da;ft.AxiosHeaders=qr;ft.formToJSON=t=>oP(P.isHTMLForm(t)?new FormData(t):t);ft.getAdapter=cP.getAdapter;ft.HttpStatusCode=i8;ft.default=ft;function s8({items:t,setItems:e,products:n,setProducts:r,refresh:i,setRefresh:s}){const{toast:o}=jc(),[a,l]=h.useState(""),[c,u]=h.useState("Select"),d=T=>{l(T.target.value)},f=T=>{u(T)},g=T=>{if(T.preventDefault(),a===""){console.log("Please enter a username"),o({variant:"destructive",title:"Please enter a username",description:"Username is required"});return}if(t.length===0){console.log("Please add items to the invoice"),o({variant:"destructive",title:"Please add items to the invoice",description:"Items are required"});return}if(c==="Select"){console.log("Please select a payment method"),o({variant:"destructive",title:"Please select a payment method",description:"Payment method is required"});return}const S=t.map((I,A)=>({id:A+1,name:I.name,price:n.find(F=>F.id===I.item).price,quantity:I.quantity,totalAmount:I.totalAmount})),b={billDate:new Date().toLocaleDateString(),billNumber:Math.floor(Math.random()*1e5),products:S,username:a,paymentType:c,transactionDetails:""};console.log(b),e([]),l(""),u("Select"),p({id:"",name:"",price:0}),v(b),console.log("Invoice Submitted")};async function v(T){try{const S=await ft.post("http://localhost:3000/generate-pdf",T,{responseType:"blob"}),b=new Blob([S.data],{type:"application/pdf"}),I=window.URL.createObjectURL(b),A=document.createElement("a");A.href=I,A.download="invoice.pdf",document.body.appendChild(A),A.click(),document.body.removeChild(A),o({title:"Invoice Generated",description:"Invoice has been generated successfully"})}catch{o({variant:"destructive",title:"Invoice Generation Failed",description:"Invoice generation failed"})}}const m=n.map(T=>E.jsxs(Ho,{value:T.id,children:[T.name," - ",T.price]},T.id)),w=T=>{if(T===void 0||T.id===null||T.id===""){console.log("Please select a valid item"),o({variant:"destructive",title:"Please select a valid item",description:"Item is required"});return}const S=n.find(I=>I.id===T).price,b=t.find(I=>I.item===T);b?(b.quantity+=1,b.totalAmount=b.quantity*S,e([...t])):e([...t,{item:T,name:n.find(I=>I.id===T).name,quantity:1,totalAmount:S}])},[y,p]=h.useState({id:"",name:"",price:0}),_=T=>{p(T)};return E.jsxs(ya,{children:[E.jsxs(va,{children:[E.jsx(_a,{children:"Invoice"}),E.jsxs(wa,{children:[new Date().toLocaleDateString()," - ",new Date().toLocaleTimeString()]})]}),E.jsxs(Ea,{className:"space-y-2",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx(Is,{htmlFor:"username",children:"Username"}),E.jsx(vr,{id:"username",placeholder:"Ashish Prajapati",onChange:d,value:a})]}),E.jsxs("div",{children:[E.jsx(Is,{htmlFor:"select-item",children:"Select Item"}),E.jsxs("div",{className:"flex items-center space-x-5",id:"select-item",children:[E.jsxs(Bf,{onValueChange:_,value:y.name,children:[E.jsx(xc,{className:"w-full",children:E.jsx(bl,{placeholder:"Select"})}),E.jsx(Ic,{children:E.jsxs(zf,{children:[E.jsx(bc,{children:"Products"}),m]})})]}),E.jsx(kn,{onClick:()=>w(y),children:"Add"})]})]}),E.jsxs("div",{children:[E.jsx(Is,{htmlFor:"payment",children:"Select Payment Method"}),E.jsx("div",{className:"flex items-center space-x-5",id:"payment",children:E.jsxs(Bf,{onValueChange:T=>f(T),value:c,children:[E.jsx(xc,{className:"w-full",children:c?E.jsx(bl,{children:c}):E.jsx(bl,{placeholder:"Select"})}),E.jsx(Ic,{children:E.jsxs(zf,{children:[E.jsx(bc,{children:"Payment Method"}),E.jsx(Ho,{value:"online",children:"Online"}),E.jsx(Ho,{value:"cash",children:"Cash"})]})})]})})]})]}),E.jsx(Lc,{children:E.jsx(kn,{className:"w-full",onClick:g,children:"Generate Invoice"})})]})}const o8=Dr.object({id:Dr.string({message:"Please enter a valid id"})});function a8({products:t,setProducts:e,refresh:n,setRefresh:r}){const{toast:i}=jc(),s=uh({resolver:hh(o8),defaultValues:{id:""}}),o=async c=>{const u=t.find(f=>f.id===c.id),d=P_(ep,"products",c==null?void 0:c.id);if(console.log(d),u)try{return await n3(d),r(f=>!f),!0}catch(f){return console.log(f),!1}return!1},a=async c=>{let u=await o(c);i(u?{title:"Product deleted successfully",description:"Product details has been updated successfully"}:{variant:"destructive",title:"Product doesn't exists",description:"Product with the given id doesn't exists in the list"}),s.reset()},l=t.map(c=>E.jsxs(Ho,{value:c.id,children:[c.name," - ",c.price]},c.id));return E.jsx(dh,{...s,children:E.jsx("form",{onSubmit:s.handleSubmit(a),children:E.jsxs(ya,{children:[E.jsxs(va,{children:[E.jsx(_a,{children:"Delete Product"}),E.jsx(wa,{children:"Delete the product details"})]}),E.jsx(Ea,{className:"",children:E.jsxs("div",{className:"flex items-center justify-between w-full",children:[E.jsx("div",{className:"w-full mr-2",children:E.jsx(Oi,{control:s.control,name:"id",render:({field:c})=>E.jsxs(Ur,{children:[E.jsx(zr,{}),E.jsxs(Bf,{onValueChange:c.onChange,defaultValue:c.value,children:[E.jsx(Br,{children:E.jsx(xc,{className:"w-full",children:E.jsx(bl,{placeholder:"Product"})})}),E.jsx(Ic,{children:E.jsxs(zf,{children:[E.jsx(bc,{children:"Products"}),l]})})]})]})})}),E.jsx(kn,{type:"submit",children:"Delete"})]})})]})})})}function l8({products:t,items:e,setItems:n,setProducts:r,refresh:i,setRefresh:s}){return E.jsxs(j$,{defaultValue:"account",className:"w-[800px]",children:[E.jsxs(Kx,{className:"grid w-full grid-cols-3",children:[E.jsx(ad,{value:"bill",children:"Bill"}),E.jsx(ad,{value:"add",children:"Add Product"}),E.jsx(ad,{value:"update",children:"Update Product"})]}),E.jsx(Ja,{value:"bill",children:E.jsx(s8,{products:t,items:e,setItems:n,setProducts:r,refresh:i,setRefresh:s})}),E.jsx(Ja,{value:"add",children:E.jsx(H5,{products:t,setRefresh:s,refresh:i})}),E.jsx(Ja,{value:"update",children:E.jsx(B7,{products:t,setProducts:r,refresh:i,setRefresh:s})}),E.jsx(Ja,{value:"update",children:E.jsx(a8,{products:t,setProducts:r,refresh:i,setRefresh:s})})]})}const fP=h.forwardRef(({className:t,...e},n)=>E.jsx("div",{className:"relative w-full overflow-auto",children:E.jsx("table",{ref:n,className:we("w-full caption-bottom text-sm",t),...e})}));fP.displayName="Table";const hP=h.forwardRef(({className:t,...e},n)=>E.jsx("thead",{ref:n,className:we("[&_tr]:border-b",t),...e}));hP.displayName="TableHeader";const pP=h.forwardRef(({className:t,...e},n)=>E.jsx("tbody",{ref:n,className:we("[&_tr:last-child]:border-0",t),...e}));pP.displayName="TableBody";const mP=h.forwardRef(({className:t,...e},n)=>E.jsx("tfoot",{ref:n,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));mP.displayName="TableFooter";const Cd=h.forwardRef(({className:t,...e},n)=>E.jsx("tr",{ref:n,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Cd.displayName="TableRow";const ol=h.forwardRef(({className:t,...e},n)=>E.jsx("th",{ref:n,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ol.displayName="TableHead";const us=h.forwardRef(({className:t,...e},n)=>E.jsx("td",{ref:n,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));us.displayName="TableCell";const gP=h.forwardRef(({className:t,...e},n)=>E.jsx("caption",{ref:n,className:we("mt-4 text-sm text-muted-foreground",t),...e}));gP.displayName="TableCaption";function c8({items:t}){const e=t.reduce((n,r)=>n+parseInt(r.totalAmount),0);return E.jsxs(fP,{children:[E.jsx(gP,{children:"A list of your recent items."}),E.jsx(hP,{children:E.jsxs(Cd,{children:[E.jsx(ol,{className:"w-[100px]",children:"No."}),E.jsx(ol,{children:"Product Name"}),E.jsx(ol,{children:"Quantity"}),E.jsx(ol,{className:"text-right",children:"Amount"})]})}),E.jsx(pP,{children:t.map((n,r)=>E.jsxs(Cd,{children:[E.jsx(us,{className:"font-medium",children:r+1}),E.jsx(us,{children:n.name}),E.jsx(us,{children:n.quantity}),E.jsx(us,{className:"text-right",children:n.totalAmount})]},n.item))}),E.jsx(mP,{children:E.jsxs(Cd,{children:[E.jsx(us,{colSpan:3,children:"Total"}),E.jsx(us,{className:"text-right",children:e})]})})]})}/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const n1="popstate";function u8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return xy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hf(i)}return f8(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d8(){return Math.random().toString(36).substr(2,8)}function r1(t,e){return{usr:t.state,key:t.key,idx:e}}function xy(t,e,n,r){return n===void 0&&(n=null),Ac({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oa(e):e,{state:n,key:e&&e.key||r||d8()})}function Hf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=xi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ac({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=xi.Pop;let w=u(),y=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:y})}function f(w,y){a=xi.Push;let p=xy(m.location,w,y);n&&n(p,w),c=u()+1;let _=r1(p,c),T=m.createHref(p);try{o.pushState(_,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(T)}s&&l&&l({action:a,location:m.location,delta:1})}function g(w,y){a=xi.Replace;let p=xy(m.location,w,y);n&&n(p,w),c=u();let _=r1(p,c),T=m.createHref(p);o.replaceState(_,"",T),s&&l&&l({action:a,location:m.location,delta:0})}function v(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:Hf(w);return p=p.replace(/ $/,"%20"),ut(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let m={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(n1,d),l=w,()=>{i.removeEventListener(n1,d),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(w){return o.go(w)}};return m}var i1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(i1||(i1={}));function h8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Oa(e):e,i=h0(r.pathname||"/",n);if(i==null)return null;let s=vP(t);p8(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=b8(i);o=S8(s[a],l)}return o}function vP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Mi([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vP(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:E8(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _P(s.path))i(s,o,l)}),e}function _P(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_P(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function p8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const m8=/^:[\w-]+$/,g8=3,y8=2,v8=1,_8=10,w8=-2,s1=t=>t==="*";function E8(t,e){let n=t.split("/"),r=n.length;return n.some(s1)&&(r+=w8),e&&(r+=y8),n.filter(i=>!s1(i)).reduce((i,s)=>i+(m8.test(s)?g8:s===""?v8:_8),r)}function T8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function S8(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=x8({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Mi([i,u.pathname]),pathnameBase:P8(Mi([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Mi([i,u.pathnameBase]))}return s}function x8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=I8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const v=a[d];return g&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function I8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function b8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function h0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function C8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oa(t):t;return{pathname:n?n.startsWith("/")?n:A8(n,e):e,search:k8(r),hash:N8(i)}}function A8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Om(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wP(t,e){let n=R8(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function EP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Oa(t):(i=Ac({},t),ut(!i.pathname||!i.pathname.includes("?"),Om("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Om("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Om("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=C8(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Mi=t=>t.join("/").replace(/\/\/+/g,"/"),P8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),k8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TP=["post","put","patch","delete"];new Set(TP);const $8=["get",...TP];new Set($8);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rc.apply(this,arguments)}const p0=h.createContext(null),D8=h.createContext(null),ro=h.createContext(null),hp=h.createContext(null),io=h.createContext({outlet:null,matches:[],isDataRoute:!1}),SP=h.createContext(null);function L8(t,e){let{relative:n}=e===void 0?{}:e;du()||ut(!1);let{basename:r,navigator:i}=h.useContext(ro),{hash:s,pathname:o,search:a}=IP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Mi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function du(){return h.useContext(hp)!=null}function pp(){return du()||ut(!1),h.useContext(hp).location}function xP(t){h.useContext(ro).static||h.useLayoutEffect(t)}function mp(){let{isDataRoute:t}=h.useContext(io);return t?Q8():V8()}function V8(){du()||ut(!1);let t=h.useContext(p0),{basename:e,future:n,navigator:r}=h.useContext(ro),{matches:i}=h.useContext(io),{pathname:s}=pp(),o=JSON.stringify(wP(i,n.v7_relativeSplatPath)),a=h.useRef(!1);return xP(()=>{a.current=!0}),h.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=EP(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Mi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function IP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(ro),{matches:i}=h.useContext(io),{pathname:s}=pp(),o=JSON.stringify(wP(i,r.v7_relativeSplatPath));return h.useMemo(()=>EP(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function M8(t,e){return F8(t,e)}function F8(t,e,n,r){du()||ut(!1);let{navigator:i}=h.useContext(ro),{matches:s}=h.useContext(io),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=pp(),u;if(e){var d;let w=typeof e=="string"?Oa(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||ut(!1),u=w}else u=c;let f=u.pathname||"/",g=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=h8(t,{pathname:g}),m=W8(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Mi([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Mi([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&m?h.createElement(hp.Provider,{value:{location:Rc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xi.Pop}},m):m}function j8(){let t=G8(),e=O8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}const U8=h.createElement(j8,null);class B8 extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(io.Provider,{value:this.props.routeContext},h.createElement(SP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z8(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(p0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(io.Provider,{value:e},r)}function W8(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||ut(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let g,v=!1,m=null,w=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||U8,l&&(c<0&&f===0?(Z8("route-fallback",!1),v=!0,w=null):c===f&&(v=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),p=()=>{let _;return g?_=m:v?_=w:d.route.Component?_=h.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,h.createElement(z8,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?h.createElement(B8,{location:n.location,revalidation:n.revalidation,component:m,error:g,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var bP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bP||{}),qf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qf||{});function H8(t){let e=h.useContext(p0);return e||ut(!1),e}function q8(t){let e=h.useContext(D8);return e||ut(!1),e}function K8(t){let e=h.useContext(io);return e||ut(!1),e}function CP(t){let e=K8(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function G8(){var t;let e=h.useContext(SP),n=q8(qf.UseRouteError),r=CP(qf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Q8(){let{router:t}=H8(bP.UseNavigateStable),e=CP(qf.UseNavigateStable),n=h.useRef(!1);return xP(()=>{n.current=!0}),h.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rc({fromRouteId:e},s)))},[t,e])}const o1={};function Z8(t,e,n){!e&&!o1[t]&&(o1[t]=!0)}function Ad(t){ut(!1)}function Y8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xi.Pop,navigator:s,static:o=!1,future:a}=t;du()&&ut(!1);let l=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:s,static:o,future:Rc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Oa(r));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:v="default"}=r,m=h.useMemo(()=>{let w=h0(u,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:g,key:v},navigationType:i}},[l,u,d,f,g,v,i]);return m==null?null:h.createElement(ro.Provider,{value:c},h.createElement(hp.Provider,{children:n,value:m}))}function X8(t){let{children:e,location:n}=t;return M8(Iy(e),n)}new Promise(()=>{});function Iy(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;let s=[...e,i];if(r.type===h.Fragment){n.push.apply(n,Iy(r.props.children,s));return}r.type!==Ad&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Iy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}function J8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ez(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tz(t,e){return t.button===0&&(!e||e==="_self")&&!ez(t)}const nz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],rz="6";try{window.__reactRouterVersion=rz}catch{}const iz="startTransition",a1=S1[iz];function sz(t){let{basename:e,children:n,future:r,window:i}=t,s=h.useRef();s.current==null&&(s.current=u8({window:i,v5Compat:!0}));let o=s.current,[a,l]=h.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=h.useCallback(d=>{c&&a1?a1(()=>l(d)):l(d)},[l,c]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.createElement(Y8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const oz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",az=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lz=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=J8(e,nz),{basename:g}=h.useContext(ro),v,m=!1;if(typeof c=="string"&&az.test(c)&&(v=c,oz))try{let _=new URL(window.location.href),T=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=h0(T.pathname,g);T.origin===_.origin&&S!=null?c=S+T.search+T.hash:m=!0}catch{}let w=L8(c,{relative:i}),y=cz(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function p(_){r&&r(_),_.defaultPrevented||y(_)}return h.createElement("a",by({},f,{href:v||w,onClick:m||s?r:p,ref:n,target:l}))});var l1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(l1||(l1={}));var c1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c1||(c1={}));function cz(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=mp(),c=pp(),u=IP(t,{relative:o});return h.useCallback(d=>{if(tz(d,n)){d.preventDefault();let f=r!==void 0?r:Hf(c)===Hf(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function uz(){const{setIsLoggedIn:t,setUser:e}=ve.useContext(gp),n=mp(),[r,i]=h.useState(),s=jC(ep,"products"),[o,a]=h.useState(!1),[l,c]=h.useState([]),u=async()=>{await e3(s).then(f=>{const g=f.docs.map(v=>({id:v.id,...v.data()}));i(g)})};ve.useEffect(()=>{try{u()}catch(f){console.error("Error getting documents: ",f)}},[o]);async function d(){try{await Pj(Fr).then(f=>{localStorage.removeItem("user"),e(null),t(!1),n("/register")})}catch(f){console.log(f)}}return E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx(kn,{className:"absolute right-4 top-4 md:right-8 md:top-8",onClick:d,children:"LogOut"}),E.jsxs("div",{className:"flex items-center space-x-8",children:[E.jsx(l8,{products:r,items:l,setItems:c,setProducts:i,refresh:o,setRefresh:a}),E.jsx(c8,{items:l})]})]})}function dz(){const{isLoggedIn:t,setIsLoggedIn:e,user:n,setUser:r}=h.useContext(gp),i=mp();async function s(a){a.preventDefault();const l=a.target.email.value,c=a.target.password.value;try{await bj(Fr,l,c).then(u=>{e(!0),r(u.user),i("/")})}catch(u){console.log(u)}}async function o(){try{await ZA(Fr,XA).then(a=>{e(!0),i("/")})}catch(a){console.log(a)}}return E.jsxs("div",{className:"grid gap-6",children:[E.jsx("form",{onSubmit:s,children:E.jsxs("div",{className:"grid gap-2",children:[E.jsxs("div",{className:"grid gap-1",children:[E.jsx(Is,{className:"sr-only",htmlFor:"email",children:"Email"}),E.jsx(vr,{id:"email",placeholder:"name@example.com",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off"})]}),E.jsxs("div",{className:"grid gap-1",children:[E.jsx(Is,{className:"sr-only",htmlFor:"email",children:"Email"}),E.jsx(vr,{id:"password",placeholder:"******",type:"password"})]}),E.jsx(kn,{children:"Sign In with Email"})]})}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("span",{className:"w-full border-t"})}),E.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:E.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),E.jsxs(kn,{variant:"outline",type:"button",onClick:o,children:[E.jsx("svg",{role:"img",viewBox:"0 0 24 24",className:"mr-2 h-4 w-4",children:E.jsx("path",{fill:"currentColor",d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})}),"Google"]})]})}function fz(){return E.jsx("div",{className:"h-screen",children:E.jsxs("div",{className:"container relative hidden h-screen flex-col items-center justify-center md:grid lg:max-w-none lg:grid-cols-2 lg:px-0",children:[E.jsx(lz,{to:"/login",className:`absolute right-4 top-4 md:right-8 md:top-8 bg-secondary 
          text-secondary-foreground hover:bg-secondary/80 inline-flex items-center 
          justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background 
          transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring 
          focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50
          h-10 px-4 py-2 border-2 border-black
          `,children:"Login"}),E.jsxs("div",{className:"relative hidden h-screen flex-col bg-muted p-10 text-white lg:flex dark:border-r",children:[E.jsx("div",{className:"absolute inset-0 bg-zinc-900"}),E.jsxs("div",{className:"relative z-20 flex items-center text-lg font-medium",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:E.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})}),"Stark Industries"]}),E.jsx("div",{className:"relative z-20 mt-auto",children:E.jsxs("blockquote",{className:"space-y-2",children:[E.jsx("p",{className:"text-lg",children:"“This invoice generator has been a lifesaver, helping me create invoices quickly and impress my clients with professional designs. It's saved me heaps of time and made my workflow much smoother.”"}),E.jsx("footer",{className:"text-sm",children:"- Tony Stark"})]})})]}),E.jsx("div",{className:"lg:p-8",children:E.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[E.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[E.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Create an account"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email below to create your account"})]}),E.jsx(dz,{})]})})]})})}function hz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pz=["color"],mz=h.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=hz(t,pz);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),h.createElement("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const gz=EI({email:pf().email({message:"Please enter a valid email address."}),password:pf({message:"Please enter a valid password."})});function u1(){const t=mp(),{setIsLoggedIn:e,user:n,setUser:r}=h.useContext(gp),i=uh({resolver:hh(gz),defaultValues:{email:"",password:""}});async function s(){try{await ZA(Fr,XA).then(l=>{localStorage.setItem("user",JSON.stringify(l.user)),e(!0),r(l.user),t("/")})}catch(l){console.log(l)}}async function o(l){if(l.email&&l.password){const c={username:l.email,password:l.password};console.log(c),await Cj(Fr,c.username,c.password).then(u=>{localStorage.setItem("user",JSON.stringify(u.user)),e(!0)}).catch(u=>{console.log(u)})}}const a=new Date().getHours()<12?"Morning":"Afternoon";return E.jsx(dh,{...i,children:E.jsx("form",{onSubmit:i.handleSubmit(o),children:E.jsxs(ya,{className:"w-[350px]",children:[E.jsxs(va,{children:[E.jsx(_a,{children:"Login"}),E.jsxs(wa,{children:["Good ",a,", User! Ready to log in?"]})]}),E.jsx(Ea,{children:E.jsxs("div",{className:"grid w-full items-center gap-4",children:[E.jsx(Oi,{control:i.control,name:"email",render:({field:l})=>E.jsxs(Ur,{children:[E.jsxs("div",{className:"flex flex-col space-y-1.5",children:[E.jsx($i,{htmlFor:"email",children:"Email"}),E.jsx(Br,{children:E.jsx(vr,{placeholder:"demo@gmail.com",...l})})]}),E.jsx(zr,{})]})}),E.jsx(Oi,{control:i.control,name:"password",render:({field:l})=>E.jsxs(Ur,{children:[E.jsxs("div",{className:"flex flex-col space-y-1.5",children:[E.jsx($i,{htmlFor:"password",children:"Password"}),E.jsx(Br,{children:E.jsx(vr,{placeholder:"********",type:"password",...l})})]}),E.jsx(zr,{})]})})]})}),E.jsxs(Lc,{className:"flex flex-col",children:[i.formState.isLoading||i.formState.isSubmitting?E.jsxs(kn,{disabled:!0,className:"w-full",children:[E.jsx(mz,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):E.jsx(kn,{type:"submit",className:"w-full border-2 mb-3 ",children:"Submit"}),E.jsxs("div",{className:"w-full",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("span",{className:"w-full border-t"})}),E.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:E.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),E.jsxs(kn,{variant:"outline",type:"button",onClick:s,className:"w-full mt-2 bg-white border border-gray-300 text-gray-900 hover:bg-gray-50 focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[E.jsx("svg",{role:"img",viewBox:"0 0 24 24",className:"mr-2 h-4 w-4",children:E.jsx("path",{fill:"currentColor",d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})}),"Google"]})]})]})]})})})}const gp=h.createContext();function yz(){const[t,e]=h.useState(!1),[n,r]=h.useState();return console.log(Fr==null?void 0:Fr.currentUser),h.useEffect(()=>{const i=Fr.onAuthStateChanged(s=>{r(s),e(!!s)});return()=>{i()}},[]),E.jsx(gp.Provider,{value:{isLoggedIn:t,setIsLoggedIn:e,user:n,setUser:r},children:E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx(sz,{children:E.jsxs(X8,{children:[E.jsx(Ad,{path:"/",element:t?E.jsx(uz,{}):E.jsx(u1,{})}),E.jsx(Ad,{path:"/register",element:E.jsx(fz,{})}),E.jsx(Ad,{path:"/login",element:E.jsx(u1,{})})]})})})})}const AP="ToastProvider",[m0,vz,_z]=Iv("Toast"),[RP,Yz]=ga("Toast",[_z]),[wz,yp]=RP(AP),PP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=h.useState(null),[c,u]=h.useState(0),d=h.useRef(!1),f=h.useRef(!1);return h.createElement(m0.Provider,{scope:e},h.createElement(wz,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:h.useCallback(()=>u(g=>g+1),[]),onToastRemove:h.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f},o))};PP.propTypes={label(t){if(t.label&&typeof t.label=="string"&&!t.label.trim()){const e=`Invalid prop \`label\` supplied to \`${AP}\`. Expected non-empty \`string\`.`;return new Error(e)}return null}};const Ez="ToastViewport",Tz=["F8"],Cy="toast.viewportPause",Ay="toast.viewportResume",Sz=h.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Tz,label:i="Notifications ({hotkey})",...s}=t,o=yp(Ez,n),a=vz(n),l=h.useRef(null),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=ot(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;h.useEffect(()=>{const w=y=>{var p;r.every(T=>y[T]||y.code===T)&&((p=d.current)===null||p===void 0||p.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=l.current,y=d.current;if(v&&w&&y){const p=()=>{if(!o.isClosePausedRef.current){const b=new CustomEvent(Cy);y.dispatchEvent(b),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const b=new CustomEvent(Ay);y.dispatchEvent(b),o.isClosePausedRef.current=!1}},T=b=>{!w.contains(b.relatedTarget)&&_()},S=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",p),w.addEventListener("focusout",T),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",_)}}},[v,o.isClosePausedRef]);const m=h.useCallback(({tabbingDirection:w})=>{const p=a().map(_=>{const T=_.ref.current,S=[T,...Fz(T)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?p.reverse():p).flat()},[a]);return h.useEffect(()=>{const w=d.current;if(w){const y=p=>{const _=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!_){const A=document.activeElement,F=p.shiftKey;if(p.target===w&&F){var S;(S=c.current)===null||S===void 0||S.focus();return}const N=m({tabbingDirection:F?"backwards":"forwards"}),K=N.findIndex(O=>O===A);if($m(N.slice(K+1)))p.preventDefault();else{var b,I;F?(b=c.current)===null||b===void 0||b.focus():(I=u.current)===null||I===void 0||I.focus()}}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,m]),h.createElement(J5,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"}},v&&h.createElement(d1,{ref:c,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});$m(w)}}),h.createElement(m0.Slot,{scope:n},h.createElement(Pe.ol,ae({tabIndex:-1},s,{ref:f}))),v&&h.createElement(d1,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});$m(w)}}))}),xz="ToastFocusProxy",d1=h.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=yp(xz,n);return h.createElement(i0,ae({"aria-hidden":!0,tabIndex:0},i,{ref:e,style:{position:"fixed"},onFocus:o=>{var a;const l=o.relatedTarget;!((a=s.viewport)!==null&&a!==void 0&&a.contains(l))&&r()}}))}),vp="Toast",Iz="toast.swipeStart",bz="toast.swipeMove",Cz="toast.swipeCancel",Az="toast.swipeEnd",Rz=h.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Wl({prop:r,defaultProp:i,onChange:s});return h.createElement(Av,{present:n||a},h.createElement(kP,ae({open:a},o,{ref:e,onClose:()=>l(!1),onPause:fn(t.onPause),onResume:fn(t.onResume),onSwipeStart:Ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})))}),[Pz,kz]=RP(vp,{onClose(){}}),kP=h.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:g,...v}=t,m=yp(vp,n),[w,y]=h.useState(null),p=ot(e,O=>y(O)),_=h.useRef(null),T=h.useRef(null),S=i||m.duration,b=h.useRef(0),I=h.useRef(S),A=h.useRef(0),{onToastAdd:F,onToastRemove:j}=m,J=fn(()=>{var O;(w==null?void 0:w.contains(document.activeElement))&&((O=m.viewport)===null||O===void 0||O.focus()),o()}),N=h.useCallback(O=>{!O||O===1/0||(window.clearTimeout(A.current),b.current=new Date().getTime(),A.current=window.setTimeout(J,O))},[J]);h.useEffect(()=>{const O=m.viewport;if(O){const W=()=>{N(I.current),c==null||c()},ee=()=>{const X=new Date().getTime()-b.current;I.current=I.current-X,window.clearTimeout(A.current),l==null||l()};return O.addEventListener(Cy,ee),O.addEventListener(Ay,W),()=>{O.removeEventListener(Cy,ee),O.removeEventListener(Ay,W)}}},[m.viewport,S,l,c,N]),h.useEffect(()=>{s&&!m.isClosePausedRef.current&&N(S)},[s,S,m.isClosePausedRef,N]),h.useEffect(()=>(F(),()=>j()),[F,j]);const K=h.useMemo(()=>w?DP(w):null,[w]);return m.viewport?h.createElement(h.Fragment,null,K&&h.createElement(Nz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},K),h.createElement(Pz,{scope:n,onClose:J},Ji.createPortal(h.createElement(m0.ItemSlot,{scope:n},h.createElement(X5,{asChild:!0,onEscapeKeyDown:Ee(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||J(),m.isFocusedToastEscapeKeyDownRef.current=!1})},h.createElement(Pe.li,ae({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection},v,{ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:Ee(t.onPointerDown,O=>{O.button===0&&(_.current={x:O.clientX,y:O.clientY})}),onPointerMove:Ee(t.onPointerMove,O=>{if(!_.current)return;const W=O.clientX-_.current.x,ee=O.clientY-_.current.y,X=!!T.current,D=["left","right"].includes(m.swipeDirection),U=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ne=D?U(0,W):0,pe=D?0:U(0,ee),Te=O.pointerType==="touch"?10:2,ht={x:ne,y:pe},it={originalEvent:O,delta:ht};X?(T.current=ht,Gu(bz,d,it,{discrete:!1})):f1(ht,m.swipeDirection,Te)?(T.current=ht,Gu(Iz,u,it,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(W)>Te||Math.abs(ee)>Te)&&(_.current=null)}),onPointerUp:Ee(t.onPointerUp,O=>{const W=T.current,ee=O.target;if(ee.hasPointerCapture(O.pointerId)&&ee.releasePointerCapture(O.pointerId),T.current=null,_.current=null,W){const X=O.currentTarget,D={originalEvent:O,delta:W};f1(W,m.swipeDirection,m.swipeThreshold)?Gu(Az,g,D,{discrete:!0}):Gu(Cz,f,D,{discrete:!0}),X.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})))),m.viewport))):null});kP.propTypes={type(t){if(t.type&&!["foreground","background"].includes(t.type)){const e=`Invalid prop \`type\` supplied to \`${vp}\`. Expected \`foreground | background\`.`;return new Error(e)}return null}};const Nz=t=>{const{__scopeToast:e,children:n,...r}=t,i=yp(vp,e),[s,o]=h.useState(!1),[a,l]=h.useState(!1);return Vz(()=>o(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.createElement(_R,{asChild:!0},h.createElement(i0,r,s&&h.createElement(h.Fragment,null,i.label," ",n)))},Oz=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.createElement(Pe.div,ae({},r,{ref:e}))}),$z=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.createElement(Pe.div,ae({},r,{ref:e}))}),Dz="ToastAction",NP=h.forwardRef((t,e)=>{const{altText:n,...r}=t;return n?h.createElement($P,{altText:n,asChild:!0},h.createElement(OP,ae({},r,{ref:e}))):null});NP.propTypes={altText(t){return t.altText?null:new Error(`Missing prop \`altText\` expected on \`${Dz}\``)}};const Lz="ToastClose",OP=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=kz(Lz,n);return h.createElement($P,{asChild:!0},h.createElement(Pe.button,ae({type:"button"},r,{ref:e,onClick:Ee(t.onClick,i.onClose)})))}),$P=h.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return h.createElement(Pe.div,ae({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i,{ref:e}))});function DP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Mz(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...DP(r))}}),e}function Gu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Lx(i,s):i.dispatchEvent(s)}const f1=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Vz(t=()=>{}){const e=fn(t);Jt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Mz(t){return t.nodeType===t.ELEMENT_NODE}function Fz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $m(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}const jz=PP,LP=Sz,VP=Rz,MP=Oz,FP=$z,jP=NP,UP=OP,Uz=jz,BP=h.forwardRef(({className:t,...e},n)=>E.jsx(LP,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));BP.displayName=LP.displayName;const Bz=Sv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zP=h.forwardRef(({className:t,variant:e,...n},r)=>E.jsx(VP,{ref:r,className:we(Bz({variant:e}),t),...n}));zP.displayName=VP.displayName;const zz=h.forwardRef(({className:t,...e},n)=>E.jsx(jP,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));zz.displayName=jP.displayName;const WP=h.forwardRef(({className:t,...e},n)=>E.jsx(UP,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:E.jsx(F7,{className:"h-4 w-4"})}));WP.displayName=UP.displayName;const HP=h.forwardRef(({className:t,...e},n)=>E.jsx(MP,{ref:n,className:we("text-sm font-semibold",t),...e}));HP.displayName=MP.displayName;const qP=h.forwardRef(({className:t,...e},n)=>E.jsx(FP,{ref:n,className:we("text-sm opacity-90",t),...e}));qP.displayName=FP.displayName;function Wz(){const{toasts:t}=jc();return E.jsxs(Uz,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return E.jsxs(zP,{...s,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(HP,{children:n}),r&&E.jsx(qP,{children:r})]}),i,E.jsx(WP,{})]},e)}),E.jsx(BP,{})]})}Dm.createRoot(document.getElementById("root")).render(E.jsxs(E.Fragment,{children:[E.jsx(yz,{}),E.jsx(Wz,{})]}));
